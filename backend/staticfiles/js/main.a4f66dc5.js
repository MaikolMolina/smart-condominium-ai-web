/*! For license information please see main.a4f66dc5.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),o=n(43),a=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function u(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function c(e){if(l(e)!==e)throw Error(i(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),w=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope");var _=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var T=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=T&&e[T]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function N(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case y:return"Profiler";case g:return"StrictMode";case C:return"Suspense";case k:return"SuspenseList";case _:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case w:return(e.displayName||"Context")+".Provider";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:N(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return N(e(t))}catch(n){}}return null}var M=Array.isArray,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},F=[],L=-1;function B(e){return{current:e}}function z(e){0>L||(e.current=F[L],F[L]=null,L--)}function W(e,t){L++,F[L]=e.current,e.current=t}var U=B(null),V=B(null),H=B(null),q=B(null);function G(e,t){switch(W(H,t),W(V,e),W(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?od(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=od(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(U),W(U,e)}function K(){z(U),z(V),z(H)}function X(e){null!==e.memoizedState&&W(q,e);var t=U.current,n=ad(t,e.type);t!==n&&(W(V,e),W(U,n))}function $(e){V.current===e&&(z(U),z(V)),q.current===e&&(z(q),Xd._currentValue=j)}var Y=Object.prototype.hasOwnProperty,Q=r.unstable_scheduleCallback,J=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,oe=r.unstable_UserBlockingPriority,ae=r.unstable_NormalPriority,ie=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ue=r.unstable_setDisableYieldValue,ce=null,de=null;function pe(e){if("function"===typeof le&&ue(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ce,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(he(e)/me|0)|0},he=Math.log,me=Math.LN2;var ve=256,ge=4194304;function ye(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?o=ye(r):0!==(i&=s)?o=ye(i):n||0!==(n=s&~e)&&(o=ye(n)):0!==(s=r&~a)?o=ye(s):0!==i?o=ye(i):n||0!==(n=r&~e)&&(o=ye(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function xe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Se(){var e=ve;return 0===(4194048&(ve<<=1))&&(ve=256),e}function Ce(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function _e(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Te(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ae(){var e=D.p;return 0!==e?e:void 0===(e=window.event)?32:up(e.type)}var Pe=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Pe,Me="__reactProps$"+Pe,Oe="__reactContainer$"+Pe,De="__reactEvents$"+Pe,je="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,Le="__reactResources$"+Pe,Be="__reactMarker$"+Pe;function ze(e){delete e[Ne],delete e[Me],delete e[De],delete e[je],delete e[Fe]}function We(e){var t=e[Ne];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Oe]||n[Ne]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=bd(e);null!==e;){if(n=e[Ne])return n;e=bd(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Ne]||e[Oe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ve(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function He(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[Be]=!0}var Ge=new Set,Ke={};function Xe(e,t){$e(e,t),$e(e+"Capture",t)}function $e(e,t){for(Ke[e]=t,e=0;e<t.length;e++)Ge.add(t[e])}var Ye,Qe,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(o=t,Y.call(et,o)||!Y.call(Ze,o)&&(Je.test(o)?et[o]=!0:(Ze[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ot(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var at=!1;function it(e,t){if(!e||at)return"";at=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),u=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<u.length&&!u[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===u.length)for(r=l.length-1,o=u.length-1;1<=r&&0<=o&&l[r]!==u[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==u[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==u[o]){var c="\n"+l[r].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=r&&0<=o);break}}}finally{at=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?ot(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return ot(e.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 15:return it(e.type,!1);case 11:return it(e.type.render,!1);case 1:return it(e.type,!0);case 31:return ot("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ct(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ct(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ct(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ht=/[\n"\\]/g;function mt(e){return e.replace(ht,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,o,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?yt(e,i,ut(t)):null!=n?yt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function gt(e,t,n,r,o,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i)}function yt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function bt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(M(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ct=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Ct.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&kt(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&kt(e,a,t[a])}function Rt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _t=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Tt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var At=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,Mt=null;function Ot(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Me]||null;if(!o)throw Error(i(90));vt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&bt(e,!!n.multiple,t,!1)}}}var Dt=!1;function jt(e,t,n){if(Dt)return e(t,n);Dt=!0;try{return e(t)}finally{if(Dt=!1,(null!==Nt||null!==Mt)&&(Wu(),Nt&&(t=Nt,e=Mt,Mt=Nt=null,Ot(t),e)))for(t=0;t<e.length;t++)Ot(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Lt)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(Mp){Bt=!1}var Wt=null,Ut=null,Vt=null;function Ht(){if(Vt)return Vt;var e,t,n=Ut,r=n.length,o="value"in Wt?Wt.value:Wt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return Vt=o.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Gt(){return!0}function Kt(){return!1}function Xt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Gt:Kt,this.isPropagationStopped=Kt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Gt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Gt)},persist:function(){},isPersistent:Gt}),t}var $t,Yt,Qt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Xt(Jt),en=p({},Jt,{view:0,detail:0}),tn=Xt(en),nn=p({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?($t=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=$t=0,Qt=e),$t)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Xt(nn),on=Xt(p({},nn,{dataTransfer:0})),an=Xt(p({},en,{relatedTarget:0})),sn=Xt(p({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(p({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),un=Xt(p({},Jt,{data:0})),cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pn[e])&&!!t[e]}function hn(){return fn}var mn=Xt(p({},en,{key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Xt(p({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Xt(p({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hn})),yn=Xt(p({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),bn=Xt(p({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),xn=Xt(p({},Jt,{newState:0,oldState:0})),wn=[9,13,27,32],Sn=Lt&&"CompositionEvent"in window,Cn=null;Lt&&"documentMode"in document&&(Cn=document.documentMode);var kn=Lt&&"TextEvent"in window&&!Cn,En=Lt&&(!Sn||Cn&&8<Cn&&11>=Cn),Rn=String.fromCharCode(32),_n=!1;function In(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var An=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function Mn(e,t,n,r){Nt?Mt?Mt.push(r):Mt=[r]:Nt=r,0<(t=Hc(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var On=null,Dn=null;function jn(e){jc(e,0)}function Fn(e){if(pt(Ve(e)))return e}function Ln(e,t){if("change"===e)return t}var Bn=!1;if(Lt){var zn;if(Lt){var Wn="oninput"in document;if(!Wn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Wn="function"===typeof Un.oninput}zn=Wn}else zn=!1;Bn=zn&&(!document.documentMode||9<document.documentMode)}function Vn(){On&&(On.detachEvent("onpropertychange",Hn),Dn=On=null)}function Hn(e){if("value"===e.propertyName&&Fn(Dn)){var t=[];Mn(t,Dn,e,Pt(e)),jt(jn,t)}}function qn(e,t,n){"focusin"===e?(Vn(),Dn=n,(On=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Vn()}function Gn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Dn)}function Kn(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var $n="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if($n(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Y.call(t,o)||!$n(e[o],t[o]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jn(e,t){var n,r=Qn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Qn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=Lt&&"documentMode"in document&&11>=document.documentMode,rr=null,or=null,ar=null,ir=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ir||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},ar&&Yn(ar,r)||(ar=r,0<(r=Hc(or,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ur={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},cr={},dr={};function pr(e){if(cr[e])return cr[e];if(!ur[e])return e;var t,n=ur[e];for(t in n)if(n.hasOwnProperty(t)&&t in dr)return cr[e]=n[t];return e}Lt&&(dr=document.createElement("div").style,"AnimationEvent"in window||(delete ur.animationend.animation,delete ur.animationiteration.animation,delete ur.animationstart.animation),"TransitionEvent"in window||delete ur.transitionend.transition);var fr=pr("animationend"),hr=pr("animationiteration"),mr=pr("animationstart"),vr=pr("transitionrun"),gr=pr("transitionstart"),yr=pr("transitioncancel"),br=pr("transitionend"),xr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sr(e,t){xr.set(e,t),Xe(t,[e])}wr.push("scrollEnd");var Cr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Cr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Cr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Er=[],Rr=0,_r=0;function Ir(){for(var e=Rr,t=_r=Rr=0;t<e;){var n=Er[t];Er[t++]=null;var r=Er[t];Er[t++]=null;var o=Er[t];Er[t++]=null;var a=Er[t];if(Er[t++]=null,null!==r&&null!==o){var i=r.pending;null===i?o.next=o:(o.next=i.next,i.next=o),r.pending=o}0!==a&&Nr(n,o,a)}}function Tr(e,t,n,r){Er[Rr++]=e,Er[Rr++]=t,Er[Rr++]=n,Er[Rr++]=r,_r|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ar(e,t,n,r){return Tr(e,t,n,r),Mr(e)}function Pr(e,t){return Tr(e,null,null,t),Mr(e)}function Nr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-fe(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Mr(e){if(50<Nu)throw Nu=0,Mu=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Or={};function Dr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(e,t,n,r){return new Dr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lr(e,t){var n=e.alternate;return null===n?((n=jr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zr(e,t,n,r,o,a){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case _:return(e=jr(31,n,t,o)).elementType=_,e.lanes=a,e;case v:return Wr(n.children,o,a,t);case g:s=8,o|=24;break;case y:return(e=jr(12,n,t,2|o)).elementType=y,e.lanes=a,e;case C:return(e=jr(13,n,t,o)).elementType=C,e.lanes=a,e;case k:return(e=jr(19,n,t,o)).elementType=k,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case x:s=9;break e;case S:s=11;break e;case E:s=14;break e;case R:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=jr(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Wr(e,t,n,r){return(e=jr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=jr(6,e,null,t)).lanes=n,e}function Vr(e,t,n){return(t=jr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Gr=null,Kr=0,Xr=[],$r=0,Yr=null,Qr=1,Jr="";function Zr(e,t){Hr[qr++]=Kr,Hr[qr++]=Gr,Gr=e,Kr=t}function eo(e,t,n){Xr[$r++]=Qr,Xr[$r++]=Jr,Xr[$r++]=Yr,Yr=e;var r=Qr;e=Jr;var o=32-fe(r)-1;r&=~(1<<o),n+=1;var a=32-fe(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,Qr=1<<32-fe(t)+o|n<<o|r,Jr=a+e}else Qr=1<<a|n<<o|r,Jr=e}function to(e){null!==e.return&&(Zr(e,1),eo(e,1,0))}function no(e){for(;e===Gr;)Gr=Hr[--qr],Hr[qr]=null,Kr=Hr[--qr],Hr[qr]=null;for(;e===Yr;)Yr=Xr[--$r],Xr[$r]=null,Jr=Xr[--$r],Xr[$r]=null,Qr=Xr[--$r],Xr[$r]=null}var ro=null,oo=null,ao=!1,io=null,so=!1,lo=Error(i(519));function uo(e){throw vo(kr(Error(i(418,"")),e)),lo}function co(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ne]=e,t[Me]=r,n){case"dialog":Fc("cancel",t),Fc("close",t);break;case"iframe":case"object":case"embed":Fc("load",t);break;case"video":case"audio":for(n=0;n<Oc.length;n++)Fc(Oc[n],t);break;case"source":Fc("error",t);break;case"img":case"image":case"link":Fc("error",t),Fc("load",t);break;case"details":Fc("toggle",t);break;case"input":Fc("invalid",t),gt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),dt(t);break;case"select":Fc("invalid",t);break;case"textarea":Fc("invalid",t),wt(t,r.value,r.defaultValue,r.children),dt(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Yc(t.textContent,n)?(null!=r.popover&&(Fc("beforetoggle",t),Fc("toggle",t)),null!=r.onScroll&&Fc("scroll",t),null!=r.onScrollEnd&&Fc("scrollend",t),null!=r.onClick&&(t.onclick=Qc),t=!0):t=!1,t||uo(e)}function po(e){for(ro=e.return;ro;)switch(ro.tag){case 5:case 13:return void(so=!1);case 27:case 3:return void(so=!0);default:ro=ro.return}}function fo(e){if(e!==ro)return!1;if(!ao)return po(e),ao=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||id(e.type,e.memoizedProps)),t=!t),t&&oo&&uo(e),po(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){oo=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}oo=null}}else 27===n?(n=oo,fd(e.type)?(e=yd,yd=null,oo=e):oo=n):oo=ro?gd(e.stateNode.nextSibling):null;return!0}function ho(){oo=ro=null,ao=!1}function mo(){var e=io;return null!==e&&(null===bu?bu=e:bu.push.apply(bu,e),io=null),e}function vo(e){null===io?io=[e]:io.push(e)}var go=B(null),yo=null,bo=null;function xo(e,t,n){W(go,t._currentValue),t._currentValue=n}function wo(e){e._currentValue=go.current,z(go)}function So(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Co(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var u=0;u<t.length;u++)if(l.context===t[u]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),So(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),So(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function ko(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=o.type;$n(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===q.current){if(null===(s=o.alternate))throw Error(i(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}o=o.return}null!==e&&Co(t,e,n,r),t.flags|=262144}function Eo(e){for(e=e.firstContext;null!==e;){if(!$n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ro(e){yo=e,bo=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function _o(e){return To(yo,e)}function Io(e,t){return null===yo&&Ro(e),To(e,t)}function To(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===bo){if(null===e)throw Error(i(308));bo=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bo=bo.next=t;return n}var Ao="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Po=r.unstable_scheduleCallback,No=r.unstable_NormalPriority,Mo={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Oo(){return{controller:new Ao,data:new Map,refCount:0}}function Do(e){e.refCount--,0===e.refCount&&Po(No,function(){e.controller.abort()})}var jo=null,Fo=0,Lo=0,Bo=null;function zo(){if(0===--Fo&&null!==jo){null!==Bo&&(Bo.status="fulfilled");var e=jo;jo=null,Lo=0,Bo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Wo=O.S;O.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===jo){var n=jo=[];Fo=0,Lo=Tc(),Bo={status:"pending",value:void 0,then:function(e){n.push(e)}}}Fo++,t.then(zo,zo)}(0,t),null!==Wo&&Wo(e,t)};var Uo=B(null);function Vo(){var e=Uo.current;return null!==e?e:ru.pooledCache}function Ho(e,t){W(Uo,null===t?Uo.current:t.pool)}function qo(){var e=Vo();return null===e?null:{parent:Mo._currentValue,pool:e}}var Go=Error(i(460)),Ko=Error(i(474)),Xo=Error(i(542)),$o={then:function(){}};function Yo(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qo(){}function Jo(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qo,Qo),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qo,Qo);else{if(null!==(e=ru)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ta(e=t.reason),e}throw Zo=t,Go}}var Zo=null;function ea(){if(null===Zo)throw Error(i(459));var e=Zo;return Zo=null,e}function ta(e){if(e===Go||e===Xo)throw Error(i(483))}var na=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function aa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nu)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Mr(e),Nr(e,null,n),t}return Tr(e,r,t,n),Mr(e)}function sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}function la(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ua=!1;function ca(){if(ua){if(null!==Bo)throw Bo}}function da(e,t,n,r){ua=!1;var o=e.updateQueue;na=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,u=l.next;l.next=null,null===i?a=u:i.next=u,i=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==i&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==a){var d=o.baseState;for(i=0,c=u=l=null,s=a;;){var f=-536870913&s.lane,h=f!==s.lane;if(h?(au&f)===f:(r&f)===f){0!==f&&f===Lo&&(ua=!0),null!==c&&(c=c.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,v=s;f=t;var g=n;switch(v.tag){case 1:if("function"===typeof(m=v.payload)){d=m.call(g,d,f);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=v.payload)?m.call(g,d,f):m)||void 0===f)break e;d=p({},d,f);break e;case 2:na=!0}}null!==(f=s.callback)&&(e.flags|=64,h&&(e.flags|=8192),null===(h=o.callbacks)?o.callbacks=[f]:h.push(f))}else h={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=h,l=d):c=c.next=h,i|=f;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(h=s).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null===a&&(o.shared.lanes=0),fu|=i,e.lanes=i,e.memoizedState=d}}function pa(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function fa(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)pa(n[e],t)}var ha=B(null),ma=B(0);function va(e,t){W(ma,e=du),W(ha,t),du=e|t.baseLanes}function ga(){W(ma,du),W(ha,ha.current)}function ya(){du=ma.current,z(ha),z(ma)}var ba=0,xa=null,wa=null,Sa=null,Ca=!1,ka=!1,Ea=!1,Ra=0,_a=0,Ia=null,Ta=0;function Aa(){throw Error(i(321))}function Pa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$n(e[n],t[n]))return!1;return!0}function Na(e,t,n,r,o,a){return ba=a,xa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?Gi:Ki,Ea=!1,a=n(r,o),Ea=!1,ka&&(a=Oa(t,n,r,o)),Ma(e),a}function Ma(e){O.H=qi;var t=null!==wa&&null!==wa.next;if(ba=0,Sa=wa=xa=null,Ca=!1,_a=0,Ia=null,t)throw Error(i(300));null===e||_s||null!==(e=e.dependencies)&&Eo(e)&&(_s=!0)}function Oa(e,t,n,r){xa=e;var o=0;do{if(ka&&(Ia=null),_a=0,ka=!1,25<=o)throw Error(i(301));if(o+=1,Sa=wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}O.H=Xi,a=t(n,r)}while(ka);return a}function Da(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?Wa(t):t,e=e.useState()[0],(null!==wa?wa.memoizedState:null)!==e&&(xa.flags|=1024),t}function ja(){var e=0!==Ra;return Ra=0,e}function Fa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function La(e){if(Ca){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ca=!1}ba=0,Sa=wa=xa=null,ka=!1,_a=Ra=0,Ia=null}function Ba(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e,Sa}function za(){if(null===wa){var e=xa.alternate;e=null!==e?e.memoizedState:null}else e=wa.next;var t=null===Sa?xa.memoizedState:Sa.next;if(null!==t)Sa=t,wa=e;else{if(null===e){if(null===xa.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(wa=e).memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},null===Sa?xa.memoizedState=Sa=e:Sa=Sa.next=e}return Sa}function Wa(e){var t=_a;return _a+=1,null===Ia&&(Ia=[]),e=Jo(Ia,e,t),t=xa,null===(null===Sa?t.memoizedState:Sa.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?Gi:Ki),e}function Ua(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Wa(e);if(e.$$typeof===w)return _o(e)}throw Error(i(438,String(e)))}function Va(e){var t=null,n=xa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=xa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function Ha(e,t){return"function"===typeof t?t(e):t}function qa(e){return Ga(za(),wa,e)}function Ga(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,u=null,c=t=o.next,d=!1;do{var p=-536870913&c.lane;if(p!==c.lane?(au&p)===p:(ba&p)===p){var f=c.revertLane;if(0===f)null!==u&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),p===Lo&&(d=!0);else{if((ba&f)===f){c=c.next,f===Lo&&(d=!0);continue}p={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=p,s=a):u=u.next=p,xa.lanes|=f,fu|=f}p=c.action,Ea&&n(a,p),a=c.hasEagerState?c.eagerState:n(a,p)}else f={lane:p,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},null===u?(l=u=f,s=a):u=u.next=f,xa.lanes|=p,fu|=p;c=c.next}while(null!==c&&c!==t);if(null===u?s=a:u.next=l,!$n(a,e.memoizedState)&&(_s=!0,d&&null!==(n=Bo)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=u,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ka(e){var t=za(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);$n(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Xa(e,t,n){var r=xa,o=za(),a=ao;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!$n((wa||o).memoizedState,n);if(s&&(o.memoizedState=n,_s=!0),o=o.queue,gi(2048,8,Qa.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Sa&&1&Sa.memoizedState.tag){if(r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,o,n,t),null),null===ru)throw Error(i(349));a||0!==(124&ba)||$a(r,t,n)}return n}function $a(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=xa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ya(e,t,n,r){t.value=n,t.getSnapshot=r,Ja(t)&&Za(e)}function Qa(e,t,n){return n(function(){Ja(t)&&Za(e)})}function Ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$n(e,n)}catch(r){return!0}}function Za(e){var t=Pr(e,2);null!==t&&ju(t,e,2)}function ei(e){var t=Ba();if("function"===typeof e){var n=e;if(e=n(),Ea){pe(!0);try{n()}finally{pe(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:e},t}function ti(e,t,n,r){return e.baseState=n,Ga(e,wa,"function"===typeof r?r:Ha)}function ni(e,t,n,r,o){if(Ui(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==O.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ri(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ri(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=O.T,i={};O.T=i;try{var s=n(o,r),l=O.S;null!==l&&l(i,s),oi(e,t,s)}catch(u){ii(e,t,u)}finally{O.T=a}}else try{oi(e,t,a=n(o,r))}catch(c){ii(e,t,c)}}function oi(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ai(e,t,n)},function(n){return ii(e,t,n)}):ai(e,t,n)}function ai(e,t,n){t.status="fulfilled",t.value=n,si(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ri(e,n)))}function ii(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,si(t),t=t.next}while(t!==r)}e.action=null}function si(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function li(e,t){return t}function ui(e,t){if(ao){var n=ru.formState;if(null!==n){e:{var r=xa;if(ao){if(oo){t:{for(var o=oo,a=so;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=gd(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){oo=gd(o.nextSibling),r="F!"===o.data;break e}}uo(r)}r=!1}r&&(t=n[0])}}return(n=Ba()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:t},n.queue=r,n=Bi.bind(null,xa,r),r.dispatch=n,r=ei(!1),a=Wi.bind(null,xa,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=Ba()).queue=o,n=ni.bind(null,xa,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ci(e){return di(za(),wa,e)}function di(e,t,n){if(t=Ga(e,t,li)[0],e=qa(Ha)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Wa(t)}catch(i){if(i===Go)throw Xo;throw i}else r=t;var o=(t=za()).queue,a=o.dispatch;return n!==t.memoizedState&&(xa.flags|=2048,hi(9,{destroy:void 0,resource:void 0},pi.bind(null,o,n),null)),[r,a,e]}function pi(e,t){e.action=t}function fi(e){var t=za(),n=wa;if(null!==n)return di(t,n,e);za(),t=t.memoizedState;var r=(n=za()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function hi(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=xa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},xa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mi(){return za().memoizedState}function vi(e,t,n,r){var o=Ba();r=void 0===r?null:r,xa.flags|=e,o.memoizedState=hi(1|t,{destroy:void 0,resource:void 0},n,r)}function gi(e,t,n,r){var o=za();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==wa&&null!==r&&Pa(r,wa.memoizedState.deps)?o.memoizedState=hi(t,a,n,r):(xa.flags|=e,o.memoizedState=hi(1|t,a,n,r))}function yi(e,t){vi(8390656,8,e,t)}function bi(e,t){gi(2048,8,e,t)}function xi(e,t){return gi(4,2,e,t)}function wi(e,t){return gi(4,4,e,t)}function Si(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ci(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gi(4,4,Si.bind(null,t,e),n)}function ki(){}function Ei(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Pa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ri(e,t){var n=za();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Pa(t,r[1]))return r[0];if(r=e(),Ea){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r}function _i(e,t,n){return void 0===n||0!==(1073741824&ba)?e.memoizedState=t:(e.memoizedState=n,e=Du(),xa.lanes|=e,fu|=e,n)}function Ii(e,t,n,r){return $n(n,t)?n:null!==ha.current?(e=_i(e,n,r),$n(e,t)||(_s=!0),e):0===(42&ba)?(_s=!0,e.memoizedState=n):(e=Du(),xa.lanes|=e,fu|=e,t)}function Ti(e,t,n,r,o){var a=D.p;D.p=0!==a&&8>a?a:8;var i=O.T,s={};O.T=s,Wi(e,!1,t,n);try{var l=o(),u=O.S;if(null!==u&&u(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)zi(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Ou());else zi(e,t,r,Ou())}catch(c){zi(e,t,{then:function(){},status:"rejected",reason:c},Ou())}finally{D.p=a,O.T=i}}function Ai(){}function Pi(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=Ni(e).queue;Ti(e,o,t,j,null===n?Ai:function(){return Mi(e),n(r)})}function Ni(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Mi(e){zi(e,Ni(e).next.queue,{},Ou())}function Oi(){return _o(Xd)}function Di(){return za().memoizedState}function ji(){return za().memoizedState}function Fi(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Ou(),r=ia(t,e=aa(n),n);return null!==r&&(ju(r,t,n),sa(r,t,n)),t={cache:Oo()},void(e.payload=t)}t=t.return}}function Li(e,t,n){var r=Ou();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ui(e)?Vi(t,n):null!==(n=Ar(e,t,n,r))&&(ju(n,e,r),Hi(n,t,r))}function Bi(e,t,n){zi(e,t,n,Ou())}function zi(e,t,n,r){var o={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ui(e))Vi(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,$n(s,i))return Tr(e,t,o,0),null===ru&&Ir(),!1}catch(l){}if(null!==(n=Ar(e,t,o,r)))return ju(n,e,r),Hi(n,t,r),!0}return!1}function Wi(e,t,n,r){if(r={lane:2,revertLane:Tc(),action:r,hasEagerState:!1,eagerState:null,next:null},Ui(e)){if(t)throw Error(i(479))}else null!==(t=Ar(e,n,r,2))&&ju(t,e,2)}function Ui(e){var t=e.alternate;return e===xa||null!==t&&t===xa}function Vi(e,t){ka=Ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Hi(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_e(e,n)}}var qi={readContext:_o,use:Ua,useCallback:Aa,useContext:Aa,useEffect:Aa,useImperativeHandle:Aa,useLayoutEffect:Aa,useInsertionEffect:Aa,useMemo:Aa,useReducer:Aa,useRef:Aa,useState:Aa,useDebugValue:Aa,useDeferredValue:Aa,useTransition:Aa,useSyncExternalStore:Aa,useId:Aa,useHostTransitionStatus:Aa,useFormState:Aa,useActionState:Aa,useOptimistic:Aa,useMemoCache:Aa,useCacheRefresh:Aa},Gi={readContext:_o,use:Ua,useCallback:function(e,t){return Ba().memoizedState=[e,void 0===t?null:t],e},useContext:_o,useEffect:yi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,vi(4194308,4,Si.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){vi(4,2,e,t)},useMemo:function(e,t){var n=Ba();t=void 0===t?null:t;var r=e();if(Ea){pe(!0);try{e()}finally{pe(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=Ba();if(void 0!==n){var o=n(t);if(Ea){pe(!0);try{n(t)}finally{pe(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=Li.bind(null,xa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ba().memoizedState=e},useState:function(e){var t=(e=ei(e)).queue,n=Bi.bind(null,xa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ki,useDeferredValue:function(e,t){return _i(Ba(),e,t)},useTransition:function(){var e=ei(!1);return e=Ti.bind(null,xa,e.queue,!0,!1),Ba().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=xa,o=Ba();if(ao){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===ru)throw Error(i(349));0!==(124&au)||$a(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,yi(Qa.bind(null,r,a,e),[e]),r.flags|=2048,hi(9,{destroy:void 0,resource:void 0},Ya.bind(null,r,a,n,t),null),n},useId:function(){var e=Ba(),t=ru.identifierPrefix;if(ao){var n=Jr;t="\xab"+t+"R"+(n=(Qr&~(1<<32-fe(Qr)-1)).toString(32)+n),0<(n=Ra++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Ta++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Oi,useFormState:ui,useActionState:ui,useOptimistic:function(e){var t=Ba();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Wi.bind(null,xa,!0,n),n.dispatch=t,[e,t]},useMemoCache:Va,useCacheRefresh:function(){return Ba().memoizedState=Fi.bind(null,xa)}},Ki={readContext:_o,use:Ua,useCallback:Ei,useContext:_o,useEffect:bi,useImperativeHandle:Ci,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ri,useReducer:qa,useRef:mi,useState:function(){return qa(Ha)},useDebugValue:ki,useDeferredValue:function(e,t){return Ii(za(),wa.memoizedState,e,t)},useTransition:function(){var e=qa(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Wa(e),t]},useSyncExternalStore:Xa,useId:Di,useHostTransitionStatus:Oi,useFormState:ci,useActionState:ci,useOptimistic:function(e,t){return ti(za(),0,e,t)},useMemoCache:Va,useCacheRefresh:ji},Xi={readContext:_o,use:Ua,useCallback:Ei,useContext:_o,useEffect:bi,useImperativeHandle:Ci,useInsertionEffect:xi,useLayoutEffect:wi,useMemo:Ri,useReducer:Ka,useRef:mi,useState:function(){return Ka(Ha)},useDebugValue:ki,useDeferredValue:function(e,t){var n=za();return null===wa?_i(n,e,t):Ii(n,wa.memoizedState,e,t)},useTransition:function(){var e=Ka(Ha)[0],t=za().memoizedState;return["boolean"===typeof e?e:Wa(e),t]},useSyncExternalStore:Xa,useId:Di,useHostTransitionStatus:Oi,useFormState:fi,useActionState:fi,useOptimistic:function(e,t){var n=za();return null!==wa?ti(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Va,useCacheRefresh:ji},$i=null,Yi=0;function Qi(e){var t=Yi;return Yi+=1,null===$i&&($i=[]),Jo($i,e,t)}function Ji(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zi(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Lr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&es(a)===t.type)?(Ji(t=o(t,n.props),n),t.return=e,t):(Ji(t=zr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Wr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case h:return Ji(n=zr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Vr(t,e.mode,n)).return=e,t;case R:return p(e,t=(0,t._init)(t._payload),n)}if(M(t)||A(t))return(t=Wr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,Qi(t),n);if(t.$$typeof===w)return p(e,Io(e,t),n);Zi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case h:return n.key===o?u(e,t,n,r):null;case m:return n.key===o?c(e,t,n,r):null;case R:return f(e,t,n=(o=n._init)(n._payload),r)}if(M(n)||A(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Qi(n),r);if(n.$$typeof===w)return f(e,t,Io(e,n),r);Zi(e,n)}return null}function g(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case h:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return g(e,t,n,r=(0,r._init)(r._payload),o)}if(M(r)||A(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return g(e,t,n,Qi(r),o);if(r.$$typeof===w)return g(e,t,n,Io(t,r),o);Zi(t,r)}return null}function y(l,u,c,d){if("object"===typeof c&&null!==c&&c.type===v&&null===c.key&&(c=c.props.children),"object"===typeof c&&null!==c){switch(c.$$typeof){case h:e:{for(var b=c.key;null!==u;){if(u.key===b){if((b=c.type)===v){if(7===u.tag){n(l,u.sibling),(d=o(u,c.props.children)).return=l,l=d;break e}}else if(u.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===R&&es(b)===u.type){n(l,u.sibling),Ji(d=o(u,c.props),c),d.return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}c.type===v?((d=Wr(c.props.children,l.mode,d,c.key)).return=l,l=d):(Ji(d=zr(c.type,c.key,c.props,null,l.mode,d),c),d.return=l,l=d)}return s(l);case m:e:{for(b=c.key;null!==u;){if(u.key===b){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(d=o(u,c.children||[])).return=l,l=d;break e}n(l,u);break}t(l,u),u=u.sibling}(d=Vr(c,l.mode,d)).return=l,l=d}return s(l);case R:return y(l,u,c=(b=c._init)(c._payload),d)}if(M(c))return function(o,i,s,l){for(var u=null,c=null,d=i,h=i=0,m=null;null!==d&&h<s.length;h++){d.index>h?(m=d,d=null):m=d.sibling;var v=f(o,d,s[h],l);if(null===v){null===d&&(d=m);break}e&&d&&null===v.alternate&&t(o,d),i=a(v,i,h),null===c?u=v:c.sibling=v,c=v,d=m}if(h===s.length)return n(o,d),ao&&Zr(o,h),u;if(null===d){for(;h<s.length;h++)null!==(d=p(o,s[h],l))&&(i=a(d,i,h),null===c?u=d:c.sibling=d,c=d);return ao&&Zr(o,h),u}for(d=r(d);h<s.length;h++)null!==(m=g(d,o,h,s[h],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?h:m.key),i=a(m,i,h),null===c?u=m:c.sibling=m,c=m);return e&&d.forEach(function(e){return t(o,e)}),ao&&Zr(o,h),u}(l,u,c,d);if(A(c)){if("function"!==typeof(b=A(c)))throw Error(i(150));return function(o,s,l,u){if(null==l)throw Error(i(151));for(var c=null,d=null,h=s,m=s=0,v=null,y=l.next();null!==h&&!y.done;m++,y=l.next()){h.index>m?(v=h,h=null):v=h.sibling;var b=f(o,h,y.value,u);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(o,h),s=a(b,s,m),null===d?c=b:d.sibling=b,d=b,h=v}if(y.done)return n(o,h),ao&&Zr(o,m),c;if(null===h){for(;!y.done;m++,y=l.next())null!==(y=p(o,y.value,u))&&(s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return ao&&Zr(o,m),c}for(h=r(h);!y.done;m++,y=l.next())null!==(y=g(h,o,m,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?m:y.key),s=a(y,s,m),null===d?c=y:d.sibling=y,d=y);return e&&h.forEach(function(e){return t(o,e)}),ao&&Zr(o,m),c}(l,u,c=b.call(c),d)}if("function"===typeof c.then)return y(l,u,Qi(c),d);if(c.$$typeof===w)return y(l,u,Io(l,c),d);Zi(l,c)}return"string"===typeof c&&""!==c||"number"===typeof c||"bigint"===typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(d=o(u,c)).return=l,l=d):(n(l,u),(d=Ur(c,l.mode,d)).return=l,l=d),s(l)):n(l,u)}return function(e,t,n,r){try{Yi=0;var o=y(e,t,n,r);return $i=null,o}catch(i){if(i===Go||i===Xo)throw i;var a=jr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var ns=ts(!0),rs=ts(!1),os=B(null),as=null;function is(e){var t=e.alternate;W(cs,1&cs.current),W(os,e),null===as&&(null===t||null!==ha.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(W(cs,cs.current),W(os,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else ls()}function ls(){W(cs,cs.current),W(os,os.current)}function us(e){z(os),as===e&&(as=null),z(cs)}var cs=B(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||vd(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ps(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ou(),o=aa(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(ju(t,e,r),sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ou(),o=aa(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=ia(e,o,r))&&(ju(t,e,r),sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ou(),r=aa(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ia(e,r,n))&&(ju(t,e,n),sa(t,e,n))}};function hs(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,r)||!Yn(o,a))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function vs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=p({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}var gs="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function ys(e){gs(e)}function bs(e){console.error(e)}function xs(e){gs(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Cs(e,t,n){return(n=aa(n)).tag=3,n.payload={element:null},n.callback=function(){ws(e,t)},n}function ks(e){return(e=aa(e)).tag=3,e}function Es(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){Ss(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){Ss(t,n,r),"function"!==typeof o&&(null===ku?ku=new Set([this]):ku.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Rs=Error(i(461)),_s=!1;function Is(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function Ts(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Ro(t),r=Na(e,t,n,i,a,o),s=ja(),null===e||_s?(ao&&s&&to(t),t.flags|=1,Is(e,t,r,o),t.child):(Fa(e,t,o),$s(e,t,o))}function As(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Fr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ps(e,t,a,r,o))}if(a=e.child,!Ys(e,o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(i,r)&&e.ref===t.ref)return $s(e,t,o)}return t.flags|=1,(e=Lr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ps(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Yn(a,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=a,!Ys(e,o))return t.lanes=e.lanes,$s(e,t,o);0!==(131072&e.flags)&&(_s=!0)}}return Ds(e,t,n,r,o)}function Ns(e,t,n){var r=t.pendingProps,o=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==a?a.baseLanes|n:n,null!==e){for(o=t.child=e.child,a=0;null!==o;)a=a|o.lanes|o.childLanes,o=o.sibling;t.childLanes=a&~r}else t.childLanes=0,t.child=null;return Ms(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ms(e,t,null!==a?a.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ho(0,null!==a?a.cachePool:null),null!==a?va(t,a):ga(),ss(t)}else null!==a?(Ho(0,a.cachePool),va(t,a),ls(),t.memoizedState=null):(null!==e&&Ho(0,null),ga(),ls());return Is(e,t,o,n),t.child}function Ms(e,t,n,r){var o=Vo();return o=null===o?null:{parent:Mo._currentValue,pool:o},t.memoizedState={baseLanes:n,cachePool:o},null!==e&&Ho(0,null),ga(),ss(t),null!==e&&ko(e,t,r,!0),null}function Os(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ds(e,t,n,r,o){return Ro(t),n=Na(e,t,n,r,void 0,o),r=ja(),null===e||_s?(ao&&r&&to(t),t.flags|=1,Is(e,t,n,o),t.child):(Fa(e,t,o),$s(e,t,o))}function js(e,t,n,r,o,a){return Ro(t),t.updateQueue=null,n=Oa(t,r,n,o),Ma(e),r=ja(),null===e||_s?(ao&&r&&to(t),t.flags|=1,Is(e,t,n,a),t.child):(Fa(e,t,a),$s(e,t,a))}function Fs(e,t,n,r,o){if(Ro(t),null===t.stateNode){var a=Or,i=n.contextType;"object"===typeof i&&null!==i&&(a=_o(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=fs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ra(t),i=n.contextType,a.context="object"===typeof i&&null!==i?_o(i):Or,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(ps(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&fs.enqueueReplaceState(a,a.state,null),da(t,r,a,o),ca(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=vs(n,s);a.props=l;var u=a.context,c=n.contextType;i=Or,"object"===typeof c&&null!==c&&(i=_o(c));var d=n.getDerivedStateFromProps;c="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||u!==i)&&ms(t,a,r,i),na=!1;var p=t.memoizedState;a.state=p,da(t,r,a,o),ca(),u=t.memoizedState,s||p!==u||na?("function"===typeof d&&(ps(t,n,d,r),u=t.memoizedState),(l=na||hs(t,n,l,r,p,u,i))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,oa(e,t),c=vs(n,i=t.memoizedProps),a.props=c,d=t.pendingProps,p=a.context,u=n.contextType,l=Or,"object"===typeof u&&null!==u&&(l=_o(u)),(u="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==d||p!==l)&&ms(t,a,r,l),na=!1,p=t.memoizedState,a.state=p,da(t,r,a,o),ca();var f=t.memoizedState;i!==d||p!==f||na||null!==e&&null!==e.dependencies&&Eo(e.dependencies)?("function"===typeof s&&(ps(t,n,s,r),f=t.memoizedState),(c=na||hs(t,n,c,r,p,f,l)||null!==e&&null!==e.dependencies&&Eo(e.dependencies))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Os(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,o),t.child=ns(t,null,n,o)):Is(e,t,n,o),t.memoizedState=a.state,e=t.child):e=$s(e,t,o),e}function Ls(e,t,n,r){return ho(),t.flags|=256,Is(e,t,n,r),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zs(e){return{baseLanes:e,cachePool:qo()}}function Ws(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=vu),e}function Us(e,t,n){var r,o=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&cs.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ao){if(a?is(t):ls(),ao){var l,u=oo;if(l=u){e:{for(l=u,u=so;8!==l.nodeType;){if(!u){u=null;break e}if(null===(l=gd(l.nextSibling))){u=null;break e}}u=l}null!==u?(t.memoizedState={dehydrated:u,treeContext:null!==Yr?{id:Qr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},(l=jr(18,null,null,0)).stateNode=u,l.return=t,t.child=l,ro=t,oo=null,l=!0):l=!1}l||uo(t)}if(null!==(u=t.memoizedState)&&null!==(u=u.dehydrated))return vd(u)?t.lanes=32:t.lanes=536870912,null;us(t)}return u=o.children,o=o.fallback,a?(ls(),u=Hs({mode:"hidden",children:u},a=t.mode),o=Wr(o,a,n,null),u.return=t,o.return=t,u.sibling=o,t.child=u,(a=t.child).memoizedState=zs(n),a.childLanes=Ws(e,r,n),t.memoizedState=Bs,o):(is(t),Vs(t,u))}if(null!==(l=e.memoizedState)&&null!==(u=l.dehydrated)){if(s)256&t.flags?(is(t),t.flags&=-257,t=qs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),a=o.fallback,u=t.mode,o=Hs({mode:"visible",children:o.children},u),(a=Wr(a,u,n,null)).flags|=2,o.return=t,a.return=t,o.sibling=a,t.child=o,ns(t,e.child,null,n),(o=t.child).memoizedState=zs(n),o.childLanes=Ws(e,r,n),t.memoizedState=Bs,t=a);else if(is(t),vd(u)){if(r=u.nextSibling&&u.nextSibling.dataset)var c=r.dgst;r=c,(o=Error(i(419))).stack="",o.digest=r,vo({value:o,source:null,stack:null}),t=qs(e,t,n)}else if(_s||ko(e,t,n,!1),r=0!==(n&e.childLanes),_s||r){if(null!==(r=ru)&&(0!==(o=0!==((o=0!==(42&(o=n&-n))?1:Ie(o))&(r.suspendedLanes|n))?0:o)&&o!==l.retryLane))throw l.retryLane=o,Pr(e,o),ju(r,e,o),Rs;"$?"===u.data||Ku(),t=qs(e,t,n)}else"$?"===u.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,oo=gd(u.nextSibling),ro=t,ao=!0,io=null,so=!1,null!==e&&(Xr[$r++]=Qr,Xr[$r++]=Jr,Xr[$r++]=Yr,Qr=e.id,Jr=e.overflow,Yr=t),(t=Vs(t,o.children)).flags|=4096);return t}return a?(ls(),a=o.fallback,u=t.mode,c=(l=e.child).sibling,(o=Lr(l,{mode:"hidden",children:o.children})).subtreeFlags=65011712&l.subtreeFlags,null!==c?a=Lr(c,a):(a=Wr(a,u,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,null===(u=e.child.memoizedState)?u=zs(n):(null!==(l=u.cachePool)?(c=Mo._currentValue,l=l.parent!==c?{parent:c,pool:c}:l):l=qo(),u={baseLanes:u.baseLanes|n,cachePool:l}),a.memoizedState=u,a.childLanes=Ws(e,r,n),t.memoizedState=Bs,o):(is(t),e=(n=e.child).sibling,(n=Lr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Vs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=jr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qs(e,t,n){return ns(t,e.child,null,n),(e=Vs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Gs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),So(e.return,t,n)}function Ks(e,t,n,r,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function Xs(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;if(Is(e,t,r.children,n),0!==(2&(r=cs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Gs(e,n,t);else if(19===e.tag)Gs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(W(cs,r),o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ds(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ks(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ds(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ks(t,!0,n,null,a);break;case"together":Ks(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fu|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(ko(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ys(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Eo(e))}function Qs(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)_s=!0;else{if(!Ys(e,n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),xo(0,Mo,e.memoizedState.cache),ho();break;case 27:case 5:X(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:xo(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(is(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(is(t),null!==(e=$s(e,t,n))?e.sibling:null);is(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(ko(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return Xs(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(cs,cs.current),r)break;return null;case 22:case 23:return t.lanes=0,Ns(e,t,n);case 24:xo(0,Mo,e.memoizedState.cache)}return $s(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ao&&0!==(1048576&t.flags)&&eo(t,Kr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,o=r._init;if(r=o(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((o=r.$$typeof)===S){t.tag=11,t=Ts(null,t,r,e,n);break e}if(o===E){t.tag=14,t=As(null,t,r,e,n);break e}}throw t=N(r)||r,Error(i(306,t,""))}Fr(r)?(e=vs(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=Ds(null,t,r,e,n))}return t;case 0:return Ds(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,o=vs(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,oa(e,t),da(t,r,null,n);var s=t.memoizedState;if(r=s.cache,xo(0,Mo,r),r!==a.cache&&Co(t,[Mo],n,!0),ca(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,r,n);break e}if(r!==o){vo(o=kr(Error(i(424)),t)),t=Ls(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(oo=gd(e.firstChild),ro=t,ao=!0,io=null,so=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===o){t=$s(e,t,n);break e}Is(e,t,r,n)}t=t.child}return t;case 26:return Os(e,t),null===e?(n=Id(t.type,null,t.pendingProps,null))?t.memoizedState=n:ao||(n=t.type,e=t.pendingProps,(r=rd(H.current).createElement(n))[Ne]=t,r[Me]=e,ed(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Id(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ao&&(r=t.stateNode=xd(t.type,t.pendingProps,H.current),ro=t,so=!0,o=oo,fd(t.type)?(yd=o,oo=gd(r.firstChild)):oo=o),Is(e,t,t.pendingProps.children,n),Os(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ao&&((o=r=oo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=gd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,so))?(t.stateNode=r,ro=t,oo=gd(r.firstChild),so=!1,o=!0):o=!1),o||uo(t)),X(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,id(o,a)?r=null:null!==s&&id(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=Na(e,t,Da,null,null,n),Xd._currentValue=o),Os(e,t),Is(e,t,r,n),t.child;case 6:return null===e&&ao&&((e=n=oo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,so))?(t.stateNode=n,ro=t,oo=null,e=!0):e=!1),e||uo(t)),null;case 13:return Us(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):Is(e,t,r,n),t.child;case 11:return Ts(e,t,t.type,t.pendingProps,n);case 7:return Is(e,t,t.pendingProps,n),t.child;case 8:case 12:return Is(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,xo(0,t.type,r.value),Is(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Ro(t),r=r(o=_o(o)),t.flags|=1,Is(e,t,r,n),t.child;case 14:return As(e,t,t.type,t.pendingProps,n);case 15:return Ps(e,t,t.type,t.pendingProps,n);case 19:return Xs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=Lr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ns(e,t,n);case 24:return Ro(t),r=_o(Mo),null===e?(null===(o=Vo())&&(o=ru,a=Oo(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},ra(t),xo(0,Mo,o)):(0!==(e.lanes&n)&&(oa(e,t),da(t,null,null,n),ca()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),xo(0,Mo,r)):(r=a.cache,xo(0,Mo,r),r!==o.cache&&Co(t,[Mo],n,!0))),Is(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Wd(t)){if(null!==(t=os.current)&&((4194048&au)===au?null!==as:(62914560&au)!==au&&0===(536870912&au)||t!==as))throw Zo=$o,Ko;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ce():536870912,e.lanes|=t,gu|=t)}function tl(e,t){if(!ao)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(no(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wo(Mo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(fo(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,mo())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Js(t),null!==n?(nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Js(t),nl(t),Zs(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Js(t),nl(t),t.flags&=-16777217),null;case 27:$(t),n=H.current;var o=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}e=U.current,fo(t)?co(t):(e=xd(o,r,n),t.stateNode=e,Js(t))}return nl(t),null;case 5:if($(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return nl(t),null}if(e=U.current,fo(t))co(t);else{switch(o=rd(H.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?o.createElement(n,{is:r.is}):o.createElement(n)}}e[Ne]=t,e[Me]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)e.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(ed(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Js(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=H.current,fo(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=ro))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[Ne]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Yc(e.nodeValue,n)))||uo(t)}else(e=rd(e).createTextNode(r))[Ne]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[Ne]=t}else ho(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else o=mo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(us(t),t):(us(t),null)}if(us(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool);var a=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return K(),null===e&&zc(t.stateNode.containerInfo),nl(t),null;case 10:return wo(t.type),nl(t),null;case 19:if(z(cs),null===(o=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(a=o.rendering))if(r)tl(o,!1);else{if(0!==pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tl(o,!1),e=a.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return W(cs,1&cs.current|2),t.child}e=e.sibling}null!==o.tail&&te()>Su&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ds(a))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!a.alternate&&!ao)return nl(t),null}else 2*te()-o.renderingStartTime>Su&&536870912!==n&&(t.flags|=128,r=!0,tl(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=o.last)?e.sibling=a:t.child=a,o.last=a)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=te(),t.sibling=null,e=cs.current,W(cs,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return us(t),ya(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Uo),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wo(Mo),nl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function ol(e,t){switch(no(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wo(Mo),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 13:if(us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(cs),null;case 4:return K(),null;case 10:return wo(t.type),null;case 22:case 23:return us(t),ya(),null!==e&&z(Uo),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wo(Mo),null;default:return null}}function al(e,t){switch(no(t),t.tag){case 3:wo(Mo),K();break;case 26:case 27:case 5:$(t);break;case 4:K();break;case 13:us(t);break;case 19:z(cs);break;case 10:wo(t.type);break;case 22:case 23:us(t),ya(),null!==e&&z(Uo);break;case 24:wo(Mo)}}function il(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==o)}}catch(s){cc(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,o=t;var l=n,u=s;try{u()}catch(c){cc(o,l,c)}}}r=r.next}while(r!==a)}}catch(c){cc(t,t.return,c)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{fa(t,n)}catch(r){cc(e,e.return,r)}}}function ul(e,t,n){n.props=vs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){cc(e,t,r)}}function cl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(o){cc(e,t,o)}}function dl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(o){cc(e,t,o)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){cc(e,t,a)}else n.current=null}function pl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(o){cc(e,e.return,o)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,u=null,c=null,d=null;for(h in n){var p=n[h];if(n.hasOwnProperty(h)&&null!=p)switch(h){case"checked":case"value":break;case"defaultValue":u=p;default:r.hasOwnProperty(h)||Jc(e,t,h,null,r,p)}}for(var f in r){var h=r[f];if(p=n[f],r.hasOwnProperty(f)&&(null!=h||null!=p))switch(f){case"type":a=h;break;case"name":o=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":s=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:h!==p&&Jc(e,t,f,h,r,p)}}return void vt(e,s,l,u,c,d,a,o);case"select":for(a in h=s=l=f=null,n)if(u=n[a],n.hasOwnProperty(a)&&null!=u)switch(a){case"value":break;case"multiple":h=u;default:r.hasOwnProperty(a)||Jc(e,t,a,null,r,u)}for(o in r)if(a=r[o],u=n[o],r.hasOwnProperty(o)&&(null!=a||null!=u))switch(o){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Jc(e,t,o,a,r,u)}return t=l,n=s,r=h,void(null!=f?bt(e,!!n,f,!1):!!r!==!!n&&(null!=t?bt(e,!!n,t,!0):bt(e,!!n,n?[]:"",!1)));case"textarea":for(l in h=f=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Jc(e,t,l,null,r,o)}for(s in r)if(o=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":f=o;break;case"defaultValue":h=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&Jc(e,t,s,o,r,a)}return void xt(e,f,h);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Jc(e,t,m,null,r,f);for(u in r)if(f=r[u],h=n[u],r.hasOwnProperty(u)&&f!==h&&(null!=f||null!=h))if("selected"===u)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Jc(e,t,u,f,r,h);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Jc(e,t,v,null,r,f);for(c in r)if(f=r[c],h=n[c],r.hasOwnProperty(c)&&f!==h&&(null!=f||null!=h))switch(c){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:Jc(e,t,c,f,r,h)}return;default:if(Rt(t)){for(var g in n)f=n[g],n.hasOwnProperty(g)&&void 0!==f&&!r.hasOwnProperty(g)&&Zc(e,t,g,void 0,r,f);for(d in r)f=r[d],h=n[d],!r.hasOwnProperty(d)||f===h||void 0===f&&void 0===h||Zc(e,t,d,f,r,h);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&Jc(e,t,y,null,r,f);for(p in r)f=r[p],h=n[p],!r.hasOwnProperty(p)||f===h||null==f&&null==h||Jc(e,t,p,f,r,h)}(r,e.type,n,t),r[Me]=t}catch(o){cc(e,e.return,o)}}function hl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function vl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qc));else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(vl(e,t,n),e=e.sibling;null!==e;)vl(e,t,n),e=e.sibling}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);ed(t,r,n),t[Ne]=e,t[Me]=n}catch(a){cc(e,e.return,a)}}var bl=!1,xl=!1,wl=!1,Sl="function"===typeof WeakSet?WeakSet:Set,Cl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&il(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(i){cc(n,n.return,i)}else{var o=vs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){cc(n,n.return,s)}}64&r&&ll(n),512&r&&cl(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{fa(e,t)}catch(i){cc(n,n.return,i)}}break;case 27:null===t&&4&r&&yl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&pl(n),512&r&&cl(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Al(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=hc.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||bl)){t=null!==t&&null!==t.memoizedState||xl,o=bl;var a=xl;bl=r,(xl=t)&&!a?Bl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),bl=o,xl=a}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ze(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Rl=null,_l=!1;function Il(e,t,n){for(n=n.child;null!==n;)Tl(e,t,n),n=n.sibling}function Tl(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ce,n)}catch(a){}switch(n.tag){case 26:xl||dl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:xl||dl(n,t);var r=Rl,o=_l;fd(n.type)&&(Rl=n.stateNode,_l=!1),Il(e,t,n),wd(n.stateNode),Rl=r,_l=o;break;case 5:xl||dl(n,t);case 6:if(r=Rl,o=_l,Rl=null,Il(e,t,n),_l=o,null!==(Rl=r))if(_l)try{(9===Rl.nodeType?Rl.body:"HTML"===Rl.nodeName?Rl.ownerDocument.body:Rl).removeChild(n.stateNode)}catch(i){cc(n,t,i)}else try{Rl.removeChild(n.stateNode)}catch(i){cc(n,t,i)}break;case 18:null!==Rl&&(_l?(hd(9===(e=Rl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),_p(e)):hd(Rl,n.stateNode));break;case 4:r=Rl,o=_l,Rl=n.stateNode.containerInfo,_l=!0,Il(e,t,n),Rl=r,_l=o;break;case 0:case 11:case 14:case 15:xl||sl(2,n,t),xl||sl(4,n,t),Il(e,t,n);break;case 1:xl||(dl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&ul(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:xl=(r=xl)||null!==n.memoizedState,Il(e,t,n),xl=r;break;default:Il(e,t,n)}}function Al(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{_p(e)}catch(n){cc(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Sl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Sl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Nl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(fd(l.type)){Rl=l.stateNode,_l=!1;break e}break;case 5:Rl=l.stateNode,_l=!1;break e;case 3:case 4:Rl=l.stateNode.containerInfo,_l=!0;break e}l=l.return}if(null===Rl)throw Error(i(160));Tl(a,s,o),Rl=null,_l=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Ol(t,e),t=t.sibling}var Ml=null;function Ol(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nl(t,e),Dl(e),4&r&&(sl(3,e,e.return),il(3,e),sl(5,e,e.return));break;case 1:Nl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),64&r&&bl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Ml;if(Nl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Be]||a[Ne]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),ed(a,r,n),a[Ne]=e,qe(a),r=a;break e;case"link":var s=Bd("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(s=Bd("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}ed(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[Ne]=e,qe(a),r=a}e.stateNode=r}else zd(o,e.type,e.stateNode);else e.stateNode=Od(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?zd(o,e.type,e.stateNode):Od(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nl(t,e),Dl(e),512&r&&(xl||null===n||dl(n,n.return)),32&e.flags){o=e.stateNode;try{St(o,"")}catch(h){cc(e,e.return,h)}}4&r&&null!=e.stateNode&&fl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(wl=!0);break;case 6:if(Nl(t,e),Dl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(h){cc(e,e.return,h)}}break;case 3:if(Ld=null,o=Ml,Ml=kd(t.containerInfo),Nl(t,e),Ml=o,Dl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{_p(t.containerInfo)}catch(h){cc(e,e.return,h)}wl&&(wl=!1,jl(e));break;case 4:r=Ml,Ml=kd(e.stateNode.containerInfo),Nl(t,e),Dl(e),Ml=r;break;case 12:default:Nl(t,e),Dl(e);break;case 13:Nl(t,e),Dl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(wu=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:o=null!==e.memoizedState;var u=null!==n&&null!==n.memoizedState,c=bl,d=xl;if(bl=c||o,xl=d||u,Nl(t,e),xl=d,bl=c,Dl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||u||bl||xl||Ll(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){u=n=t;try{if(a=u.stateNode,o)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var p=u.memoizedProps.style,f=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(h){cc(u,u.return,h)}}}else if(6===t.tag){if(null===n){u=t;try{u.stateNode.nodeValue=o?"":u.memoizedProps}catch(h){cc(u,u.return,h)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Nl(t,e),Dl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Dl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(hl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;gl(e,ml(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(St(a,""),n.flags&=-33),gl(e,ml(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;vl(e,ml(e),s);break;default:throw Error(i(161))}}catch(l){cc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function jl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;jl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function Ll(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),Ll(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&ul(t,t.return,n),Ll(t);break;case 27:wd(t.stateNode);case 26:case 5:dl(t,t.return),Ll(t);break;case 22:null===t.memoizedState&&Ll(t);break;default:Ll(t)}e=e.sibling}}function Bl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Bl(o,a,n),il(4,a);break;case 1:if(Bl(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(u){cc(r,r.return,u)}if(null!==(o=(r=a).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)pa(l[o],s)}catch(u){cc(r,r.return,u)}}n&&64&i&&ll(a),cl(a,a.return);break;case 27:yl(a);case 26:case 5:Bl(o,a,n),n&&null===r&&4&i&&pl(a),cl(a,a.return);break;case 12:Bl(o,a,n);break;case 13:Bl(o,a,n),n&&4&i&&Al(o,a);break;case 22:null===a.memoizedState&&Bl(o,a,n),cl(a,a.return);break;case 30:break;default:Bl(o,a,n)}t=t.sibling}}function zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Do(n))}function Wl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Vl(e,t,n,r),t=t.sibling}function Vl(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&o&&il(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Do(e)));break;case 12:if(2048&o){Ul(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){cc(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?Ul(e,t,n,r):ql(e,t):2&a._visibility?Ul(e,t,n,r):(a._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&o&&zl(i,t);break;case 24:Ul(e,t,n,r),2048&o&&Wl(t.alternate,t)}}function Hl(e,t,n,r,o){for(o=o&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,i=t,s=n,l=r,u=i.flags;switch(i.tag){case 0:case 11:case 15:Hl(a,i,s,l,o),il(8,i);break;case 23:break;case 22:var c=i.stateNode;null!==i.memoizedState?2&c._visibility?Hl(a,i,s,l,o):ql(a,i):(c._visibility|=2,Hl(a,i,s,l,o)),o&&2048&u&&zl(i.alternate,i);break;case 24:Hl(a,i,s,l,o),o&&2048&u&&Wl(i.alternate,i);break;default:Hl(a,i,s,l,o)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:ql(n,r),2048&o&&zl(r.alternate,r);break;case 24:ql(n,r),2048&o&&Wl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Gl=8192;function Kl(e){if(e.subtreeFlags&Gl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:Kl(e),e.flags&Gl&&null!==e.memoizedState&&function(e,t,n){if(null===Ud)throw Error(i(475));var r=Ud;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var o=Td(n.href),a=e.querySelector(Ad(o));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hd.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=a,void qe(a);a=e.ownerDocument||e,n=Pd(n),(o=Sd.get(o))&&jd(n,o),qe(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.instance=a}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hd.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:Kl(e);break;case 3:case 4:var t=Ml;Ml=kd(e.stateNode.containerInfo),Kl(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Gl,Gl=16777216,Kl(e),Gl=t):Kl(e))}}function $l(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,Zl(r,e)}$l(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jl(e)):Yl(e)}}function Jl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Cl=r,Zl(r,e)}$l(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Jl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Jl(t));break;default:Jl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Cl;){var n=Cl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Do(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Cl=r;else e:for(n=e;null!==Cl;){var o=(r=Cl).sibling,a=r.return;if(El(r),r===n){Cl=null;break e}if(null!==o){o.return=a,Cl=o;break e}Cl=a}}}var eu={getCacheForType:function(e){var t=_o(Mo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tu="function"===typeof WeakMap?WeakMap:Map,nu=0,ru=null,ou=null,au=0,iu=0,su=null,lu=!1,uu=!1,cu=!1,du=0,pu=0,fu=0,hu=0,mu=0,vu=0,gu=0,yu=null,bu=null,xu=!1,wu=0,Su=1/0,Cu=null,ku=null,Eu=0,Ru=null,_u=null,Iu=0,Tu=0,Au=null,Pu=null,Nu=0,Mu=null;function Ou(){if(0!==(2&nu)&&0!==au)return au&-au;if(null!==O.T){return 0!==Lo?Lo:Tc()}return Ae()}function Du(){0===vu&&(vu=0===(536870912&au)||ao?Se():536870912);var e=os.current;return null!==e&&(e.flags|=32),vu}function ju(e,t,n){(e!==ru||2!==iu&&9!==iu)&&null===e.cancelPendingCommit||(Vu(e,0),zu(e,au,vu,!1)),Ee(e,n),0!==(2&nu)&&e===ru||(e===ru&&(0===(2&nu)&&(hu|=n),4===pu&&zu(e,au,vu,!1)),Sc(e))}function Fu(e,t,n){if(0!==(6&nu))throw Error(i(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||xe(e,t),o=r?function(e,t){var n=nu;nu|=2;var r=qu(),o=Gu();ru!==e||au!==t?(Cu=null,Su=te()+500,Vu(e,t)):uu=xe(e,t);e:for(;;)try{if(0!==iu&&null!==ou){t=ou;var a=su;t:switch(iu){case 1:iu=0,su=null,Zu(e,t,a,1);break;case 2:case 9:if(Yo(a)){iu=0,su=null,Ju(t);break}t=function(){2!==iu&&9!==iu||ru!==e||(iu=7),Sc(e)},a.then(t,t);break e;case 3:iu=7;break e;case 4:iu=5;break e;case 7:Yo(a)?(iu=0,su=null,Ju(t)):(iu=0,su=null,Zu(e,t,a,7));break;case 5:var s=null;switch(ou.tag){case 26:s=ou.memoizedState;case 5:case 27:var l=ou;if(!s||Wd(s)){iu=0,su=null;var u=l.sibling;if(null!==u)ou=u;else{var c=l.return;null!==c?(ou=c,ec(c)):ou=null}break t}}iu=0,su=null,Zu(e,t,a,5);break;case 6:iu=0,su=null,Zu(e,t,a,6);break;case 8:Uu(),pu=6;break e;default:throw Error(i(462))}}Yu();break}catch(d){Hu(e,d)}return bo=yo=null,O.H=r,O.A=o,nu=n,null!==ou?0:(ru=null,au=0,Ir(),pu)}(e,t):Xu(e,t,!0),a=r;;){if(0===o){uu&&!r&&zu(e,t,0,!1);break}if(n=e.current.alternate,!a||Bu(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=yu;var u=l.current.memoizedState.isDehydrated;if(u&&(Vu(l,s).flags|=256),2!==(s=Xu(l,s,!1))){if(cu&&!u){l.errorRecoveryDisabledLanes|=a,hu|=a,o=4;break e}a=bu,bu=o,null!==a&&(null===bu?bu=a:bu.push.apply(bu,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){Vu(e,0),zu(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:zu(r,t,vu,!lu);break e;case 2:bu=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=wu+300-te())){if(zu(r,t,vu,!lu),0!==be(r,0,!0))break e;r.timeoutHandle=ld(Lu.bind(null,r,n,bu,Cu,xu,t,vu,hu,gu,lu,a,2,-0,0),o)}else Lu(r,n,bu,Cu,xu,t,vu,hu,gu,lu,a,0,-0,0)}break}o=Xu(e,t,!1),a=!1}Sc(e)}function Lu(e,t,n,r,o,a,s,l,u,c,d,p,f,h){if(e.timeoutHandle=-1,(8192&(p=t.subtreeFlags)||16785408===(16785408&p))&&(Ud={stylesheets:null,count:0,unsuspend:Vd},Xl(t),null!==(p=function(){if(null===Ud)throw Error(i(475));var e=Ud;return e.stylesheets&&0===e.count&&Gd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Gd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=p(nc.bind(null,e,t,a,n,r,o,s,l,u,d,1,f,h)),void zu(e,a,s,!c);nc(e,t,a,n,r,o,s,l,u)}function Bu(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!$n(a(),o))return!1}catch(i){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zu(e,t,n,r){t&=~mu,t&=~hu,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-fe(o),i=1<<a;r[a]=-1,o&=~i}0!==n&&Re(e,n,t)}function Wu(){return 0!==(6&nu)||(Cc(0,!1),!1)}function Uu(){if(null!==ou){if(0===iu)var e=ou.return;else bo=yo=null,La(e=ou),$i=null,Yi=0,e=ou;for(;null!==e;)al(e.alternate,e),e=e.return;ou=null}}function Vu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ud(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uu(),ru=e,ou=n=Lr(e.current,null),au=t,iu=0,su=null,lu=!1,uu=xe(e,t),cu=!1,gu=vu=mu=hu=fu=pu=0,bu=yu=null,xu=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-fe(r),a=1<<o;t|=e[o],r&=~a}return du=t,Ir(),n}function Hu(e,t){xa=null,O.H=qi,t===Go||t===Xo?(t=ea(),iu=3):t===Ko?(t=ea(),iu=4):iu=t===Rs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,su=t,null===ou&&(pu=1,ws(e,kr(t,e.current)))}function qu(){var e=O.H;return O.H=qi,null===e?qi:e}function Gu(){var e=O.A;return O.A=eu,e}function Ku(){pu=4,lu||(4194048&au)!==au&&null!==os.current||(uu=!0),0===(134217727&fu)&&0===(134217727&hu)||null===ru||zu(ru,au,vu,!1)}function Xu(e,t,n){var r=nu;nu|=2;var o=qu(),a=Gu();ru===e&&au===t||(Cu=null,Vu(e,t)),t=!1;var i=pu;e:for(;;)try{if(0!==iu&&null!==ou){var s=ou,l=su;switch(iu){case 8:Uu(),i=6;break e;case 3:case 2:case 9:case 6:null===os.current&&(t=!0);var u=iu;if(iu=0,su=null,Zu(e,s,l,u),n&&uu){i=0;break e}break;default:u=iu,iu=0,su=null,Zu(e,s,l,u)}}$u(),i=pu;break}catch(c){Hu(e,c)}return t&&e.shellSuspendCounter++,bo=yo=null,nu=r,O.H=o,O.A=a,null===ou&&(ru=null,au=0,Ir()),i}function $u(){for(;null!==ou;)Qu(ou)}function Yu(){for(;null!==ou&&!Z();)Qu(ou)}function Qu(e){var t=Qs(e.alternate,e,du);e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Ju(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=js(n,t,t.pendingProps,t.type,void 0,au);break;case 11:t=js(n,t,t.pendingProps,t.type.render,t.ref,au);break;case 5:La(t);default:al(n,t),t=Qs(n,t=ou=Br(t,du),du)}e.memoizedProps=e.pendingProps,null===t?ec(e):ou=t}function Zu(e,t,n,r){bo=yo=null,La(t),$i=null,Yi=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&ko(t,n,o,!0),null!==(n=os.current)){switch(n.tag){case 13:return null===as?Ku():null===n.alternate&&0===pu&&(pu=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===$o?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),dc(e,r,o)),!1;case 22:return n.flags|=65536,r===$o?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),dc(e,r,o)),!1}throw Error(i(435,n.tag))}return dc(e,r,o),Ku(),!1}if(ao)return null!==(t=os.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==lo&&vo(kr(e=Error(i(422),{cause:r}),n))):(r!==lo&&vo(kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=kr(r,n),la(e,o=Cs(e.stateNode,r,o)),4!==pu&&(pu=2)),!1;var a=Error(i(520),{cause:r});if(a=kr(a,n),null===yu?yu=[a]:yu.push(a),4!==pu&&(pu=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,la(n,e=Cs(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===ku||!ku.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Es(o=ks(o),e,n,r),la(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,au))return pu=1,ws(e,kr(n,e.current)),void(ou=null)}catch(a){if(null!==o)throw ou=o,a;return pu=1,ws(e,kr(n,e.current)),void(ou=null)}32768&t.flags?(ao||1===r?e=!0:uu||0!==(536870912&au)?e=!1:(lu=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=os.current)&&13===r.tag&&(r.flags|=16384))),tc(t,e)):ec(t)}function ec(e){var t=e;do{if(0!==(32768&t.flags))return void tc(t,lu);e=t.return;var n=rl(t.alternate,t,du);if(null!==n)return void(ou=n);if(null!==(t=t.sibling))return void(ou=t);ou=t=e}while(null!==t);0===pu&&(pu=5)}function tc(e,t){do{var n=ol(e.alternate,e);if(null!==n)return n.flags&=32767,void(ou=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ou=e);ou=e=n}while(null!==e);pu=6,ou=null}function nc(e,t,n,r,o,a,s,l,u){e.cancelPendingCommit=null;do{sc()}while(0!==Eu);if(0!==(6&nu))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var c=31-fe(n),d=1<<c;s[c]=0,l[c]=-1;var p=u[c];if(null!==p)for(u[c]=null,c=0;c<p.length;c++){var f=p[c];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=_r,s,l,u),e===ru&&(ou=ru=null,au=0),_u=t,Ru=e,Iu=n,Tu=a,Au=o,Pu=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(ae,function(){return lc(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,o=D.p,D.p=2,s=nu,nu|=4;try{!function(e,t){if(e=e.containerInfo,td=np,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(v){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===o&&(l=s),f===a&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},np=!1,Cl=t;null!==Cl;)if(e=(t=Cl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Cl=e;else for(;null!==Cl;){switch(a=(t=Cl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=vs(n.type,o,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(g){cc(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Cl=e;break}Cl=t.return}}(e,t)}finally{nu=s,D.p=o,O.T=r}}Eu=1,rc(),oc(),ac()}}function rc(){if(1===Eu){Eu=0;var e=Ru,t=_u,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var o=nu;nu|=4;try{Ol(t,e);var a=nd,i=er(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&Zn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var u=l.start,c=l.end;if(void 0===c&&(c=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(c,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var f=p.getSelection(),h=s.textContent.length,m=Math.min(l.start,h),v=void 0===l.end?m:Math.min(l.end,h);!f.extend&&m>v&&(i=v,v=m,m=i);var g=Jn(s,m),y=Jn(s,v);if(g&&y&&(1!==f.rangeCount||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(g.node,g.offset),f.removeAllRanges(),m>v?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=s;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var x=d[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}np=!!td,nd=td=null}finally{nu=o,D.p=r,O.T=n}}e.current=t,Eu=2}}function oc(){if(2===Eu){Eu=0;var e=Ru,t=_u,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=D.p;D.p=2;var o=nu;nu|=4;try{kl(e,t.alternate,t)}finally{nu=o,D.p=r,O.T=n}}Eu=3}}function ac(){if(4===Eu||3===Eu){Eu=0,ee();var e=Ru,t=_u,n=Iu,r=Pu;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Eu=5:(Eu=0,_u=Ru=null,ic(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(ku=null),Te(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ce,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,o=D.p,D.p=2,O.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];a(s.value,{componentStack:s.stack})}}finally{O.T=t,D.p=o}}0!==(3&Iu)&&sc(),Sc(e),o=e.pendingLanes,0!==(4194090&n)&&0!==(42&o)?e===Mu?Nu++:(Nu=0,Mu=e):Nu=0,Cc(0,!1)}}function ic(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Do(t)))}function sc(e){return rc(),oc(),ac(),lc()}function lc(){if(5!==Eu)return!1;var e=Ru,t=Tu;Tu=0;var n=Te(Iu),r=O.T,o=D.p;try{D.p=32>n?32:n,O.T=null,n=Au,Au=null;var a=Ru,s=Iu;if(Eu=0,_u=Ru=null,Iu=0,0!==(6&nu))throw Error(i(331));var l=nu;if(nu|=4,Ql(a.current),Vl(a,a.current,s,n),nu=l,Cc(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ce,a)}catch(u){}return!0}finally{D.p=o,O.T=r,ic(e,t)}}function uc(e,t,n){t=kr(n,t),null!==(e=ia(e,t=Cs(e.stateNode,t,2),2))&&(Ee(e,2),Sc(e))}function cc(e,t,n){if(3===e.tag)uc(e,e,n);else for(;null!==t;){if(3===t.tag){uc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ku||!ku.has(r))){e=kr(n,e),null!==(r=ia(t,n=ks(2),2))&&(Es(n,r,t,e),Ee(r,2),Sc(r));break}}t=t.return}}function dc(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tu;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(cu=!0,o.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ru===e&&(au&n)===n&&(4===pu||3===pu&&(62914560&au)===au&&300>te()-wu?0===(2&nu)&&Vu(e,0):mu|=n,gu===au&&(gu=0)),Sc(e)}function fc(e,t){0===t&&(t=Ce()),null!==(e=Pr(e,t))&&(Ee(e,t),Sc(e))}function hc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),fc(e,n)}var vc=null,gc=null,yc=!1,bc=!1,xc=!1,wc=0;function Sc(e){e!==gc&&null===e.next&&(null===gc?vc=gc=e:gc=gc.next=e),bc=!0,yc||(yc=!0,dd(function(){0!==(6&nu)?Q(re,kc):Ec()}))}function Cc(e,t){if(!xc&&bc){xc=!0;do{for(var n=!1,r=vc;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var i=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-fe(42|e)+1)-1,a=201326741&(a&=o&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Ic(r,a))}else a=au,0===(3&(a=be(r,r===ru?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||xe(r,a)||(n=!0,Ic(r,a));r=r.next}}while(n);xc=!1}}function kc(){Ec()}function Ec(){bc=yc=!1;var e=0;0!==wc&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wc),wc=0);for(var t=te(),n=null,r=vc;null!==r;){var o=r.next,a=Rc(r,t);0===a?(r.next=null,null===n?vc=o:n.next=o,null===o&&(gc=n)):(n=r,(0!==e||0!==(3&a))&&(bc=!0)),r=o}Cc(e,!1)}function Rc(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-fe(a),s=1<<i,l=o[i];-1===l?0!==(s&n)&&0===(s&r)||(o[i]=we(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=au,n=be(e,e===(t=ru)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===iu||9===iu)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&J(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||xe(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&J(r),Te(n)){case 2:case 8:n=oe;break;case 32:default:n=ae;break;case 268435456:n=se}return r=_c.bind(null,e),n=Q(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&J(r),e.callbackPriority=2,e.callbackNode=null,2}function _c(e,t){if(0!==Eu&&5!==Eu)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(sc()&&e.callbackNode!==n)return null;var r=au;return 0===(r=be(e,e===ru?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fu(e,r,t),Rc(e,te()),null!=e.callbackNode&&e.callbackNode===n?_c.bind(null,e):null)}function Ic(e,t){if(sc())return null;Fu(e,t,!0)}function Tc(){return 0===wc&&(wc=Se()),wc}function Ac(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Tt(""+e)}function Pc(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Nc=0;Nc<wr.length;Nc++){var Mc=wr[Nc];Sr(Mc.toLowerCase(),"on"+(Mc[0].toUpperCase()+Mc.slice(1)))}Sr(fr,"onAnimationEnd"),Sr(hr,"onAnimationIteration"),Sr(mr,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(vr,"onTransitionRun"),Sr(gr,"onTransitionStart"),Sr(yr,"onTransitionCancel"),Sr(br,"onTransitionEnd"),$e("onMouseEnter",["mouseout","mouseover"]),$e("onMouseLeave",["mouseout","mouseover"]),$e("onPointerEnter",["pointerout","pointerover"]),$e("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dc=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Oc));function jc(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=u;try{a(o)}catch(c){gs(c)}o.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,u=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=u;try{a(o)}catch(c){gs(c)}o.currentTarget=null,a=l}}}}function Fc(e,t){var n=t[De];void 0===n&&(n=t[De]=new Set);var r=e+"__bubble";n.has(r)||(Wc(t,e,2,!1),n.add(r))}function Lc(e,t,n){var r=0;t&&(r|=4),Wc(n,e,r,t)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function zc(e){if(!e[Bc]){e[Bc]=!0,Ge.forEach(function(t){"selectionchange"!==t&&(Dc.has(t)||Lc(t,!1,e),Lc(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bc]||(t[Bc]=!0,Lc("selectionchange",!1,t))}}function Wc(e,t,n,r){switch(up(t)){case 2:var o=rp;break;case 8:o=op;break;default:o=ap}n=o.bind(null,t,n,e),o=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Uc(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o)break;if(4===i)for(i=r.return;null!==i;){var u=i.tag;if((3===u||4===u)&&i.stateNode.containerInfo===o)return;i=i.return}for(;null!==s;){if(null===(i=We(s)))return;if(5===(u=i.tag)||6===u||26===u||27===u){r=a=i;continue e}s=s.parentNode}}r=r.return}jt(function(){var r=a,o=Pt(n),i=[];e:{var s=xr.get(e);if(void 0!==s){var u=Zt,c=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":u=mn;break;case"focusin":c="focus",u=an;break;case"focusout":c="blur",u=an;break;case"beforeblur":case"afterblur":u=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=gn;break;case fr:case hr:case mr:u=sn;break;case br:u=yn;break;case"scroll":case"scrollend":u=tn;break;case"wheel":u=bn;break;case"copy":case"cut":case"paste":u=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=vn;break;case"toggle":case"beforetoggle":u=xn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),f=d?null!==s?s+"Capture":null:s;d=[];for(var h,m=r;null!==m;){var v=m;if(h=v.stateNode,5!==(v=v.tag)&&26!==v&&27!==v||null===h||null===f||null!=(v=Ft(m,f))&&d.push(Vc(m,v,h)),p)break;m=m.return}0<d.length&&(s=new u(s,c,null,n,o),i.push({event:s,listeners:d}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===At||!(c=n.relatedTarget||n.fromElement)||!We(c)&&!c[Oe])&&(u||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?We(c):null)&&(p=l(c),d=c.tag,c!==p||5!==d&&27!==d&&6!==d)&&(c=null)):(u=null,c=r),u!==c)){if(d=rn,v="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,v="onPointerLeave",f="onPointerEnter",m="pointer"),p=null==u?s:Ve(u),h=null==c?s:Ve(c),(s=new d(v,m+"leave",u,n,o)).target=p,s.relatedTarget=h,v=null,We(o)===r&&((d=new d(f,m+"enter",c,n,o)).target=h,d.relatedTarget=p,v=d),p=v,u&&c)e:{for(f=c,m=0,h=d=u;h;h=qc(h))m++;for(h=0,v=f;v;v=qc(v))h++;for(;0<m-h;)d=qc(d),m--;for(;0<h-m;)f=qc(f),h--;for(;m--;){if(d===f||null!==f&&d===f.alternate)break e;d=qc(d),f=qc(f)}d=null}else d=null;null!==u&&Gc(i,s,u,d,!1),null!==c&&null!==p&&Gc(i,p,c,d,!0)}if("select"===(u=(s=r?Ve(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Ln;else if(Nn(s))if(Bn)g=Xn;else{g=Gn;var y=qn}else!(u=s.nodeName)||"input"!==u.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Rt(r.elementType)&&(g=Ln):g=Kn;switch(g&&(g=g(e,r))?Mn(i,g,n,o):(y&&y(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&yt(s,"number",s.value)),y=r?Ve(r):window,e){case"focusin":(Nn(y)||"true"===y.contentEditable)&&(rr=y,or=r,ar=null);break;case"focusout":ar=or=rr=null;break;case"mousedown":ir=!0;break;case"contextmenu":case"mouseup":case"dragend":ir=!1,sr(i,n,o);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(i,n,o)}var b;if(Sn)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else An?In(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(En&&"ko"!==n.locale&&(An||"onCompositionStart"!==x?"onCompositionEnd"===x&&An&&(b=Ht()):(Ut="value"in(Wt=o)?Wt.value:Wt.textContent,An=!0)),0<(y=Hc(r,x)).length&&(x=new un(x,e,null,n,o),i.push({event:x,listeners:y}),b?x.data=b:null!==(b=Tn(n))&&(x.data=b))),(b=kn?function(e,t){switch(e){case"compositionend":return Tn(t);case"keypress":return 32!==t.which?null:(_n=!0,Rn);case"textInput":return(e=t.data)===Rn&&_n?null:e;default:return null}}(e,n):function(e,t){if(An)return"compositionend"===e||!Sn&&In(e,t)?(e=Ht(),Vt=Ut=Wt=null,An=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=Hc(r,"onBeforeInput")).length&&(y=new un("onBeforeInput","beforeinput",null,n,o),i.push({event:y,listeners:x}),y.data=b)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Ac((o[Me]||null).action),i=r.submitter;i&&null!==(t=(t=i[Me]||null)?Ac(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new Zt("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==wc){var e=i?Pc(o,i):new FormData(o);Pi(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Pc(o,i):new FormData(o),Pi(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(i,e,r,n,o)}jc(i,t)})}function Vc(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hc(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=Ft(e,n))&&r.unshift(Vc(e,o,a)),null!=(o=Ft(e,t))&&r.push(Vc(e,o,a))),3===e.tag)return r;e=e.return}return[]}function qc(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Gc(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===u||(l=u,o?null!=(u=Ft(n,a))&&i.unshift(Vc(n,u,l)):o||null!=(u=Ft(n,a))&&i.push(Vc(n,u,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Kc=/\r\n?/g,Xc=/\u0000|\uFFFD/g;function $c(e){return("string"===typeof e?e:""+e).replace(Kc,"\n").replace(Xc,"")}function Yc(e,t){return t=$c(t),$c(e)===t}function Qc(){}function Jc(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Et(e,r,a);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&Jc(e,t,"name",o.name,o,null),Jc(e,t,"formEncType",o.formEncType,o,null),Jc(e,t,"formMethod",o.formMethod,o,null),Jc(e,t,"formTarget",o.formTarget,o,null)):(Jc(e,t,"encType",o.encType,o,null),Jc(e,t,"method",o.method,o,null),Jc(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Tt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Tt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fc("beforetoggle",e),Fc("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=_t.get(n)||n,r)}}function Zc(e,t,n,r,o,a){switch(n){case"style":Et(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Fc("scroll",e);break;case"onScrollEnd":null!=r&&Fc("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Qc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ke.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Me]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fc("error",e),Fc("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Jc(e,t,r,s,n,null)}}return a&&Jc(e,t,"srcSet",n.srcSet,n,null),void(o&&Jc(e,t,"src",n.src,n,null));case"input":Fc("invalid",e);var l=r=s=a=null,u=null,c=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":a=d;break;case"type":s=d;break;case"checked":u=d;break;case"defaultChecked":c=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:Jc(e,t,o,d,n,null)}}return gt(e,r,l,u,c,s,a,!1),void dt(e);case"select":for(a in Fc("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:Jc(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?bt(e,!!o,t,!1):null!=n&&bt(e,!!o,n,!0));case"textarea":for(s in Fc("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:Jc(e,t,s,l,n,null)}return wt(e,o,a,r),void dt(e);case"option":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))if("selected"===u)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else Jc(e,t,u,o,n,null);return;case"dialog":Fc("beforetoggle",e),Fc("toggle",e),Fc("cancel",e),Fc("close",e);break;case"iframe":case"object":Fc("load",e);break;case"video":case"audio":for(o=0;o<Oc.length;o++)Fc(Oc[o],e);break;case"image":Fc("error",e),Fc("load",e);break;case"details":Fc("toggle",e);break;case"embed":case"source":case"link":Fc("error",e),Fc("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Jc(e,t,c,o,n,null)}return;default:if(Rt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&Zc(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&Jc(e,t,l,o,n,null))}var td=null,nd=null;function rd(e){return 9===e.nodeType?e:e.ownerDocument}function od(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function id(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var ld="function"===typeof setTimeout?setTimeout:void 0,ud="function"===typeof clearTimeout?clearTimeout:void 0,cd="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof cd?function(e){return cd.resolve(null).then(e).catch(pd)}:ld;function pd(e){setTimeout(function(){throw e})}function fd(e){return"head"===e}function hd(e,t){var n=t,r=0,o=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0<r&&8>r){n=r;var i=e.ownerDocument;if(1&n&&wd(i.documentElement),2&n&&wd(i.body),4&n)for(wd(n=i.head),i=n.firstChild;i;){var s=i.nextSibling,l=i.nodeName;i[Be]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=s}}if(0===o)return e.removeChild(a),void _p(t);o--}else"$"===n||"$?"===n||"$!"===n?o++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);_p(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),ze(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function vd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var yd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function xd(e,t,n){switch(t=rd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ze(e)}var Sd=new Map,Cd=new Set;function kd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=D.d;D.d={f:function(){var e=Ed.f(),t=Wu();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Mi(t):Ed.r(e)},D:function(e){Ed.D(e),_d("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),_d("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var r=Rd;if(r&&e&&t){var o='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+mt(n.imageSizes)+'"]')):o+='[href="'+mt(e)+'"]';var a=o;switch(t){case"style":a=Td(e);break;case"script":a=Nd(e)}Sd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Sd.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Ad(a))||"script"===t&&r.querySelector(Md(a))||(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Rd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Nd(e)}if(!Sd.has(a)&&(e=p({rel:"modulepreload",href:e},t),Sd.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(a)))return}ed(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Ed.X(e,t);var n=Rd;if(n&&e){var r=He(n).hoistableScripts,o=Nd(e),a=r.get(o);a||((a=n.querySelector(Md(o)))||(e=p({src:e,async:!0},t),(t=Sd.get(o))&&Fd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Ed.S(e,t,n);var r=Rd;if(r&&e){var o=He(r).hoistableStyles,a=Td(e);t=t||"default";var i=o.get(a);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Ad(a)))s.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Sd.get(a))&&jd(e,n);var l=i=r.createElement("link");qe(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Dd(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(a,i)}}},M:function(e,t){Ed.M(e,t);var n=Rd;if(n&&e){var r=He(n).hoistableScripts,o=Nd(e),a=r.get(o);a||((a=n.querySelector(Md(o)))||(e=p({src:e,async:!0,type:"module"},t),(t=Sd.get(o))&&Fd(e,t),qe(a=n.createElement("script")),ed(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Rd="undefined"===typeof document?null:document;function _d(e,t,n){var r=Rd;if(r&&"string"===typeof t&&t){var o=mt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Cd.has(o)||(Cd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(ed(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Id(e,t,n,r){var o,a,s,l,u=(u=H.current)?kd(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Td(n.href),(r=(n=He(u).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Td(n.href);var c=He(u).hoistableStyles,d=c.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=u.querySelector(Ad(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Sd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sd.set(e,n),c||(o=u,a=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),ed(a,"link",s),qe(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Nd(n),(r=(n=He(u).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Td(e){return'href="'+mt(e)+'"'}function Ad(e){return'link[rel="stylesheet"]['+e+"]"}function Pd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Nd(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Od(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var o=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),ed(r,"style",o),Dd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Td(n.href);var a=e.querySelector(Ad(o));if(a)return t.state.loading|=4,t.instance=a,qe(a),a;r=Pd(n),(o=Sd.get(o))&&jd(r,o),qe(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.state.loading|=4,Dd(a,n.precedence,e),t.instance=a;case"script":return a=Nd(n.src),(o=e.querySelector(Md(a)))?(t.instance=o,qe(o),o):(r=n,(o=Sd.get(a))&&Fd(r=p({},n),o),qe(o=(e=e.ownerDocument||e).createElement("script")),ed(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Dd(r,n.precedence,e));return t.instance}function Dd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)a=s;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function jd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function Bd(e,t,n){if(null===Ld){var r=new Map,o=Ld=new Map;o.set(n,r)}else(r=(o=Ld).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Be]||a[Ne]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(a):r.set(i,[a])}}return r}function zd(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Wd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Ud=null;function Vd(){}function Hd(){if(this.count--,0===this.count)if(this.stylesheets)Gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qd=null;function Gd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qd=new Map,t.forEach(Kd,e),qd=null,Hd.call(e))}function Kd(e,t){if(!(4&t.state.loading)){var n=qd.get(e);if(n)var r=n.get(null);else{n=new Map,qd.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var i=o[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(o=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,o),n.set(i,o),this.count++,r=Hd.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:w,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function $d(e,t,n,r,o,a,i,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Yd(e,t,n,r,o,a,i,s,l,u,c,d){return e=new $d(e,t,n,i,s,l,u,d),t=1,!0===a&&(t|=24),a=jr(3,null,null,t),e.current=a,a.stateNode=e,(t=Oo()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ra(a),e}function Qd(e){return e?e=Or:Or}function Jd(e,t,n,r,o,a){o=Qd(o),null===r.context?r.context=o:r.pendingContext=o,(r=aa(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=ia(e,r,t))&&(ju(n,0,t),sa(n,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ep(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function tp(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&ju(t,0,67108864),ep(e,67108864)}}var np=!0;function rp(e,t,n,r){var o=O.T;O.T=null;var a=D.p;try{D.p=2,ap(e,t,n,r)}finally{D.p=a,O.T=o}}function op(e,t,n,r){var o=O.T;O.T=null;var a=D.p;try{D.p=8,ap(e,t,n,r)}finally{D.p=a,O.T=o}}function ap(e,t,n,r){if(np){var o=ip(r);if(null===o)Uc(e,t,r,sp,n),yp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return dp=bp(dp,e,t,n,r,o),!0;case"dragenter":return pp=bp(pp,e,t,n,r,o),!0;case"mouseover":return fp=bp(fp,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return hp.set(a,bp(hp.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,mp.set(a,bp(mp.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(yp(e,r),4&t&&-1<gp.indexOf(e)){for(;null!==o;){var a=Ue(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=ye(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-fe(i);s.entanglements[1]|=l,i&=~l}Sc(a),0===(6&nu)&&(Su=te()+500,Cc(0,!1))}}break;case 13:null!==(s=Pr(a,2))&&ju(s,0,2),Wu(),ep(a,2)}if(null===(a=ip(r))&&Uc(e,t,r,sp,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else Uc(e,t,r,null,n)}}function ip(e){return lp(e=Pt(e))}var sp=null;function lp(e){if(sp=null,null!==(e=We(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sp=e,null}function up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case oe:return 8;case ae:case ie:return 32;case se:return 268435456;default:return 32}default:return 32}}var cp=!1,dp=null,pp=null,fp=null,hp=new Map,mp=new Map,vp=[],gp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":dp=null;break;case"dragenter":case"dragleave":pp=null;break;case"mouseover":case"mouseout":fp=null;break;case"pointerover":case"pointerout":hp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mp.delete(t.pointerId)}}function bp(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Ue(t))&&tp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function xp(e){var t=We(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=u(n)))return e.blockedOn=t,void function(e,t){var n=D.p;try{return D.p=e,t()}finally{D.p=n}}(e.priority,function(){if(13===n.tag){var e=Ou();e=Ie(e);var t=Pr(n,e);null!==t&&ju(t,0,e),ep(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function wp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ip(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&tp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);At=r,n.target.dispatchEvent(r),At=null,t.shift()}return!0}function Sp(e,t,n){wp(e)&&n.delete(t)}function Cp(){cp=!1,null!==dp&&wp(dp)&&(dp=null),null!==pp&&wp(pp)&&(pp=null),null!==fp&&wp(fp)&&(fp=null),hp.forEach(Sp),mp.forEach(Sp)}function kp(e,t){e.blockedOn===t&&(e.blockedOn=null,cp||(cp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Cp)))}var Ep=null;function Rp(e){Ep!==e&&(Ep=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ep===e&&(Ep=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===lp(r||n))continue;break}var a=Ue(n);null!==a&&(e.splice(t,3),t-=3,Pi(a,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function _p(e){function t(t){return kp(t,e)}null!==dp&&kp(dp,e),null!==pp&&kp(pp,e),null!==fp&&kp(fp,e),hp.forEach(t),mp.forEach(t);for(var n=0;n<vp.length;n++){var r=vp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<vp.length&&null===(n=vp[0]).blockedOn;)xp(n),null===n.blockedOn&&vp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],i=o[Me]||null;if("function"===typeof a)i||Rp(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(o=a,i=a[Me]||null)s=i.formAction;else if(null!==lp(o))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Rp(n)}}}function Ip(e){this._internalRoot=e}function Tp(e){this._internalRoot=e}Tp.prototype.render=Ip.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Jd(t.current,Ou(),e,t,null,null)},Tp.prototype.unmount=Ip.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Wu(),t[Oe]=null}},Tp.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ae();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vp.length&&0!==t&&t<vp[n].priority;n++);vp.splice(n,0,e),0===n&&xp(e)}};var Ap=o.version;if("19.1.1"!==Ap)throw Error(i(527,Ap,"19.1.1"));D.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return c(o),e;if(a===r)return c(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Pp={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Np=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Np.isDisabled&&Np.supportsFiber)try{ce=Np.inject(Pp),de=Np}catch(Op){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=ys,a=bs,l=xs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,r,o,a,l,0,null),e[Oe]=t.current,zc(e),new Ip(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=ys,l=bs,u=xs,c=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(u=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(c=n.formState)),(t=Yd(e,1,!0,t,0,r,o,a,l,u,0,c)).context=Qd(null),n=t.current,(o=aa(r=Ie(r=Ou()))).callback=null,ia(n,o,r),n=r,t.current.lanes=n,Ee(t,n),Sc(t),e[Oe]=t.current,zc(e),new Tp(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},82:()=>{},219:(e,t,n)=>{"use strict";var r=n(763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?i:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=i;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var o=f(n);o&&o!==h&&e(t,o,r)}var i=c(n);d&&(i=i.concat(d(n)));for(var s=l(t),m=l(n),v=0;v<i.length;++v){var g=i[v];if(!a[g]&&(!r||!r[g])&&(!m||!m[g])&&(!s||!s[g])){var y=p(n,g);try{u(t,g,y)}catch(b){}}}}return t}},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,m(x,g.prototype),x.isPureReactComponent=!0;var w=Array.isArray,S={H:null,A:null,T:null,S:null,V:null},C=Object.prototype.hasOwnProperty;function k(e,t,r,o,a,i){return r=i.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:i}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var R=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(){}function T(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,u,c=!1;if(null===e)c=!0;else switch(s){case"bigint":case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0;break;case p:return T((c=e._init)(e._payload),t,o,a,i)}}if(c)return i=i(e),c=""===a?"."+_(e,0):a,w(i)?(o="",null!=c&&(o=c.replace(R,"$&/")+"/"),T(i,t,o,"",function(e){return e})):null!=i&&(E(i)&&(l=i,u=o+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(R,"$&/")+"/")+c,i=k(l.type,u,void 0,0,0,l.props)),t.push(i)),1;c=0;var d,h=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)c+=T(a=e[m],t,o,s=h+_(a,m),i);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)c+=T(a=a.value,t,o,s=h+_(a,m++),i);else if("object"===s){if("function"===typeof e.then)return T(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return c}function A(e,t,n){if(null==e)return e;var r=[],o=0;return T(e,r,"","",function(e){return t.call(n,e,o++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=o,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(o=""+t.key),t)!C.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];r.children=i}return k(e.type,o,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return k(e,a,void 0,0,0,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),o=S.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,N)}catch(a){N(a)}finally{S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=S.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.1.1"},318:()=>{},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler");Symbol.for("react.provider");var s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case i:case a:case c:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case p:case s:return e;default:return t}}case r:return t}}}t.Hy=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===i||e===a||e===c||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===p||e.$$typeof===l||e.$$typeof===s||e.$$typeof===u||e.$$typeof===m||void 0!==e.getModuleId)}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=u(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=u(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=u(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},745:()=>{},763:(e,t,n)=>{"use strict";e.exports=n(983)},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>a(l,n))u<o&&0>a(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<o&&0>a(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function S(e){if(v=!1,w(e),!m)if(null!==r(u))m=!0,k||(k=!0,C());else{var t=r(c);null!==t&&N(S,t.startTime-e)}}var C,k=!1,E=-1,R=5,_=-1;function I(){return!!g||!(t.unstable_now()-_<R)}function T(){if(g=!1,k){var e=t.unstable_now();_=e;var n=!0;try{e:{m=!1,v&&(v=!1,b(E),E=-1),h=!0;var a=f;try{t:{for(w(e),p=r(u);null!==p&&!(p.expirationTime>e&&I());){var i=p.callback;if("function"===typeof i){p.callback=null,f=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,w(e),n=!0;break t}p===r(u)&&o(u),w(e)}else o(u);p=r(u)}if(null!==p)n=!0;else{var l=r(c);null!==l&&N(S,l.startTime-e),n=!1}}break e}finally{p=null,f=a,h=!1}n=void 0}}finally{n?C():k=!1}}}if("function"===typeof x)C=function(){x(T)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=T,C=function(){P.postMessage(null)}}else C=function(){y(T,0)};function N(e,n){E=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(c,e),null===r(u)&&e===r(c)&&(v?(b(E),E=-1):v=!0,N(S,a-i))):(e.sortIndex=s,n(u,e),m||h||(m=!0,k||(k=!0,C()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case d:case a:case s:case i:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case v:case m:case l:return e;default:return t}}case o:return t}}}function S(e){return w(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=m,t.Portal=o,t.Profiler=s,t.StrictMode=i,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||w(e)===c},t.isConcurrentMode=S,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===p},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===v},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===o},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===i},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===d||e===s||e===i||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=w}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>am,hasStandardBrowserEnv:()=>sm,hasStandardBrowserWebWorkerEnv:()=>lm,navigator:()=>im,origin:()=>um});var t=n(43),r=n.t(t,2),o=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function d(e,t){if(null==e)return{};var n,r,o=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const p=t.createContext(null);function f(){return t.useContext(p)}const h="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var m=n(579);const v=function(e){const{children:n,theme:r}=e,o=f(),a=t.useMemo(()=>{const e=null===o?u({},r):function(e,t){if("function"===typeof t)return t(e);return u(u({},e),t)}(o,r);return null!=e&&(e[h]=null!==o),e},[r,o]);return(0,m.jsx)(p.Provider,{value:a,children:n})};var g=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Gk){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),y=Math.abs,b=String.fromCharCode,x=Object.assign;function w(e){return e.trim()}function S(e,t,n){return e.replace(t,n)}function C(e,t){return e.indexOf(t)}function k(e,t){return 0|e.charCodeAt(t)}function E(e,t,n){return e.slice(t,n)}function R(e){return e.length}function _(e){return e.length}function I(e,t){return t.push(e),e}var T=1,A=1,P=0,N=0,M=0,O="";function D(e,t,n,r,o,a,i){return{value:e,root:t,parent:n,type:r,props:o,children:a,line:T,column:A,length:i,return:""}}function j(e,t){return x(D("",null,null,"",null,null,0),e,{length:-e.length},t)}function F(){return M=N>0?k(O,--N):0,A--,10===M&&(A=1,T--),M}function L(){return M=N<P?k(O,N++):0,A++,10===M&&(A=1,T++),M}function B(){return k(O,N)}function z(){return N}function W(e,t){return E(O,e,t)}function U(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function V(e){return T=A=1,P=R(O=e),N=0,[]}function H(e){return O="",e}function q(e){return w(W(N-1,X(91===e?e+2:40===e?e+1:e)))}function G(e){for(;(M=B())&&M<33;)L();return U(e)>2||U(M)>3?"":" "}function K(e,t){for(;--t&&L()&&!(M<48||M>102||M>57&&M<65||M>70&&M<97););return W(e,z()+(t<6&&32==B()&&32==L()))}function X(e){for(;L();)switch(M){case e:return N;case 34:case 39:34!==e&&39!==e&&X(M);break;case 40:41===e&&X(e);break;case 92:L()}return N}function $(e,t){for(;L()&&e+M!==57&&(e+M!==84||47!==B()););return"/*"+W(t,N-1)+"*"+b(47===e?e:L())}function Y(e){for(;!U(B());)L();return W(e,N)}var Q="-ms-",J="-moz-",Z="-webkit-",ee="comm",te="rule",ne="decl",re="@keyframes";function oe(e,t){for(var n="",r=_(e),o=0;o<r;o++)n+=t(e[o],o,e,t)||"";return n}function ae(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ne:return e.return=e.return||e.value;case ee:return"";case re:return e.return=e.value+"{"+oe(e.children,r)+"}";case te:e.value=e.props.join(",")}return R(n=oe(e.children,r))?e.return=e.value+"{"+n+"}":""}function ie(e){return H(se("",null,null,null,[""],e=V(e),0,[0],e))}function se(e,t,n,r,o,a,i,s,l){for(var u=0,c=0,d=i,p=0,f=0,h=0,m=1,v=1,g=1,y=0,x="",w=o,E=a,_=r,T=x;v;)switch(h=y,y=L()){case 40:if(108!=h&&58==k(T,d-1)){-1!=C(T+=S(q(y),"&","&\f"),"&\f")&&(g=-1);break}case 34:case 39:case 91:T+=q(y);break;case 9:case 10:case 13:case 32:T+=G(h);break;case 92:T+=K(z()-1,7);continue;case 47:switch(B()){case 42:case 47:I(ue($(L(),z()),t,n),l);break;default:T+="/"}break;case 123*m:s[u++]=R(T)*g;case 125*m:case 59:case 0:switch(y){case 0:case 125:v=0;case 59+c:-1==g&&(T=S(T,/\f/g,"")),f>0&&R(T)-d&&I(f>32?ce(T+";",r,n,d-1):ce(S(T," ","")+";",r,n,d-2),l);break;case 59:T+=";";default:if(I(_=le(T,t,n,u,c,o,s,x,w=[],E=[],d),a),123===y)if(0===c)se(T,t,_,_,w,a,d,s,E);else switch(99===p&&110===k(T,3)?100:p){case 100:case 108:case 109:case 115:se(e,_,_,r&&I(le(e,_,_,0,0,o,s,x,o,w=[],d),E),o,E,d,s,r?w:E);break;default:se(T,_,_,_,[""],E,0,s,E)}}u=c=f=0,m=g=1,x=T="",d=i;break;case 58:d=1+R(T),f=h;default:if(m<1)if(123==y)--m;else if(125==y&&0==m++&&125==F())continue;switch(T+=b(y),y*m){case 38:g=c>0?1:(T+="\f",-1);break;case 44:s[u++]=(R(T)-1)*g,g=1;break;case 64:45===B()&&(T+=q(L())),p=B(),c=d=R(x=T+=Y(z())),y++;break;case 45:45===h&&2==R(T)&&(m=0)}}return a}function le(e,t,n,r,o,a,i,s,l,u,c){for(var d=o-1,p=0===o?a:[""],f=_(p),h=0,m=0,v=0;h<r;++h)for(var g=0,b=E(e,d+1,d=y(m=i[h])),x=e;g<f;++g)(x=w(m>0?p[g]+" "+b:S(b,/&\f/g,p[g])))&&(l[v++]=x);return D(e,t,n,0===o?te:s,l,u,c)}function ue(e,t,n){return D(e,t,n,ee,b(M),E(e,2,-2),0)}function ce(e,t,n,r){return D(e,t,n,ne,E(e,0,r),E(e,r+1,-1),r)}var de=function(e,t,n){for(var r=0,o=0;r=o,o=B(),38===r&&12===o&&(t[n]=1),!U(o);)L();return W(e,N)},pe=function(e,t){return H(function(e,t){var n=-1,r=44;do{switch(U(r)){case 0:38===r&&12===B()&&(t[n]=1),e[n]+=de(N-1,t,n);break;case 2:e[n]+=q(r);break;case 4:if(44===r){e[++n]=58===B()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=b(r)}}while(r=L());return e}(V(e),t))},fe=new WeakMap,he=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||fe.get(n))&&!r){fe.set(e,!0);for(var o=[],a=pe(t,o),i=n.props,s=0,l=0;s<a.length;s++)for(var u=0;u<i.length;u++,l++)e.props[l]=o[s]?a[s].replace(/&\f/g,i[u]):i[u]+" "+a[s]}}},me=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ve(e,t){switch(function(e,t){return 45^k(e,0)?(((t<<2^k(e,0))<<2^k(e,1))<<2^k(e,2))<<2^k(e,3):0}(e,t)){case 5103:return Z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Z+e+J+e+Q+e+e;case 6828:case 4268:return Z+e+Q+e+e;case 6165:return Z+e+Q+"flex-"+e+e;case 5187:return Z+e+S(e,/(\w+).+(:[^]+)/,Z+"box-$1$2"+Q+"flex-$1$2")+e;case 5443:return Z+e+Q+"flex-item-"+S(e,/flex-|-self/,"")+e;case 4675:return Z+e+Q+"flex-line-pack"+S(e,/align-content|flex-|-self/,"")+e;case 5548:return Z+e+Q+S(e,"shrink","negative")+e;case 5292:return Z+e+Q+S(e,"basis","preferred-size")+e;case 6060:return Z+"box-"+S(e,"-grow","")+Z+e+Q+S(e,"grow","positive")+e;case 4554:return Z+S(e,/([^-])(transform)/g,"$1"+Z+"$2")+e;case 6187:return S(S(S(e,/(zoom-|grab)/,Z+"$1"),/(image-set)/,Z+"$1"),e,"")+e;case 5495:case 3959:return S(e,/(image-set\([^]*)/,Z+"$1$`$1");case 4968:return S(S(e,/(.+:)(flex-)?(.*)/,Z+"box-pack:$3"+Q+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Z+e+e;case 4095:case 3583:case 4068:case 2532:return S(e,/(.+)-inline(.+)/,Z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(R(e)-1-t>6)switch(k(e,t+1)){case 109:if(45!==k(e,t+4))break;case 102:return S(e,/(.+:)(.+)-([^]+)/,"$1"+Z+"$2-$3$1"+J+(108==k(e,t+3)?"$3":"$2-$3"))+e;case 115:return~C(e,"stretch")?ve(S(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==k(e,t+1))break;case 6444:switch(k(e,R(e)-3-(~C(e,"!important")&&10))){case 107:return S(e,":",":"+Z)+e;case 101:return S(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Z+(45===k(e,14)?"inline-":"")+"box$3$1"+Z+"$2$3$1"+Q+"$2box$3")+e}break;case 5936:switch(k(e,t+11)){case 114:return Z+e+Q+S(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Z+e+Q+S(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Z+e+Q+S(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Z+e+Q+e+e}return e}var ge=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ne:e.return=ve(e.value,e.length);break;case re:return oe([j(e,{value:S(e.value,"@","@"+Z)})],r);case te:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return oe([j(e,{props:[S(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return oe([j(e,{props:[S(t,/:(plac\w+)/,":"+Z+"input-$1")]}),j(e,{props:[S(t,/:(plac\w+)/,":-moz-$1")]}),j(e,{props:[S(t,/:(plac\w+)/,Q+"input-$1")]})],r)}return""})}}],ye=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,o,a=e.stylisPlugins||ge,i={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)i[t[n]]=!0;s.push(e)});var l,u,c=[ae,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=_(e);return function(n,r,o,a){for(var i="",s=0;s<t;s++)i+=e[s](n,r,o,a)||"";return i}}([he,me].concat(a,c));o=function(e,t,n,r){l=n,function(e){oe(ie(e),d)}(e?e+"{"+t.styles+"}":t.styles),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new g({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:o};return p.sheet.hydrate(s),p};function be(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}var xe=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},we=function(e,t,n){xe(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+r:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}};var Se={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ce(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var ke=/[A-Z]|^ms/g,Ee=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Re=function(e){return 45===e.charCodeAt(1)},_e=function(e){return null!=e&&"boolean"!==typeof e},Ie=Ce(function(e){return Re(e)?e:e.replace(ke,"-$&").toLowerCase()}),Te=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Ee,function(e,t,n){return Pe={name:t,styles:n,next:Pe},t})}return 1===Se[e]||Re(e)||"number"!==typeof t||0===t?t:t+"px"};function Ae(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return Pe={name:o.name,styles:o.styles,next:Pe},o.name;var a=n;if(void 0!==a.styles){var i=a.next;if(void 0!==i)for(;void 0!==i;)Pe={name:i.name,styles:i.styles,next:Pe},i=i.next;return a.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var o=0;o<n.length;o++)r+=Ae(e,t,n[o])+";";else for(var a in n){var i=n[a];if("object"!==typeof i){var s=i;null!=t&&void 0!==t[s]?r+=a+"{"+t[s]+"}":_e(s)&&(r+=Ie(a)+":"+Te(a,s)+";")}else if(!Array.isArray(i)||"string"!==typeof i[0]||null!=t&&void 0!==t[i[0]]){var l=Ae(e,t,i);switch(a){case"animation":case"animationName":r+=Ie(a)+":"+l+";";break;default:r+=a+"{"+l+"}"}}else for(var u=0;u<i.length;u++)_e(i[u])&&(r+=Ie(a)+":"+Te(a,i[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var s=Pe,l=n(e);return Pe=s,Ae(e,t,l)}}var u=n;if(null==t)return u;var c=t[u];return void 0!==c?c:u}var Pe,Ne=/label:\s*([^\s;{]+)\s*(;|$)/g;function Me(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,o="";Pe=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,o+=Ae(n,t,a)):o+=a[0];for(var i=1;i<e.length;i++){if(o+=Ae(n,t,e[i]),r)o+=a[i]}Ne.lastIndex=0;for(var s,l="";null!==(s=Ne.exec(o));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,o=e.length;o>=4;++r,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:u,styles:o,next:Pe}}var Oe=!!r.useInsertionEffect&&r.useInsertionEffect,De=Oe||function(e){return e()},je=Oe||t.useLayoutEffect,Fe=t.createContext("undefined"!==typeof HTMLElement?ye({key:"css"}):null),Le=(Fe.Provider,function(e){return(0,t.forwardRef)(function(n,r){var o=(0,t.useContext)(Fe);return e(n,o,r)})}),Be=t.createContext({});var ze={}.hasOwnProperty,We="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Ue=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return xe(t,n,r),De(function(){return we(t,n,r)}),null},Ve=Le(function(e,n,r){var o=e.css;"string"===typeof o&&void 0!==n.registered[o]&&(o=n.registered[o]);var a=e[We],i=[o],s="";"string"===typeof e.className?s=be(n.registered,i,e.className):null!=e.className&&(s=e.className+" ");var l=Me(i,void 0,t.useContext(Be));s+=n.key+"-"+l.name;var u={};for(var c in e)ze.call(e,c)&&"css"!==c&&c!==We&&(u[c]=e[c]);return u.className=s,r&&(u.ref=r),t.createElement(t.Fragment,null,t.createElement(Ue,{cache:n,serialized:l,isStringTag:"string"===typeof a}),t.createElement(a,u))}),He=Ve;const qe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const n=t.useContext(Be);return n&&(r=n,0!==Object.keys(r).length)?n:e;var r},Ge=["value"],Ke=t.createContext();const Xe=()=>{const e=t.useContext(Ke);return null!==e&&void 0!==e&&e},$e=function(e){let{value:t}=e,n=d(e,Ge);return(0,m.jsx)(Ke.Provider,u({value:null===t||void 0===t||t},n))};function Ye(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=Ye(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Qe=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=Ye(e))&&(r&&(r+=" "),r+=t);return r};function Je(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=u({},t);for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const a=o;if("components"===a||"slots"===a)r[a]=u(u({},e[a]),r[a]);else if("componentsProps"===a||"slotProps"===a){const o=e[a],i=t[a];if(i)if(o){r[a]=u({},i);for(const e in o)if(Object.prototype.hasOwnProperty.call(o,e)){const t=e;r[a][t]=Je(o[t],i[t],n)}}else r[a]=i;else r[a]=o||{}}else"className"===a&&n&&t.className?r.className=Qe(null===e||void 0===e?void 0:e.className,null===t||void 0===t?void 0:t.className):"style"===a&&n&&t.style?r.style=u(u({},null===e||void 0===e?void 0:e.style),null===t||void 0===t?void 0:t.style):void 0===r[a]&&(r[a]=e[a])}return r}const Ze=t.createContext(void 0);function et(e){let{props:n,name:r}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const o=t.components[n];return o.defaultProps?Je(o.defaultProps,r,t.components.mergeClassNameAndStyle):o.styleOverrides||o.variants?r:Je(o,r,t.components.mergeClassNameAndStyle)}({props:n,name:r,theme:{components:t.useContext(Ze)}})}const tt=function(e){let{value:t,children:n}=e;return(0,m.jsx)(Ze.Provider,{value:t,children:n})},nt="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;let rt=0;const ot=u({},r).useId;function at(e){if(void 0!==ot){const t=ot();return null!==e&&void 0!==e?e:t}return function(e){const[n,r]=t.useState(e),o=e||n;return t.useEffect(()=>{null==n&&(rt+=1,r("mui-".concat(rt)))},[n]),o}(e)}function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},it.apply(null,arguments)}var st=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,lt=Ce(function(e){return st.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),ut=function(e){return"theme"!==e},ct=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?lt:ut},dt=function(e,t,n){var r;if(t){var o=t.shouldForwardProp;r=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},pt=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return xe(t,n,r),De(function(){return we(t,n,r)}),null},ft=function e(n,r){var o,a,i=n.__emotion_real===n,s=i&&n.__emotion_base||n;void 0!==r&&(o=r.label,a=r.target);var l=dt(n,r,i),u=l||ct(s),c=!u("as");return function(){var d=arguments,p=i&&void 0!==n.__emotion_styles?n.__emotion_styles.slice(0):[];if(void 0!==o&&p.push("label:"+o+";"),null==d[0]||void 0===d[0].raw)p.push.apply(p,d);else{var f=d[0];p.push(f[0]);for(var h=d.length,m=1;m<h;m++)p.push(d[m],f[m])}var v=Le(function(e,n,r){var o=c&&e.as||s,i="",d=[],f=e;if(null==e.theme){for(var h in f={},e)f[h]=e[h];f.theme=t.useContext(Be)}"string"===typeof e.className?i=be(n.registered,d,e.className):null!=e.className&&(i=e.className+" ");var m=Me(p.concat(d),n.registered,f);i+=n.key+"-"+m.name,void 0!==a&&(i+=" "+a);var v=c&&void 0===l?ct(o):u,g={};for(var y in e)c&&"as"===y||v(y)&&(g[y]=e[y]);return g.className=i,r&&(g.ref=r),t.createElement(t.Fragment,null,t.createElement(pt,{cache:n,serialized:m,isStringTag:"string"===typeof o}),t.createElement(o,g))});return v.displayName=void 0!==o?o:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",v.defaultProps=n.defaultProps,v.__emotion_real=v,v.__emotion_base=s,v.__emotion_styles=p,v.__emotion_forwardProp=l,Object.defineProperty(v,"toString",{value:function(){return"."+a}}),v.withComponent=function(t,n){return e(t,it({},r,n,{shouldForwardProp:dt(v,n,!0)})).apply(void 0,p)},v}}.bind(null);function ht(e,t){return ft(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach(function(e){ft[e]=ft(e)});const mt=[];function vt(e){return mt[0]=e,Me(mt)}n(219);var gt=function(e,n){var r=arguments;if(null==n||!ze.call(n,"css"))return t.createElement.apply(void 0,r);var o=r.length,a=new Array(o);a[0]=He,a[1]=function(e,t){var n={};for(var r in t)ze.call(t,r)&&(n[r]=t[r]);return n[We]=e,n}(e,n);for(var i=2;i<o;i++)a[i]=r[i];return t.createElement.apply(null,a)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(gt||(gt={}));var yt=Le(function(e,n){var r=Me([e.styles],void 0,t.useContext(Be)),o=t.useRef();return je(function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),a=!1,i=document.querySelector('style[data-emotion="'+e+" "+r.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==i&&(a=!0,i.setAttribute("data-emotion",e),t.hydrate([i])),o.current=[t,a],function(){t.flush()}},[n]),je(function(){var e=o.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==r.next&&we(n,r.next,!0),t.tags.length){var a=t.tags[t.tags.length-1].nextElementSibling;t.before=a,t.flush()}n.insert("",r,t,!1)}},[n,r.name]),null});function bt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Me(t)}function xt(){var e=bt.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function wt(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,m.jsx)(yt,{styles:r})}var St=n(528);function Ct(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function kt(e){if(t.isValidElement(e)||(0,St.Hy)(e)||!Ct(e))return e;const n={};return Object.keys(e).forEach(t=>{n[t]=kt(e[t])}),n}function Et(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const o=r.clone?u({},e):e;return Ct(e)&&Ct(n)&&Object.keys(n).forEach(a=>{t.isValidElement(n[a])||(0,St.Hy)(n[a])?o[a]=n[a]:Ct(n[a])&&Object.prototype.hasOwnProperty.call(e,a)&&Ct(e[a])?o[a]=Et(e[a],n[a],r):r.clone?o[a]=Ct(n[a])?kt(n[a]):n[a]:o[a]=n[a]}),o}const Rt=["values","unit","step"];function _t(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,o=d(e,Rt),a=(e=>{const t=Object.keys(e).map(t=>({key:t,val:e[t]}))||[];return t.sort((e,t)=>e.val-t.val),t.reduce((e,t)=>u(u({},e),{},{[t.key]:t.val}),{})})(t),i=Object.keys(a);function s(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function l(e){const o="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(o-r/100).concat(n,")")}function c(e,o){const a=i.indexOf(o);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==a&&"number"===typeof t[i[a]]?t[i[a]]:o)-r/100).concat(n,")")}return u({keys:i,values:a,up:s,down:l,between:c,only:function(e){return i.indexOf(e)+1<i.length?c(e,i[i.indexOf(e)+1]):s(e)},not:function(e){const t=i.indexOf(e);return 0===t?s(i[1]):t===i.length-1?l(i[t]):c(e,i[i.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},o)}function It(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(e=>e.startsWith("@container")).sort((e,t)=>{var n,r;const o=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(o))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(o))||void 0===r?void 0:r[1])||0)});return n.length?n.reduce((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e},u({},t)):t}const Tt={borderRadius:4},At={xs:0,sm:600,md:900,lg:1200,xl:1536},Pt={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(At[e],"px)")},Nt={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:At[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function Mt(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||Pt;return t.reduce((r,o,a)=>(r[e.up(e.keys[a])]=n(t[a]),r),{})}if("object"===typeof t){const e=r.breakpoints||Pt;return Object.keys(t).reduce((o,a)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some(e=>t.startsWith("@".concat(e)))||!!t.match(/^@\d/))}(e.keys,a)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,o]=n,a=Number.isNaN(+r)?r||0:+r;return e.containerQueries(o).up(a)}(r.containerQueries?r:Nt,a);e&&(o[e]=n(t[a],a))}else if(Object.keys(e.values||At).includes(a)){o[e.up(a)]=n(t[a],a)}else{const e=a;o[e]=t[e]}return o},{})}return n(t)}function Ot(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce((e,n)=>(e[t.up(n)]={},e),{}))||{}}function Dt(e,t){return e.reduce((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e},t)}function jt(e){let{values:t,breakpoints:n,base:r}=e;const o=r||function(e,t){if("object"!==typeof e)return{};const n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((t,r)=>{r<e.length&&(n[t]=!0)}):r.forEach(t=>{null!=e[t]&&(n[t]=!0)}),n}(t,n),a=Object.keys(o);if(0===a.length)return t;let i;return a.reduce((e,n,r)=>(Array.isArray(t)?(e[n]=null!=t[r]?t[r]:t[i],i=r):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[i],i=n):e[n]=t,e),{})}function Ft(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.searchParams.append("args[]",e)),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function Lt(e){if("string"!==typeof e)throw new Error(Ft(7));return e.charAt(0).toUpperCase()+e.slice(1)}function Bt(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce((e,t)=>e&&e[t]?e[t]:null,e);if(null!=n)return n}return t.split(".").reduce((e,t)=>e&&null!=e[t]?e[t]:null,e)}function zt(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:Bt(e,n)||o,t&&(r=t(r,o,e)),r}const Wt=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:o}=e,a=e=>{if(null==e[t])return null;const a=e[t],i=Bt(e.theme,r)||{};return Mt(e,a,e=>{let r=zt(i,o,e);return e===r&&"string"===typeof e&&(r=zt(i,o,"".concat(t).concat("default"===e?"":Lt(e)),e)),!1===n?r:{[n]:r}})};return a.propTypes={},a.filterProps=[t],a};const Ut=function(e,t){return t?Et(e,t,{clone:!1}):e};const Vt={m:"margin",p:"padding"},Ht={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},qt={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Gt=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}(e=>{if(e.length>2){if(!qt[e])return[e];e=qt[e]}const[t,n]=e.split(""),r=Vt[t],o=Ht[n]||"";return Array.isArray(o)?o.map(e=>r+e):[r+o]}),Kt=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Xt=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],$t=[...Kt,...Xt];function Yt(e,t,n,r){var o;const a=null!==(o=Bt(e,t,!0))&&void 0!==o?o:n;return"number"===typeof a||"string"===typeof a?e=>"string"===typeof e?e:"string"===typeof a?a.startsWith("var(")&&0===e?0:a.startsWith("var(")&&1===e?a:"calc(".concat(e," * ").concat(a,")"):a*e:Array.isArray(a)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=a[t];return e>=0?n:"number"===typeof n?-n:"string"===typeof n&&n.startsWith("var(")?"calc(-1 * ".concat(n,")"):"-".concat(n)}:"function"===typeof a?a:()=>{}}function Qt(e){return Yt(e,"spacing",8)}function Jt(e,t){return"string"===typeof t||null==t?t:e(t)}function Zt(e,t,n,r){if(!t.includes(n))return null;const o=function(e,t){return n=>e.reduce((e,r)=>(e[r]=Jt(t,n),e),{})}(Gt(n),r);return Mt(e,e[n],o)}function en(e,t){const n=Qt(e.theme);return Object.keys(e).map(r=>Zt(e,t,r,n)).reduce(Ut,{})}function tn(e){return en(e,Kt)}function nn(e){return en(e,Xt)}function rn(e){return en(e,$t)}tn.propTypes={},tn.filterProps=Kt,nn.propTypes={},nn.filterProps=Xt,rn.propTypes={},rn.filterProps=$t;function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Qt({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map(e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n}).join(" ")};return n.mui=!0,n}const an=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>(t.filterProps.forEach(n=>{e[n]=t}),e),{}),o=e=>Object.keys(e).reduce((t,n)=>r[n]?Ut(t,r[n](e)):t,{});return o.propTypes={},o.filterProps=t.reduce((e,t)=>e.concat(t.filterProps),[]),o};function sn(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function ln(e,t){return Wt({prop:e,themeKey:"borders",transform:t})}const un=ln("border",sn),cn=ln("borderTop",sn),dn=ln("borderRight",sn),pn=ln("borderBottom",sn),fn=ln("borderLeft",sn),hn=ln("borderColor"),mn=ln("borderTopColor"),vn=ln("borderRightColor"),gn=ln("borderBottomColor"),yn=ln("borderLeftColor"),bn=ln("outline",sn),xn=ln("outlineColor"),wn=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Yt(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Jt(t,e)});return Mt(e,e.borderRadius,n)}return null};wn.propTypes={},wn.filterProps=["borderRadius"];an(un,cn,dn,pn,fn,hn,mn,vn,gn,yn,wn,bn,xn);const Sn=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Yt(e.theme,"spacing",8),n=e=>({gap:Jt(t,e)});return Mt(e,e.gap,n)}return null};Sn.propTypes={},Sn.filterProps=["gap"];const Cn=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Yt(e.theme,"spacing",8),n=e=>({columnGap:Jt(t,e)});return Mt(e,e.columnGap,n)}return null};Cn.propTypes={},Cn.filterProps=["columnGap"];const kn=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Yt(e.theme,"spacing",8),n=e=>({rowGap:Jt(t,e)});return Mt(e,e.rowGap,n)}return null};kn.propTypes={},kn.filterProps=["rowGap"];an(Sn,Cn,kn,Wt({prop:"gridColumn"}),Wt({prop:"gridRow"}),Wt({prop:"gridAutoFlow"}),Wt({prop:"gridAutoColumns"}),Wt({prop:"gridAutoRows"}),Wt({prop:"gridTemplateColumns"}),Wt({prop:"gridTemplateRows"}),Wt({prop:"gridTemplateAreas"}),Wt({prop:"gridArea"}));function En(e,t){return"grey"===t?t:e}an(Wt({prop:"color",themeKey:"palette",transform:En}),Wt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:En}),Wt({prop:"backgroundColor",themeKey:"palette",transform:En}));function Rn(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const _n=Wt({prop:"width",transform:Rn}),In=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const o=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||At[t];return o?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(o).concat(e.theme.breakpoints.unit)}:{maxWidth:o}:{maxWidth:Rn(t)}};return Mt(e,e.maxWidth,t)}return null};In.filterProps=["maxWidth"];const Tn=Wt({prop:"minWidth",transform:Rn}),An=Wt({prop:"height",transform:Rn}),Pn=Wt({prop:"maxHeight",transform:Rn}),Nn=Wt({prop:"minHeight",transform:Rn}),Mn=(Wt({prop:"size",cssProperty:"width",transform:Rn}),Wt({prop:"size",cssProperty:"height",transform:Rn}),an(_n,In,Tn,An,Pn,Nn,Wt({prop:"boxSizing"})),{border:{themeKey:"borders",transform:sn},borderTop:{themeKey:"borders",transform:sn},borderRight:{themeKey:"borders",transform:sn},borderBottom:{themeKey:"borders",transform:sn},borderLeft:{themeKey:"borders",transform:sn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:sn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:wn},color:{themeKey:"palette",transform:En},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:En},backgroundColor:{themeKey:"palette",transform:En},p:{style:nn},pt:{style:nn},pr:{style:nn},pb:{style:nn},pl:{style:nn},px:{style:nn},py:{style:nn},padding:{style:nn},paddingTop:{style:nn},paddingRight:{style:nn},paddingBottom:{style:nn},paddingLeft:{style:nn},paddingX:{style:nn},paddingY:{style:nn},paddingInline:{style:nn},paddingInlineStart:{style:nn},paddingInlineEnd:{style:nn},paddingBlock:{style:nn},paddingBlockStart:{style:nn},paddingBlockEnd:{style:nn},m:{style:tn},mt:{style:tn},mr:{style:tn},mb:{style:tn},ml:{style:tn},mx:{style:tn},my:{style:tn},margin:{style:tn},marginTop:{style:tn},marginRight:{style:tn},marginBottom:{style:tn},marginLeft:{style:tn},marginX:{style:tn},marginY:{style:tn},marginInline:{style:tn},marginInlineStart:{style:tn},marginInlineEnd:{style:tn},marginBlock:{style:tn},marginBlockStart:{style:tn},marginBlockEnd:{style:tn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Sn},rowGap:{style:kn},columnGap:{style:Cn},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Rn},maxWidth:{style:In},minWidth:{transform:Rn},height:{transform:Rn},maxHeight:{transform:Rn},minHeight:{transform:Rn},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const On=function(){function e(e,t,n,r){const o={[e]:t,theme:n},a=r[e];if(!a)return{[e]:t};const{cssProperty:i=e,themeKey:s,transform:l,style:u}=a;if(null==t)return null;if("typography"===s&&"inherit"===t)return{[e]:t};const c=Bt(n,s)||{};if(u)return u(o);return Mt(o,t,t=>{let n=zt(c,l,t);return t===n&&"string"===typeof t&&(n=zt(c,l,"".concat(e).concat("default"===t?"":Lt(t)),t)),!1===i?n:{[i]:n}})}return function t(n){var r;const{sx:o,theme:a={},nested:i}=n||{};if(!o)return null;const s=null!==(r=a.unstable_sxConfig)&&void 0!==r?r:Mn;function l(n){let r=n;if("function"===typeof n)r=n(a);else if("object"!==typeof n)return n;if(!r)return null;const o=Ot(a.breakpoints),l=Object.keys(o);let u=o;return Object.keys(r).forEach(n=>{const o=function(e,t){return"function"===typeof e?e(t):e}(r[n],a);if(null!==o&&void 0!==o)if("object"===typeof o)if(s[n])u=Ut(u,e(n,o,a,s));else{const e=Mt({theme:a},o,e=>({[n]:e}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce((e,t)=>e.concat(Object.keys(t)),[]),o=new Set(r);return t.every(e=>o.size===Object.keys(e).length)}(e,o)?u=Ut(u,e):u[n]=t({sx:o,theme:a,nested:!0})}else u=Ut(u,e(n,o,a,s))}),!i&&a.modularCssLayers?{"@layer sx":It(a,Dt(l,u))}:It(a,Dt(l,u))}return Array.isArray(o)?o.map(l):l(o)}}();On.filterProps=["sx"];const Dn=On;function jn(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let o=n.getColorSchemeSelector(e);return"&"===o?t:((o.includes("data-")||o.includes("."))&&(o="*:where(".concat(o.replace(/\s*&$/,""),") &")),{[o]:t})}return n.palette.mode===e?t:{}}const Fn=["breakpoints","palette","spacing","shape"];const Ln=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:o={}}=e,a=d(e,Fn),i=_t(t),s=on(r);let l=Et({breakpoints:i,direction:"ltr",components:{},palette:u({mode:"light"},n),spacing:s,shape:u(u({},Tt),o)},a);l=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},o=e=>(n(r,e),r);return n(o),u(u({},e),{},{containerQueries:o})}(l),l.applyStyles=jn;for(var c=arguments.length,p=new Array(c>1?c-1:0),f=1;f<c;f++)p[f-1]=arguments[f];return l=p.reduce((e,t)=>Et(e,t),l),l.unstable_sxConfig=u(u({},Mn),null===a||void 0===a?void 0:a.unstable_sxConfig),l.unstable_sx=function(e){return Dn({sx:e,theme:this})},l},Bn=Ln();const zn=function(){return qe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn)};function Wn(e){const t=vt(e);return e!==t&&t.styles?(t.styles.match(/^@layer\s+[^{]*$/)||(t.styles="@layer global{".concat(t.styles,"}")),t):e}const Un=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const o=zn(r),a=n&&o[n]||o;let i="function"===typeof t?t(a):t;return a.modularCssLayers&&(i=Array.isArray(i)?i.map(e=>Wn("function"===typeof e?e(a):e)):Wn(i)),(0,m.jsx)(wt,{styles:i})};const Vn={};function Hn(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo(()=>{const t=e&&n[e]||n;if("function"===typeof r){const a=r(t),i=e?u(u({},n),{},{[e]:a}):a;return o?()=>i:i}return e?u(u({},n),{},{[e]:r}):u(u({},n),r)},[e,n,r,o])}const qn=function(e){const{children:t,theme:n,themeId:r}=e,o=qe(Vn),a=f()||Vn,i=Hn(r,o,n),s=Hn(r,a,n,!0),l="rtl"===(r?i[r]:i).direction,u=function(e){const t=qe(),n=at()||"",{modularCssLayers:r}=e;let o="mui.global, mui.components, mui.theme, mui.custom, mui.sx";return o=r&&null===t?"string"===typeof r?r.replace(/mui(?!\.)/g,o):"@layer ".concat(o,";"):"",nt(()=>{const e=document.querySelector("head");if(!e)return;const t=e.firstChild;if(o){var r;if(t&&null!==(r=t.hasAttribute)&&void 0!==r&&r.call(t,"data-mui-layer-order")&&t.getAttribute("data-mui-layer-order")===n)return;const a=document.createElement("style");a.setAttribute("data-mui-layer-order",n),a.textContent=o,e.prepend(a)}else{var a;null===(a=e.querySelector('style[data-mui-layer-order="'.concat(n,'"]')))||void 0===a||a.remove()}},[o,n]),o?(0,m.jsx)(Un,{styles:o}):null}(i);return(0,m.jsx)(v,{theme:s,children:(0,m.jsx)(Be.Provider,{value:i,children:(0,m.jsx)($e,{value:l,children:(0,m.jsxs)(tt,{value:r?i[r].components:i.components,children:[u,t]})})})})},Gn="$$material",Kn=["theme"];function Xn(e){let{theme:t}=e,n=d(e,Kn);const r=Gn in t?t[Gn]:void 0;return(0,m.jsx)(qn,u(u({},n),{},{themeId:r?Gn:void 0,theme:r||t}))}const $n="mode",Yn="color-scheme",Qn="data-color-scheme";function Jn(){}const Zn=e=>{let{key:t,storageWindow:n}=e;return n||"undefined"===typeof window||(n=window),{get(e){if("undefined"===typeof window)return;if(!n)return e;let r;try{r=n.localStorage.getItem(t)}catch(o){}return r||e},set:e=>{if(n)try{n.localStorage.setItem(t,e)}catch(r){}},subscribe:e=>{if(!n)return Jn;const r=n=>{const r=n.newValue;n.key===t&&e(r)};return n.addEventListener("storage",r),()=>{n.removeEventListener("storage",r)}}}};function er(){}function tr(e){if("undefined"!==typeof window&&"function"===typeof window.matchMedia&&"system"===e){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}}function nr(e,t){return"light"===e.mode||"system"===e.mode&&"light"===e.systemMode?t("light"):"dark"===e.mode||"system"===e.mode&&"dark"===e.systemMode?t("dark"):void 0}function rr(e){const{defaultMode:n="light",defaultLightColorScheme:r,defaultDarkColorScheme:o,supportedColorSchemes:a=[],modeStorageKey:i=$n,colorSchemeStorageKey:s=Yn,storageWindow:l=("undefined"===typeof window?void 0:window),storageManager:c=Zn,noSsr:d=!1}=e,p=a.join(","),f=a.length>1,h=t.useMemo(()=>null===c||void 0===c?void 0:c({key:i,storageWindow:l}),[c,i,l]),m=t.useMemo(()=>null===c||void 0===c?void 0:c({key:"".concat(s,"-light"),storageWindow:l}),[c,s,l]),v=t.useMemo(()=>null===c||void 0===c?void 0:c({key:"".concat(s,"-dark"),storageWindow:l}),[c,s,l]),[g,y]=t.useState(()=>{const e=(null===h||void 0===h?void 0:h.get(n))||n,t=(null===m||void 0===m?void 0:m.get(r))||r,a=(null===v||void 0===v?void 0:v.get(o))||o;return{mode:e,systemMode:tr(e),lightColorScheme:t,darkColorScheme:a}}),[b,x]=t.useState(d||!f);t.useEffect(()=>{x(!0)},[]);const w=function(e){return nr(e,t=>"light"===t?e.lightColorScheme:"dark"===t?e.darkColorScheme:void 0)}(g),S=t.useCallback(e=>{y(t=>{if(e===t.mode)return t;const r=null!==e&&void 0!==e?e:n;return null===h||void 0===h||h.set(r),u(u({},t),{},{mode:r,systemMode:tr(r)})})},[h,n]),C=t.useCallback(e=>{e?"string"===typeof e?e&&!p.includes(e)?console.error("`".concat(e,"` does not exist in `theme.colorSchemes`.")):y(t=>{const n=u({},t);return nr(t,t=>{"light"===t&&(null===m||void 0===m||m.set(e),n.lightColorScheme=e),"dark"===t&&(null===v||void 0===v||v.set(e),n.darkColorScheme=e)}),n}):y(t=>{const n=u({},t),a=null===e.light?r:e.light,i=null===e.dark?o:e.dark;return a&&(p.includes(a)?(n.lightColorScheme=a,null===m||void 0===m||m.set(a)):console.error("`".concat(a,"` does not exist in `theme.colorSchemes`."))),i&&(p.includes(i)?(n.darkColorScheme=i,null===v||void 0===v||v.set(i)):console.error("`".concat(i,"` does not exist in `theme.colorSchemes`."))),n}):y(e=>(null===m||void 0===m||m.set(r),null===v||void 0===v||v.set(o),u(u({},e),{},{lightColorScheme:r,darkColorScheme:o})))},[p,m,v,r,o]),k=t.useCallback(e=>{"system"===g.mode&&y(t=>{const n=null!==e&&void 0!==e&&e.matches?"dark":"light";return t.systemMode===n?t:u(u({},t),{},{systemMode:n})})},[g.mode]),E=t.useRef(k);return E.current=k,t.useEffect(()=>{if("function"!==typeof window.matchMedia||!f)return;const e=function(){return E.current(...arguments)},t=window.matchMedia("(prefers-color-scheme: dark)");return t.addListener(e),e(t),()=>{t.removeListener(e)}},[f]),t.useEffect(()=>{if(f){const e=(null===h||void 0===h?void 0:h.subscribe(e=>{e&&!["light","dark","system"].includes(e)||S(e||n)}))||er,t=(null===m||void 0===m?void 0:m.subscribe(e=>{e&&!p.match(e)||C({light:e})}))||er,r=(null===v||void 0===v?void 0:v.subscribe(e=>{e&&!p.match(e)||C({dark:e})}))||er;return()=>{e(),t(),r()}}},[C,S,p,n,l,f,h,m,v]),u(u({},g),{},{mode:b?g.mode:void 0,systemMode:b?g.systemMode:void 0,colorScheme:b?w:void 0,setMode:S,setColorScheme:C})}const or=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function ar(e){return or(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function ir(e){if(e.type)return e;if("#"===e.charAt(0))return ir(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map(e=>e+e)),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(Ft(9,e));let r,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),r=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(Ft(10,r))}else o=o.split(",");return o=o.map(e=>parseFloat(e)),{type:n,values:o,colorSpace:r}}const sr=(e,t)=>{try{return(e=>{const t=ir(e);return t.values.slice(0,3).map((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e).join(" ")})(e)}catch(n){return e}};function lr(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((e,t)=>t<3?parseInt(e,10):e):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function ur(e){e=ir(e);const{values:t}=e,n=t[0],r=t[1]/100,o=t[2]/100,a=r*Math.min(o,1-o),i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-a*Math.max(Math.min(t-3,9-t,1),-1)};let s="rgb";const l=[Math.round(255*i(0)),Math.round(255*i(8)),Math.round(255*i(4))];return"hsla"===e.type&&(s+="a",l.push(t[3])),lr({type:s,values:l})}function cr(e){let t="hsl"===(e=ir(e)).type||"hsla"===e.type?ir(ur(e)).values:e.values;return t=t.map(t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function dr(e,t){return e=ir(e),t=ar(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,lr(e)}function pr(e,t,n){try{return dr(e,t)}catch(r){return e}}function fr(e,t){if(e=ir(e),t=ar(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return lr(e)}function hr(e,t,n){try{return fr(e,t)}catch(r){return e}}function mr(e,t){if(e=ir(e),t=ar(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return lr(e)}function vr(e,t,n){try{return mr(e,t)}catch(r){return e}}function gr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return cr(e)>.5?fr(e,t):mr(e,t)}function yr(e,t,n){try{return gr(e,t)}catch(r){return e}}const br={black:"#000",white:"#fff"},xr={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},wr={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Sr={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Cr={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},kr={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Er={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Rr={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},_r=["mode","contrastThreshold","tonalOffset","colorSpace"];function Ir(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:br.white,default:br.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Tr=Ir();function Ar(){return{text:{primary:br.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:br.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Pr=Ar();function Nr(e,t,n,r){const o=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=mr(e.main,o):"dark"===t&&(e.dark=fr(e.main,a)))}function Mr(e,t,n,r,o){const a=o.light||o,i=o.dark||1.5*o;t[n]||(t.hasOwnProperty(r)?t[n]=t[r]:"light"===n?t.light="color-mix(in ".concat(e,", ").concat(t.main,", #fff ").concat((100*a).toFixed(0),"%)"):"dark"===n&&(t.dark="color-mix(in ".concat(e,", ").concat(t.main,", #000 ").concat((100*i).toFixed(0),"%)")))}function Or(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,colorSpace:o}=e,a=d(e,_r),i=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:kr[200],light:kr[50],dark:kr[400]}:{main:kr[700],light:kr[400],dark:kr[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:wr[200],light:wr[50],dark:wr[400]}:{main:wr[500],light:wr[300],dark:wr[700]}}(t),l=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Sr[500],light:Sr[300],dark:Sr[700]}:{main:Sr[700],light:Sr[400],dark:Sr[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Er[400],light:Er[300],dark:Er[700]}:{main:Er[700],light:Er[500],dark:Er[900]}}(t),p=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Rr[400],light:Rr[300],dark:Rr[700]}:{main:Rr[800],light:Rr[500],dark:Rr[900]}}(t),f=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Cr[400],light:Cr[300],dark:Cr[700]}:{main:"#ed6c02",light:Cr[500],dark:Cr[900]}}(t);function h(e){if(o)return function(e){return"oklch(from ".concat(e," var(--__l) 0 h / var(--__a))")}(e);const t=function(e,t){const n=cr(e),r=cr(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,Pr.text.primary)>=n?Pr.text.primary:Tr.text.primary;return t}const m=e=>{let{color:t,name:n,mainShade:a=500,lightShade:i=300,darkShade:s=700}=e;if(t=u({},t),!t.main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error(Ft(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error(Ft(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return o?(Mr(o,t,"light",i,r),Mr(o,t,"dark",s,r)):(Nr(t,"light",i,r),Nr(t,"dark",s,r)),t.contrastText||(t.contrastText=h(t.main)),t};let v;"light"===t?v=Ir():"dark"===t&&(v=Ar());return Et(u({common:u({},br),mode:t,primary:m({color:i,name:"primary"}),secondary:m({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:m({color:l,name:"error"}),warning:m({color:f,name:"warning"}),info:m({color:c,name:"info"}),success:m({color:p,name:"success"}),grey:xr,contrastThreshold:n,getContrastText:h,augmentColor:m,tonalOffset:r},v),a)}function Dr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(!r.length)return"";const a=r[0];return"string"!==typeof a||a.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(a):", var(--".concat(e?"".concat(e,"-"):"").concat(a).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...o),")")}}function jr(e){const t={};return Object.entries(e).forEach(e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))}),t}const Fr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=e;t.forEach((e,a)=>{a===t.length-1?Array.isArray(o)?o[Number(e)]=n:o&&"object"===typeof o&&(o[e]=n):o&&"object"===typeof o&&(o[e]||(o[e]=r.includes(e)?[]:{}),o=o[e])})};function Lr(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},o={},a={},i={};var s,l;return s=(e,t,s)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>"number"===typeof t?["lineHeight","fontWeight","opacity","zIndex"].some(t=>e.includes(t))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px"):t)(e,t);Object.assign(o,{[r]:l}),Fr(a,e,"var(".concat(r,")"),s),Fr(i,e,"var(".concat(r,", ").concat(l,")"),s)}},l=e=>"vars"===e[0],function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(t).forEach(t=>{let[o,a]=t;(!l||l&&!l([...n,o]))&&void 0!==a&&null!==a&&("object"===typeof a&&Object.keys(a).length>0?e(a,[...n,o],Array.isArray(a)?[...r,o]:r):s([...n,o],a,r))})}(e),{css:o,vars:a,varsWithDefaults:i}}const Br=["colorSchemes","components","defaultColorScheme"];const zr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=x,disableCssColorScheme:r,colorSchemeSelector:o,enableContrastVars:a}=t,{colorSchemes:s={},components:l,defaultColorScheme:c="light"}=e,p=d(e,Br),{vars:f,css:h,varsWithDefaults:m}=Lr(p,t);let v=m;const g={},{[c]:y}=s,b=d(s,[c].map(i));if(Object.entries(b||{}).forEach(e=>{let[n,r]=e;const{vars:o,css:a,varsWithDefaults:i}=Lr(r,t);v=Et(v,i),g[n]={css:a,vars:o}}),y){const{css:e,vars:n,varsWithDefaults:r}=Lr(y,t);v=Et(v,r),g[c]={css:e,vars:n}}function x(t,n){let r=o;if("class"===o&&(r=".%s"),"data"===o&&(r="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(r="[".concat(o,'="%s"]')),t){if("media"===r){var a;if(e.defaultColorScheme===t)return":root";const r=(null===(a=s[t])||void 0===a||null===(a=a.palette)||void 0===a?void 0:a.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:v,generateThemeVars:()=>{let e=u({},f);return Object.entries(g).forEach(t=>{let[,{vars:n}]=t;e=Et(e,n)}),e},generateStyleSheets:()=>{const t=[],o=e.defaultColorScheme||"light";function l(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:u({},n)}:e)}l(n(void 0,u({},h)),h);const{[o]:c}=g,p=d(g,[o].map(i));if(c){var f;const{css:e}=c,t=null===(f=s[o])||void 0===f||null===(f=f.palette)||void 0===f?void 0:f.mode,a=u(!r&&t?{colorScheme:t}:{},e);l(n(o,u({},a)),a)}return Object.entries(p).forEach(e=>{var t;let[o,{css:a}]=e;const i=null===(t=s[o])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=u(!r&&i?{colorScheme:i}:{},a);l(n(o,u({},c)),c)}),a&&t.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),t}}};function Wr(e,t){return u({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const Ur=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const Vr={textTransform:"uppercase"},Hr='"Roboto", "Helvetica", "Arial", sans-serif';function qr(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=Hr,fontSize:o=14,fontWeightLight:a=300,fontWeightRegular:i=400,fontWeightMedium:s=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:p,pxToRem:f}=n,h=d(n,Ur);const m=o/14,v=f||(e=>"".concat(e/c*m,"rem")),g=(e,t,n,o,a)=>{return u(u(u({fontFamily:r,fontWeight:e,fontSize:v(t),lineHeight:n},r===Hr?{letterSpacing:"".concat((i=o/t,Math.round(1e5*i)/1e5),"em")}:{}),a),p);var i},y={h1:g(a,96,1.167,-1.5),h2:g(a,60,1.2,-.5),h3:g(i,48,1.167,0),h4:g(i,34,1.235,.25),h5:g(i,24,1.334,0),h6:g(s,20,1.6,.15),subtitle1:g(i,16,1.75,.15),subtitle2:g(s,14,1.57,.1),body1:g(i,16,1.5,.15),body2:g(i,14,1.43,.15),button:g(s,14,1.75,.4,Vr),caption:g(i,12,1.66,.4),overline:g(i,12,2.66,1,Vr),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Et(u({htmlFontSize:c,pxToRem:v,fontFamily:r,fontSize:o,fontWeightLight:a,fontWeightRegular:i,fontWeightMedium:s,fontWeightBold:l},y),h,{clone:!1})}function Gr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const Kr=["none",Gr(0,2,1,-1,0,1,1,0,0,1,3,0),Gr(0,3,1,-2,0,2,2,0,0,1,5,0),Gr(0,3,3,-2,0,3,4,0,0,1,8,0),Gr(0,2,4,-1,0,4,5,0,0,1,10,0),Gr(0,3,5,-1,0,5,8,0,0,1,14,0),Gr(0,3,5,-1,0,6,10,0,0,1,18,0),Gr(0,4,5,-2,0,7,10,1,0,2,16,1),Gr(0,5,5,-3,0,8,10,1,0,3,14,2),Gr(0,5,6,-3,0,9,12,1,0,3,16,2),Gr(0,6,6,-3,0,10,14,1,0,4,18,3),Gr(0,6,7,-4,0,11,15,1,0,4,20,3),Gr(0,7,8,-4,0,12,17,2,0,5,22,4),Gr(0,7,8,-4,0,13,19,2,0,5,24,4),Gr(0,7,9,-4,0,14,21,2,0,5,26,4),Gr(0,8,9,-5,0,15,22,2,0,6,28,5),Gr(0,8,10,-5,0,16,24,2,0,6,30,5),Gr(0,8,11,-5,0,17,26,2,0,6,32,5),Gr(0,9,11,-5,0,18,28,2,0,7,34,6),Gr(0,9,12,-6,0,19,29,2,0,7,36,6),Gr(0,10,13,-6,0,20,31,3,0,8,38,7),Gr(0,10,13,-6,0,21,33,3,0,8,40,7),Gr(0,10,14,-6,0,22,35,3,0,8,42,7),Gr(0,11,14,-7,0,23,36,3,0,9,44,8),Gr(0,11,15,-7,0,24,38,3,0,9,46,8)],Xr=["duration","easing","delay"],$r={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Qr(e){return"".concat(Math.round(e),"ms")}function Jr(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Zr(e){const t=u(u({},$r),e.easing),n=u(u({},Yr),e.duration);return u(u({getAutoHeightDuration:Jr,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:a=t.easeInOut,delay:i=0}=r;d(r,Xr);return(Array.isArray(e)?e:[e]).map(e=>"".concat(e," ").concat("string"===typeof o?o:Qr(o)," ").concat(a," ").concat("string"===typeof i?i:Qr(i))).join(",")}},e),{},{easing:t,duration:n})}const eo={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function to(e){return Ct(e)||"undefined"===typeof e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)}function no(){const e=u({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let r=0;r<n.length;r++){const[o,a]=n[r];!to(a)||o.startsWith("unstable_")?delete t[o]:Ct(a)&&(t[o]=u({},a),e(t[o]))}}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const ro=["breakpoints","mixins","spacing","palette","transitions","typography","shape","colorSpace"];function oo(e){return"number"===typeof e?"".concat((100*e).toFixed(0),"%"):"calc((".concat(e,") * 100%)")}function ao(e){Object.assign(e,{alpha(t,n){const r=this||e;return r.colorSpace?"oklch(from ".concat(t," l c h / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):r.vars?"rgba(".concat(t.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")," / ").concat("string"===typeof n?"calc(".concat(n,")"):n,")"):dr(t,(e=>{if(!Number.isNaN(+e))return+e;const t=e.match(/\d*\.?\d+/g);if(!t)return 0;let n=0;for(let r=0;r<t.length;r+=1)n+=+t[r];return n})(n))},lighten(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #fff ").concat(oo(n),")"):mr(t,n)},darken(t,n){const r=this||e;return r.colorSpace?"color-mix(in ".concat(r.colorSpace,", ").concat(t,", #000 ").concat(oo(n),")"):fr(t,n)}})}const io=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:o={},transitions:a={},typography:i={},shape:s,colorSpace:l}=e,c=d(e,ro);if(e.vars&&void 0===e.generateThemeVars)throw new Error(Ft(20));const p=Or(u(u({},o),{},{colorSpace:l})),f=Ln(e);let h=Et(f,{mixins:Wr(f.breakpoints,n),palette:p,shadows:Kr.slice(),typography:qr(p,i),transitions:Zr(a),zIndex:u({},eo)});h=Et(h,c);for(var m=arguments.length,v=new Array(m>1?m-1:0),g=1;g<m;g++)v[g-1]=arguments[g];return h=v.reduce((e,t)=>Et(e,t),h),h.unstable_sxConfig=u(u({},Mn),null===c||void 0===c?void 0:c.unstable_sxConfig),h.unstable_sx=function(e){return Dn({sx:e,theme:this})},h.toRuntimeSource=no,ao(h),h};function so(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const lo=["palette","opacity","overlays","colorSpace"],uo=[...Array(25)].map((e,t)=>{if(0===t)return"none";const n=so(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")});function co(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function po(e){return"dark"===e?uo:[]}function fo(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const ho=e=>[...[...Array(25)].map((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n)),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],mo=e=>(t,n)=>{const r=e.rootSelector||":root",o=e.colorSchemeSelector;let a=o;if("class"===o&&(a=".%s"),"data"===o&&(a="[data-%s]"),null!==o&&void 0!==o&&o.startsWith("data-")&&!o.includes("%s")&&(a="[".concat(o,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const o={};return ho(e.cssVarPrefix).forEach(e=>{o[e]=n[e],delete n[e]}),"media"===a?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:o}}:a?{[a.replace("%s",t)]:o,["".concat(r,", ").concat(a.replace("%s",t))]:n}:{[r]:u(u({},n),o)}}if(a&&"media"!==a)return"".concat(r,", ").concat(a.replace("%s",String(t)))}else if(t){if("media"===a)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(a)return a.replace("%s",String(t))}return r},vo=["palette"],go=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","nativeColor","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function yo(e,t,n){!e[t]&&n&&(e[t]=n)}function bo(e){return"string"===typeof e&&e.startsWith("hsl")?ur(e):e}function xo(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=sr(bo(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const wo=e=>{try{return e()}catch(t){}};function So(e,t,n,r,o){var a,i,s;if(!n)return;n=!0===n?{}:n;const l="dark"===o?"dark":"light";var c;if(!r)return void(t[o]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r,colorSpace:o}=e,a=d(e,lo),i=Or(u(u({},t),{},{colorSpace:o}));return u({palette:i,opacity:u(u({},co(i.mode)),n),overlays:r||po(i.mode)},a)}(u(u({},n),{},{palette:u({mode:l},null===(c=n)||void 0===c?void 0:c.palette),colorSpace:e})));const p=io(u(u({},r),{},{palette:u({mode:l},null===(a=n)||void 0===a?void 0:a.palette),colorSpace:e})),{palette:f}=p,h=d(p,vo);return t[o]=u(u({},n),{},{palette:f,opacity:u(u({},co(l)),null===(i=n)||void 0===i?void 0:i.opacity),overlays:(null===(s=n)||void 0===s?void 0:s.overlays)||po(l)}),h}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:o="mui",nativeColor:a=!1,shouldSkipGeneratingVar:s=fo,colorSchemeSelector:l=(t.light&&t.dark?"media":void 0),rootSelector:c=":root"}=e,p=d(e,go),f=Object.keys(t)[0],h=n||(t.light&&"light"!==f?"light":f),m=function(){return Dr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(o),{[h]:v,light:g,dark:y}=t,b=u({},d(t,[h,"light","dark"].map(i)));let x,w=v;if(("dark"===h&&!("dark"in t)||"light"===h&&!("light"in t))&&(w=!0),!w)throw new Error(Ft(21,h));a&&(x="oklch");const S=So(x,b,w,p,h);g&&!b.light&&So(x,b,g,void 0,"light"),y&&!b.dark&&So(x,b,y,void 0,"dark");let C=u(u({defaultColorScheme:h},S),{},{cssVarPrefix:o,colorSchemeSelector:l,rootSelector:c,getCssVar:m,colorSchemes:b,font:u(u({},jr(S.typography)),S.font),spacing:(k=p.spacing,"number"===typeof k?"".concat(k,"px"):"string"===typeof k||"function"===typeof k||Array.isArray(k)?k:"8px")});var k;Object.keys(C.colorSchemes).forEach(e=>{const t=C.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],o=n[2];return m(e,t[r][o])};function r(e,t,n){if(x){let r;return e===pr&&(r="transparent ".concat((100*(1-n)).toFixed(0),"%")),e===hr&&(r="#000 ".concat((100*n).toFixed(0),"%")),e===vr&&(r="#fff ".concat((100*n).toFixed(0),"%")),"color-mix(in ".concat(x,", ").concat(t,", ").concat(r,")")}return e(t,n)}var o;if("light"===t.mode&&(yo(t.common,"background","#fff"),yo(t.common,"onBackground","#000")),"dark"===t.mode&&(yo(t.common,"background","#000"),yo(t.common,"onBackground","#fff")),o=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach(e=>{o[e]||(o[e]={})}),"light"===t.mode){yo(t.Alert,"errorColor",r(hr,t.error.light,.6)),yo(t.Alert,"infoColor",r(hr,t.info.light,.6)),yo(t.Alert,"successColor",r(hr,t.success.light,.6)),yo(t.Alert,"warningColor",r(hr,t.warning.light,.6)),yo(t.Alert,"errorFilledBg",n("palette-error-main")),yo(t.Alert,"infoFilledBg",n("palette-info-main")),yo(t.Alert,"successFilledBg",n("palette-success-main")),yo(t.Alert,"warningFilledBg",n("palette-warning-main")),yo(t.Alert,"errorFilledColor",wo(()=>t.getContrastText(t.error.main))),yo(t.Alert,"infoFilledColor",wo(()=>t.getContrastText(t.info.main))),yo(t.Alert,"successFilledColor",wo(()=>t.getContrastText(t.success.main))),yo(t.Alert,"warningFilledColor",wo(()=>t.getContrastText(t.warning.main))),yo(t.Alert,"errorStandardBg",r(vr,t.error.light,.9)),yo(t.Alert,"infoStandardBg",r(vr,t.info.light,.9)),yo(t.Alert,"successStandardBg",r(vr,t.success.light,.9)),yo(t.Alert,"warningStandardBg",r(vr,t.warning.light,.9)),yo(t.Alert,"errorIconColor",n("palette-error-main")),yo(t.Alert,"infoIconColor",n("palette-info-main")),yo(t.Alert,"successIconColor",n("palette-success-main")),yo(t.Alert,"warningIconColor",n("palette-warning-main")),yo(t.AppBar,"defaultBg",n("palette-grey-100")),yo(t.Avatar,"defaultBg",n("palette-grey-400")),yo(t.Button,"inheritContainedBg",n("palette-grey-300")),yo(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),yo(t.Chip,"defaultBorder",n("palette-grey-400")),yo(t.Chip,"defaultAvatarColor",n("palette-grey-700")),yo(t.Chip,"defaultIconColor",n("palette-grey-700")),yo(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),yo(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),yo(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),yo(t.LinearProgress,"primaryBg",r(vr,t.primary.main,.62)),yo(t.LinearProgress,"secondaryBg",r(vr,t.secondary.main,.62)),yo(t.LinearProgress,"errorBg",r(vr,t.error.main,.62)),yo(t.LinearProgress,"infoBg",r(vr,t.info.main,.62)),yo(t.LinearProgress,"successBg",r(vr,t.success.main,.62)),yo(t.LinearProgress,"warningBg",r(vr,t.warning.main,.62)),yo(t.Skeleton,"bg",x?r(pr,t.text.primary,.11):"rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),yo(t.Slider,"primaryTrack",r(vr,t.primary.main,.62)),yo(t.Slider,"secondaryTrack",r(vr,t.secondary.main,.62)),yo(t.Slider,"errorTrack",r(vr,t.error.main,.62)),yo(t.Slider,"infoTrack",r(vr,t.info.main,.62)),yo(t.Slider,"successTrack",r(vr,t.success.main,.62)),yo(t.Slider,"warningTrack",r(vr,t.warning.main,.62));const e=x?r(hr,t.background.default,.6825):yr(t.background.default,.8);yo(t.SnackbarContent,"bg",e),yo(t.SnackbarContent,"color",wo(()=>x?Pr.text.primary:t.getContrastText(e))),yo(t.SpeedDialAction,"fabHoverBg",yr(t.background.paper,.15)),yo(t.StepConnector,"border",n("palette-grey-400")),yo(t.StepContent,"border",n("palette-grey-400")),yo(t.Switch,"defaultColor",n("palette-common-white")),yo(t.Switch,"defaultDisabledColor",n("palette-grey-100")),yo(t.Switch,"primaryDisabledColor",r(vr,t.primary.main,.62)),yo(t.Switch,"secondaryDisabledColor",r(vr,t.secondary.main,.62)),yo(t.Switch,"errorDisabledColor",r(vr,t.error.main,.62)),yo(t.Switch,"infoDisabledColor",r(vr,t.info.main,.62)),yo(t.Switch,"successDisabledColor",r(vr,t.success.main,.62)),yo(t.Switch,"warningDisabledColor",r(vr,t.warning.main,.62)),yo(t.TableCell,"border",r(vr,r(pr,t.divider,1),.88)),yo(t.Tooltip,"bg",r(pr,t.grey[700],.92))}if("dark"===t.mode){yo(t.Alert,"errorColor",r(vr,t.error.light,.6)),yo(t.Alert,"infoColor",r(vr,t.info.light,.6)),yo(t.Alert,"successColor",r(vr,t.success.light,.6)),yo(t.Alert,"warningColor",r(vr,t.warning.light,.6)),yo(t.Alert,"errorFilledBg",n("palette-error-dark")),yo(t.Alert,"infoFilledBg",n("palette-info-dark")),yo(t.Alert,"successFilledBg",n("palette-success-dark")),yo(t.Alert,"warningFilledBg",n("palette-warning-dark")),yo(t.Alert,"errorFilledColor",wo(()=>t.getContrastText(t.error.dark))),yo(t.Alert,"infoFilledColor",wo(()=>t.getContrastText(t.info.dark))),yo(t.Alert,"successFilledColor",wo(()=>t.getContrastText(t.success.dark))),yo(t.Alert,"warningFilledColor",wo(()=>t.getContrastText(t.warning.dark))),yo(t.Alert,"errorStandardBg",r(hr,t.error.light,.9)),yo(t.Alert,"infoStandardBg",r(hr,t.info.light,.9)),yo(t.Alert,"successStandardBg",r(hr,t.success.light,.9)),yo(t.Alert,"warningStandardBg",r(hr,t.warning.light,.9)),yo(t.Alert,"errorIconColor",n("palette-error-main")),yo(t.Alert,"infoIconColor",n("palette-info-main")),yo(t.Alert,"successIconColor",n("palette-success-main")),yo(t.Alert,"warningIconColor",n("palette-warning-main")),yo(t.AppBar,"defaultBg",n("palette-grey-900")),yo(t.AppBar,"darkBg",n("palette-background-paper")),yo(t.AppBar,"darkColor",n("palette-text-primary")),yo(t.Avatar,"defaultBg",n("palette-grey-600")),yo(t.Button,"inheritContainedBg",n("palette-grey-800")),yo(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),yo(t.Chip,"defaultBorder",n("palette-grey-700")),yo(t.Chip,"defaultAvatarColor",n("palette-grey-300")),yo(t.Chip,"defaultIconColor",n("palette-grey-300")),yo(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),yo(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),yo(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),yo(t.LinearProgress,"primaryBg",r(hr,t.primary.main,.5)),yo(t.LinearProgress,"secondaryBg",r(hr,t.secondary.main,.5)),yo(t.LinearProgress,"errorBg",r(hr,t.error.main,.5)),yo(t.LinearProgress,"infoBg",r(hr,t.info.main,.5)),yo(t.LinearProgress,"successBg",r(hr,t.success.main,.5)),yo(t.LinearProgress,"warningBg",r(hr,t.warning.main,.5)),yo(t.Skeleton,"bg",x?r(pr,t.text.primary,.13):"rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),yo(t.Slider,"primaryTrack",r(hr,t.primary.main,.5)),yo(t.Slider,"secondaryTrack",r(hr,t.secondary.main,.5)),yo(t.Slider,"errorTrack",r(hr,t.error.main,.5)),yo(t.Slider,"infoTrack",r(hr,t.info.main,.5)),yo(t.Slider,"successTrack",r(hr,t.success.main,.5)),yo(t.Slider,"warningTrack",r(hr,t.warning.main,.5));const e=x?r(vr,t.background.default,.985):yr(t.background.default,.98);yo(t.SnackbarContent,"bg",e),yo(t.SnackbarContent,"color",wo(()=>x?Tr.text.primary:t.getContrastText(e))),yo(t.SpeedDialAction,"fabHoverBg",yr(t.background.paper,.15)),yo(t.StepConnector,"border",n("palette-grey-600")),yo(t.StepContent,"border",n("palette-grey-600")),yo(t.Switch,"defaultColor",n("palette-grey-300")),yo(t.Switch,"defaultDisabledColor",n("palette-grey-600")),yo(t.Switch,"primaryDisabledColor",r(hr,t.primary.main,.55)),yo(t.Switch,"secondaryDisabledColor",r(hr,t.secondary.main,.55)),yo(t.Switch,"errorDisabledColor",r(hr,t.error.main,.55)),yo(t.Switch,"infoDisabledColor",r(hr,t.info.main,.55)),yo(t.Switch,"successDisabledColor",r(hr,t.success.main,.55)),yo(t.Switch,"warningDisabledColor",r(hr,t.warning.main,.55)),yo(t.TableCell,"border",r(hr,r(pr,t.divider,1),.68)),yo(t.Tooltip,"bg",r(pr,t.grey[700],.92))}xo(t.background,"default"),xo(t.background,"paper"),xo(t.common,"background"),xo(t.common,"onBackground"),xo(t,"divider"),Object.keys(t).forEach(e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&yo(t[e],"mainChannel",sr(bo(n.main))),n.light&&yo(t[e],"lightChannel",sr(bo(n.light))),n.dark&&yo(t[e],"darkChannel",sr(bo(n.dark))),n.contrastText&&yo(t[e],"contrastTextChannel",sr(bo(n.contrastText))),"text"===e&&(xo(t[e],"primary"),xo(t[e],"secondary")),"action"===e&&(n.active&&xo(t[e],"active"),n.selected&&xo(t[e],"selected")))})});for(var E=arguments.length,R=new Array(E>1?E-1:0),_=1;_<E;_++)R[_-1]=arguments[_];C=R.reduce((e,t)=>Et(e,t),C);const I={prefix:o,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:mo(C),enableContrastVars:a},{vars:T,generateThemeVars:A,generateStyleSheets:P}=zr(C,I);return C.vars=T,Object.entries(C.colorSchemes[C.defaultColorScheme]).forEach(e=>{let[t,n]=e;C[t]=n}),C.generateThemeVars=A,C.generateStyleSheets=P,C.generateSpacing=function(){return on(p.spacing,Qt(this))},C.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(l),C.spacing=C.generateSpacing(),C.shouldSkipGeneratingVar=s,C.unstable_sxConfig=u(u({},Mn),null===p||void 0===p?void 0:p.unstable_sxConfig),C.unstable_sx=function(e){return Dn({sx:e,theme:this})},C.toRuntimeSource=no,C}const ko=["palette","cssVariables","colorSchemes","defaultColorScheme"];function Eo(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=u(u({},!0!==n&&n),{},{palette:Or(u(u({},!0===n?{}:n.palette),{},{mode:t}))}))}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:o=(null===t||void 0===t?void 0:t.mode)}=e,a=d(e,ko),i=o||"light",s=null===r||void 0===r?void 0:r[i],l=u(u({},r),t?{[i]:u(u({},"boolean"!==typeof s&&s),{},{palette:t})}:void 0);for(var c=arguments.length,p=new Array(c>1?c-1:0),f=1;f<c;f++)p[f-1]=arguments[f];if(!1===n){if(!("colorSchemes"in e))return io(e,...p);let n=t;"palette"in e||l[i]&&(!0!==l[i]?n=l[i].palette:"dark"===i&&(n={mode:"dark"}));const r=io(u(u({},e),{},{palette:n}),...p);return r.defaultColorScheme=i,r.colorSchemes=l,"light"===r.palette.mode&&(r.colorSchemes.light=u(u({},!0!==l.light&&l.light),{},{palette:r.palette}),Eo(r,"dark",l.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=u(u({},!0!==l.dark&&l.dark),{},{palette:r.palette}),Eo(r,"light",l.light)),r}return t||"light"in l||"light"!==i||(l.light=!0),Co(u(u({},a),{},{colorSchemes:l,defaultColorScheme:i},"boolean"!==typeof n&&n),...p)}const _o={attribute:"data-mui-color-scheme",colorSchemeStorageKey:"mui-color-scheme",defaultLightColorScheme:"light",defaultDarkColorScheme:"dark",modeStorageKey:"mui-mode"};const{CssVarsProvider:Io,useColorScheme:To,getInitColorSchemeScript:Ao}=function(e){const{themeId:n,theme:r={},modeStorageKey:o=$n,colorSchemeStorageKey:a=Yn,disableTransitionOnChange:i=!1,defaultColorScheme:s,resolveTheme:l}=e,c={allColorSchemes:[],colorScheme:void 0,darkColorScheme:void 0,lightColorScheme:void 0,mode:void 0,setColorScheme:()=>{},setMode:()=>{},systemMode:void 0},d=t.createContext(void 0),p={},h={},v="string"===typeof s?s:s.light,g="string"===typeof s?s:s.dark;return{CssVarsProvider:function(e){var c,v,g;const{children:y,theme:b,modeStorageKey:x=o,colorSchemeStorageKey:w=a,disableTransitionOnChange:S=i,storageManager:C,storageWindow:k=("undefined"===typeof window?void 0:window),documentNode:E=("undefined"===typeof document?void 0:document),colorSchemeNode:R=("undefined"===typeof document?void 0:document.documentElement),disableNestedContext:_=!1,disableStyleSheetGeneration:I=!1,defaultMode:T="system",forceThemeRerender:A=!1,noSsr:P}=e,N=t.useRef(!1),M=f(),O=t.useContext(d),D=!!O&&!_,j=t.useMemo(()=>b||("function"===typeof r?r():r),[b]),F=j[n],L=F||j,{colorSchemes:B=p,components:z=h,cssVarPrefix:W}=L,U=Object.keys(B).filter(e=>!!B[e]).join(","),V=t.useMemo(()=>U.split(","),[U]),H="string"===typeof s?s:s.light,q="string"===typeof s?s:s.dark,G=B[H]&&B[q]?T:(null===(c=B[L.defaultColorScheme])||void 0===c||null===(c=c.palette)||void 0===c?void 0:c.mode)||(null===(v=L.palette)||void 0===v?void 0:v.mode),{mode:K,setMode:X,systemMode:$,lightColorScheme:Y,darkColorScheme:Q,colorScheme:J,setColorScheme:Z}=rr({supportedColorSchemes:V,defaultLightColorScheme:H,defaultDarkColorScheme:q,modeStorageKey:x,colorSchemeStorageKey:w,defaultMode:G,storageManager:C,storageWindow:k,noSsr:P});let ee=K,te=J;D&&(ee=O.mode,te=O.colorScheme);let ne=te||L.defaultColorScheme;L.vars&&!A&&(ne=L.defaultColorScheme);const re=t.useMemo(()=>{var e;const t=(null===(e=L.generateThemeVars)||void 0===e?void 0:e.call(L))||L.vars,n=u(u({},L),{},{components:z,colorSchemes:B,cssVarPrefix:W,vars:t});if("function"===typeof n.generateSpacing&&(n.spacing=n.generateSpacing()),ne){const e=B[ne];e&&"object"===typeof e&&Object.keys(e).forEach(t=>{e[t]&&"object"===typeof e[t]?n[t]=u(u({},n[t]),e[t]):n[t]=e[t]})}return l?l(n):n},[L,ne,z,B,W]),oe=L.colorSchemeSelector;nt(()=>{if(te&&R&&oe&&"media"!==oe){const e=oe;let t=oe;if("class"===e&&(t=".%s"),"data"===e&&(t="[data-%s]"),null!==e&&void 0!==e&&e.startsWith("data-")&&!e.includes("%s")&&(t="[".concat(e,'="%s"]')),t.startsWith("."))R.classList.remove(...V.map(e=>t.substring(1).replace("%s",e))),R.classList.add(t.substring(1).replace("%s",te));else{const e=t.replace("%s",te).match(/\[([^\]]+)\]/);if(e){const[t,n]=e[1].split("=");n||V.forEach(e=>{R.removeAttribute(t.replace(te,e))}),R.setAttribute(t,n?n.replace(/"|'/g,""):"")}else R.setAttribute(t,te)}}},[te,oe,R,V]),t.useEffect(()=>{let e;if(S&&N.current&&E){const t=E.createElement("style");t.appendChild(E.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),E.head.appendChild(t),window.getComputedStyle(E.body),e=setTimeout(()=>{E.head.removeChild(t)},1)}return()=>{clearTimeout(e)}},[te,S,E]),t.useEffect(()=>(N.current=!0,()=>{N.current=!1}),[]);const ae=t.useMemo(()=>({allColorSchemes:V,colorScheme:te,darkColorScheme:Q,lightColorScheme:Y,mode:ee,setColorScheme:Z,setMode:X,systemMode:$}),[V,te,Q,Y,ee,Z,X,$,re.colorSchemeSelector]);let ie=!0;(I||!1===L.cssVariables||D&&(null===M||void 0===M?void 0:M.cssVarPrefix)===W)&&(ie=!1);const se=(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(qn,{themeId:F?n:void 0,theme:re,children:y}),ie&&(0,m.jsx)(wt,{styles:(null===(g=re.generateStyleSheets)||void 0===g?void 0:g.call(re))||[]})]});return D?se:(0,m.jsx)(d.Provider,{value:ae,children:se})},useColorScheme:()=>t.useContext(d)||c,getInitColorSchemeScript:e=>function(e){const{defaultMode:t="system",defaultLightColorScheme:n="light",defaultDarkColorScheme:r="dark",modeStorageKey:o=$n,colorSchemeStorageKey:a=Yn,attribute:i=Qn,colorSchemeNode:s="document.documentElement",nonce:l}=e||{};let u="",c=i;if("class"===i&&(c=".%s"),"data"===i&&(c="[data-%s]"),c.startsWith(".")){const e=c.substring(1);u+="".concat(s,".classList.remove('").concat(e,"'.replace('%s', light), '").concat(e,"'.replace('%s', dark));\n      ").concat(s,".classList.add('").concat(e,"'.replace('%s', colorScheme));")}const d=c.match(/\[([^[\]]+)\]/);if(d){const[e,t]=d[1].split("=");t||(u+="".concat(s,".removeAttribute('").concat(e,"'.replace('%s', light));\n      ").concat(s,".removeAttribute('").concat(e,"'.replace('%s', dark));")),u+="\n      ".concat(s,".setAttribute('").concat(e,"'.replace('%s', colorScheme), ").concat(t?"".concat(t,".replace('%s', colorScheme)"):'""',");")}else u+="".concat(s,".setAttribute('").concat(c,"', colorScheme);");return(0,m.jsx)("script",{suppressHydrationWarning:!0,nonce:"undefined"===typeof window?l:"",dangerouslySetInnerHTML:{__html:"(function() {\ntry {\n  let colorScheme = '';\n  const mode = localStorage.getItem('".concat(o,"') || '").concat(t,"';\n  const dark = localStorage.getItem('").concat(a,"-dark') || '").concat(r,"';\n  const light = localStorage.getItem('").concat(a,"-light') || '").concat(n,"';\n  if (mode === 'system') {\n    // handle system mode\n    const mql = window.matchMedia('(prefers-color-scheme: dark)');\n    if (mql.matches) {\n      colorScheme = dark\n    } else {\n      colorScheme = light\n    }\n  }\n  if (mode === 'light') {\n    colorScheme = light;\n  }\n  if (mode === 'dark') {\n    colorScheme = dark;\n  }\n  if (colorScheme) {\n    ").concat(u,"\n  }\n} catch(e){}})();")}},"mui-color-scheme-init")}(u({colorSchemeStorageKey:a,defaultLightColorScheme:v,defaultDarkColorScheme:g,modeStorageKey:o},e))}}({themeId:Gn,theme:()=>Ro({cssVariables:!0}),colorSchemeStorageKey:_o.colorSchemeStorageKey,modeStorageKey:_o.modeStorageKey,defaultColorScheme:{light:_o.defaultLightColorScheme,dark:_o.defaultDarkColorScheme},resolveTheme:e=>{const t=u(u({},e),{},{typography:qr(e.palette,e.typography)});return t.unstable_sx=function(e){return Dn({sx:e,theme:this})},t}});const Po=Io,No=["theme"];function Mo(e){let{theme:n}=e,r=d(e,No);const o=t.useMemo(()=>{if("function"===typeof n)return n;const e=Gn in n?n[Gn]:n;return"colorSchemes"in e?null:"vars"in e?n:u(u({},n),{},{vars:null})},[n]);return o?(0,m.jsx)(Xn,u({theme:o},r)):(0,m.jsx)(Po,u({theme:n},r))}const Oo=["sx"];function Do(e){const{sx:t}=e,n=d(e,Oo),{systemProps:r,otherProps:o}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},o=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:Mn;return Object.keys(e).forEach(t=>{o[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]}),r})(n);let a;return a=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return Ct(e)?u(u({},r),e):r}:u(u({},r),t),u(u({},o),{},{sx:a})}const jo=Ro();const Fo=function(e){return(0,m.jsx)(Un,u(u({},e),{},{defaultTheme:jo,themeId:Gn}))};function Lo(e){return function(t){return(0,m.jsx)(Fo,{styles:"function"===typeof e?n=>e(u({theme:n},t)):e})}}function Bo(e){return et(e)}const zo="function"===typeof Lo({}),Wo=(e,t)=>u({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),Uo=e=>u(u({color:(e.vars||e).palette.text.primary},e.typography.body1),{},{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),Vo=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={};n&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach(t=>{let[n,o]=t;const a=e.getColorSchemeSelector(n);var i,s;a.startsWith("@")?r[a]={":root":{colorScheme:null===(i=o.palette)||void 0===i?void 0:i.mode}}:r[a.replace(/\s*&/,"")]={colorScheme:null===(s=o.palette)||void 0===s?void 0:s.mode}});let o=u({html:Wo(e,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:u(u({margin:0},Uo(e)),{},{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const a=null===(t=e.components)||void 0===t||null===(t=t.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return a&&(o=[o,a]),o},Ho="mui-ecs",qo=Lo(zo?e=>{let{theme:t,enableColorScheme:n}=e;return Vo(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=Vo(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[":root:has(".concat(Ho,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach(t=>{let[r,o]=t;const a=e.getColorSchemeSelector(r);var i,s;a.startsWith("@")?n[a]={[":root:not(:has(.".concat(Ho,"))")]:{colorScheme:null===(i=o.palette)||void 0===i?void 0:i.mode}}:n[a.replace(/\s*&/,"")]={["&:not(:has(.".concat(Ho,"))")]:{colorScheme:null===(s=o.palette)||void 0===s?void 0:s.mode}}}),t})(t)});const Go=function(e){const n=Bo({props:e,name:"MuiCssBaseline"}),{children:r,enableColorScheme:o=!1}=n;return(0,m.jsxs)(t.Fragment,{children:[zo&&(0,m.jsx)(qo,{enableColorScheme:o}),!zo&&!o&&(0,m.jsx)("span",{className:Ho,style:{display:"none"}}),r]})},Ko=["sri"],Xo=["page"],$o=["page","matches"],Yo=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Qo=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Jo=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var Zo="popstate";function ea(){return sa(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return oa("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:aa(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function ta(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function na(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Gk){}}}function ra(e,t){return{usr:e.state,key:e.key,idx:t}}function oa(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?ia(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function aa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function ia(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function sa(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s="POP",l=null,c=d();function d(){return(i.state||{idx:null}).idx}function p(){s="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:s,location:h.location,delta:t})}function f(e){return la(e)}null==c&&(c=0,i.replaceState(u(u({},i.state),{},{idx:c}),""));let h={get action(){return s},get location(){return e(o,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Zo,p),l=e,()=>{o.removeEventListener(Zo,p),l=null}},createHref:e=>t(o,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=oa(h.location,e,t);n&&n(r,e),c=d()+1;let u=ra(r,c),p=h.createHref(r);try{i.pushState(u,"",p)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;o.location.assign(p)}a&&l&&l({action:s,location:h.location,delta:1})},replace:function(e,t){s="REPLACE";let r=oa(h.location,e,t);n&&n(r,e),c=d();let o=ra(r,c),u=h.createHref(r);i.replaceState(o,"",u),a&&l&&l({action:s,location:h.location,delta:0})},go:e=>i.go(e)};return h}function la(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),ta(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:aa(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function ua(e,t){return ca(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function ca(e,t,n,r){let o=Ea(("string"===typeof t?ia(t):t).pathname||"/",n);if(null==o)return null;let a=da(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=ka(o);i=wa(a[s],e,r)}return i}function da(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;ta(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let u=Aa([r,l.relativePath]),c=n.concat(l);e.children&&e.children.length>0&&(ta(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(u,'".')),da(e.children,t,c,u,i)),(null!=e.path||e.index)&&t.push({path:u,score:xa(u,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of pa(e.path))a(e,t,!0,r);else a(e,t)}),t}function pa(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return o?[a,""]:[a];let i=pa(r.join("/")),s=[];return s.push(...i.map(e=>""===e?a:[a,e].join("/"))),o&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var fa=/^:[\w-]+$/,ha=3,ma=2,va=1,ga=10,ya=-2,ba=e=>"*"===e;function xa(e,t){let n=e.split("/"),r=n.length;return n.some(ba)&&(r+=ya),t&&(r+=ma),n.filter(e=>!ba(e)).reduce((e,t)=>e+(fa.test(t)?ha:""===t?va:ga),r)}function wa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,u="/"===a?t:t.slice(a.length)||"/",c=Sa({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},u),d=e.route;if(!c&&l&&n&&!r[r.length-1].route.index&&(c=Sa({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},u)),!c)return null;Object.assign(o,c.params),i.push({params:o,pathname:Aa([a,c.pathname]),pathnameBase:Pa(Aa([a,c.pathnameBase])),route:d}),"/"!==c.pathnameBase&&(a=Aa([a,c.pathnameBase]))}return i}function Sa(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Ca(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function Ca(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];na("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function ka(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return na(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function Ea(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ra(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function _a(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Ia(e){let t=_a(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Ta(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=ia(e):(r=u({},e),ta(!r.pathname||!r.pathname.includes("?"),Ra("?","pathname","search",r)),ta(!r.pathname||!r.pathname.includes("#"),Ra("#","pathname","hash",r)),ta(!r.search||!r.search.includes("#"),Ra("#","search","hash",r)));let a,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:o=""}="string"===typeof e?ia(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Na(r),hash:Ma(o)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),d=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Aa=e=>e.join("/").replace(/\/\/+/g,"/"),Pa=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Na=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Ma=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Oa(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Da=["POST","PUT","PATCH","DELETE"],ja=(new Set(Da),["GET",...Da]);new Set(ja),Symbol("ResetLoaderData");var Fa=t.createContext(null);Fa.displayName="DataRouter";var La=t.createContext(null);La.displayName="DataRouterState";var Ba=t.createContext(!1);var za=t.createContext({isTransitioning:!1});za.displayName="ViewTransition";var Wa=t.createContext(new Map);Wa.displayName="Fetchers";var Ua=t.createContext(null);Ua.displayName="Await";var Va=t.createContext(null);Va.displayName="Navigation";var Ha=t.createContext(null);Ha.displayName="Location";var qa=t.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var Ga=t.createContext(null);Ga.displayName="RouteError";function Ka(){return null!=t.useContext(Ha)}function Xa(){return ta(Ka(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Ha).location}var $a="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ya(e){t.useContext(Va).static||t.useLayoutEffect(e)}function Qa(){let{isDataRoute:e}=t.useContext(qa);return e?function(){let{router:e}=si("useNavigate"),n=ui("useNavigate"),r=t.useRef(!1);Ya(()=>{r.current=!0});let o=t.useCallback(async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};na(r.current,$a),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,u({fromRouteId:n},o)))},[e,n]);return o}():function(){ta(Ka(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Fa),{basename:n,navigator:r}=t.useContext(Va),{matches:o}=t.useContext(qa),{pathname:a}=Xa(),i=JSON.stringify(Ia(o)),s=t.useRef(!1);Ya(()=>{s.current=!0});let l=t.useCallback(function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(na(s.current,$a),!s.current)return;if("number"===typeof t)return void r.go(t);let l=Ta(t,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Aa([n,l.pathname])),(o.replace?r.replace:r.push)(l,o.state,o)},[n,r,i,a,e]);return l}()}t.createContext(null);function Ja(){let{matches:e}=t.useContext(qa),n=e[e.length-1];return n?n.params:{}}function Za(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(qa),{pathname:o}=Xa(),a=JSON.stringify(Ia(r));return t.useMemo(()=>Ta(e,JSON.parse(a),o,"path"===n),[e,a,o,n])}function ei(e,n,r,o,a){ta(Ka(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(Va),{matches:s}=t.useContext(qa),l=s[s.length-1],c=l?l.params:{},d=l?l.pathname:"/",p=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";pi(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let h,m=Xa();if(n){var v;let e="string"===typeof n?ia(n):n;ta("/"===p||(null===(v=e.pathname)||void 0===v?void 0:v.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),h=e}else h=m;let g=h.pathname||"/",y=g;if("/"!==p){let e=p.replace(/^\//,"").split("/");y="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=ua(e,{pathname:y});na(f||null!=b,'No routes matched location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" ')),na(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,'Matched leaf route at location "'.concat(h.pathname).concat(h.search).concat(h.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let x=ai(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Aa([p,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:Aa([p,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r,o,a);return n&&x?t.createElement(Ha.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:"POP"}},x):x}function ti(){let e=ci(),n=Oa(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,s)}var ni=t.createElement(ti,null),ri=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(qa.Provider,{value:this.props.routeContext},t.createElement(Ga.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oi(e){let{routeContext:n,match:r,children:o}=e,a=t.useContext(Fa);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(qa.Provider,{value:n},o)}function ai(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));ta(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||o){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,u,c)=>{let d,p=!1,f=null,h=null;r&&(d=i&&u.route.id?i[u.route.id]:void 0,f=u.route.errorElement||ni,s&&(l<0&&0===c?(pi("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,h=null):l===c&&(p=!0,h=u.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,c+1)),v=()=>{let n;return n=d?f:p?h:u.route.Component?t.createElement(u.route.Component,null):u.route.element?u.route.element:e,t.createElement(oi,{match:u,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(u.route.ErrorBoundary||u.route.errorElement||0===c)?t.createElement(ri,{location:r.location,revalidation:r.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:o}):v()},null)}function ii(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function si(e){let n=t.useContext(Fa);return ta(n,ii(e)),n}function li(e){let n=t.useContext(La);return ta(n,ii(e)),n}function ui(e){let n=function(e){let n=t.useContext(qa);return ta(n,ii(e)),n}(e),r=n.matches[n.matches.length-1];return ta(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function ci(){var e;let n=t.useContext(Ga),r=li("useRouteError"),o=ui("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[o]}var di={};function pi(e,t,n){t||di[e]||(di[e]=!0,na(!1,n))}var fi={};function hi(e,t){e||fi[t]||(fi[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:o}=e;return ei(t,void 0,r,o,n)});function mi(e){let{to:n,replace:r,state:o,relative:a}=e;ta(Ka(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(Va);na(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=t.useContext(qa),{pathname:l}=Xa(),u=Qa(),c=Ta(n,Ia(s),l,"path"===a),d=JSON.stringify(c);return t.useEffect(()=>{u(JSON.parse(d),{replace:r,state:o,relative:a})},[u,d,a,r,o]),null}function vi(e){ta(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gi(e){let{basename:n="/",children:r=null,location:o,navigationType:a="POP",navigator:i,static:s=!1}=e;ta(!Ka(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);"string"===typeof o&&(o=ia(o));let{pathname:c="/",search:d="",hash:p="",state:f=null,key:h="default"}=o,m=t.useMemo(()=>{let e=Ea(c,l);return null==e?null:{location:{pathname:e,search:d,hash:p,state:f,key:h},navigationType:a}},[l,c,d,p,f,h,a]);return na(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(c).concat(d).concat(p,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(Va.Provider,{value:u},t.createElement(Ha.Provider,{children:r,value:m}))}function yi(e){let{children:t,location:n}=e;return ei(bi(t),n)}t.Component;function bi(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,o)=>{if(!t.isValidElement(e))return;let a=[...n,o];if(e.type===t.Fragment)return void r.push.apply(r,bi(e.props.children,a));ta(e.type===vi,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),ta(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=bi(e.props.children,a)),r.push(i)}),r}var xi="get",wi="application/x-www-form-urlencoded";function Si(e){return null!=e&&"string"===typeof e.tagName}var Ci=null;var ki=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ei(e){return null==e||ki.has(e)?e:(na(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(wi,'"')),null)}function Ri(e,t){let n,r,o,a,i;if(Si(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?Ea(i,t):null,n=e.getAttribute("method")||xi,o=Ei(e.getAttribute("enctype"))||wi,a=new FormData(e)}else if(function(e){return Si(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Si(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(r=s?Ea(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||xi,o=Ei(e.getAttribute("formenctype"))||Ei(i.getAttribute("enctype"))||wi,a=new FormData(i,e),!function(){if(null===Ci)try{new FormData(document.createElement("form"),0),Ci=!1}catch(Gk){Ci=!0}return Ci}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Si(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xi,r=null,o=wi,i=e}var s;return a&&"text/plain"===o&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function _i(e){return{__html:e}}function Ii(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Ti(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===Ea(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function Ai(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pi(e){return null!=e&&"string"===typeof e.page}function Ni(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Mi(e,t,n,r,o,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var u;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(u=n[0])||void 0===u?void 0:u.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Oi(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function Di(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!Pi(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(a)||(n.add(a),e.push({key:a,link:o})),e},[])}function ji(e,t){return"lazy"===e.mode&&!0===t}function Fi(){let e=t.useContext(Fa);return Ii(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Li(){let e=t.useContext(La);return Ii(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Bi=t.createContext(void 0);function zi(){let e=t.useContext(Bi);return Ii(e,"You must render this element inside a <HydratedRouter> element"),e}function Wi(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Ui(e,t,n){if(n&&!Gi)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Bi.displayName="FrameworkContext";function Vi(e){let{page:n}=e,r=d(e,Xo),{router:o}=Fi(),a=t.useMemo(()=>ua(o.routes,n,o.basename),[o.routes,n,o.basename]);return a?t.createElement(qi,u({page:n,matches:a},r)):null}function Hi(e){let{manifest:n,routeModules:r}=zi(),[o,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){return Di((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ai(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Ni).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||a(e)}),()=>{t=!0}},[e,n,r]),o}function qi(e){let{page:n,matches:r}=e,o=d(e,$o),a=Xa(),{manifest:i,routeModules:s}=zi(),{basename:l}=Fi(),{loaderData:c,matches:p}=Li(),f=t.useMemo(()=>Mi(n,r,p,i,a,"data"),[n,r,p,i,a]),h=t.useMemo(()=>Mi(n,r,p,i,a,"assets"),[n,r,p,i,a]),m=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let o=i.routes[n.route.id];o&&o.hasLoader&&(!f.some(e=>e.route.id===n.route.id)&&n.route.id in c&&null!==(r=s[n.route.id])&&void 0!==r&&r.shouldRevalidate||o.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let o=Ti(n,l,"data");return t&&e.size>0&&o.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[l,c,a,i,f,r,n,s]),v=t.useMemo(()=>Oi(h,i),[h,i]),g=Hi(h);return t.createElement(t.Fragment,null,m.map(e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},o))),v.map(e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},o))),g.map(e=>{let{key:n,link:r}=e;return t.createElement("link",u({key:n,nonce:o.nonce},r))}))}var Gi=!1;function Ki(e){let{manifest:n,serverHandoffString:r,isSpaMode:o,renderMeta:a,routeDiscovery:i,ssr:s}=zi(),{router:l,static:c,staticContext:p}=Fi(),{matches:f}=Li(),h=t.useContext(Ba),m=ji(i,s);a&&(a.didRenderScripts=!0);let v=Ui(f,null,o);t.useEffect(()=>{0},[]);let g=t.useMemo(()=>{var o;if(h)return null;let a=p?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=c?"".concat(null!==n.hmr&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(v.map((e,t)=>{let r="route".concat(t),o=n.routes[e.route.id];Ii(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:u}=o,c=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:u,varName:"".concat(r,"_main")}];return 1===c.length?"import * as ".concat(r," from ").concat(JSON.stringify(u),";"):[c.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(c.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=d(e,Ko),o=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push("/".concat(a.join("/"))),a.pop();i.forEach(e=>{let n=ua(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let s=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return u(u({},r),{},{routes:s,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:_i(a),type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:_i(i),type:"module",async:!0})))},[]),y=Gi||h?[]:(n.entry.imports.concat(Oi(v,n,{includeHydrateFallback:!0})),[...new Set(b)]);var b;let x="object"===typeof n.sri?n.sri:{};return hi(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),Gi||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,m?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),y.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),g)}function Xi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function $i(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let o,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Oa(n))return t.createElement(Yi,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(Yi,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),a)}function Yi(e){var n;let{title:r,renderScripts:o,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=zi();return null!==s.root&&void 0!==n&&n.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,o?t.createElement(Ki,null):null)))}var Qi="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qi&&(window.__reactRouterVersion="7.8.2")}catch(Gk){}function Ji(e){let{basename:n,children:r,window:o}=e,a=t.useRef();null==a.current&&(a.current=ea({window:o,v5Compat:!0}));let i=a.current,[s,l]=t.useState({action:i.action,location:i.location}),u=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(u),[i,u]),t.createElement(gi,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:i})}var Zi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=t.forwardRef(function(e,n){let r,{onClick:o,discover:a="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:p,target:f,to:h,preventScrollReset:m,viewTransition:v}=e,g=d(e,Yo),{basename:y}=t.useContext(Va),b="string"===typeof h&&Zi.test(h),x=!1;if("string"===typeof h&&b&&(r=h,Qi))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=Ea(t.pathname,y);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:x=!0}catch(Gk){na(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let w=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ta(Ka(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=t.useContext(Va),{hash:a,pathname:i,search:s}=Za(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:Aa([r,i])),o.createHref({pathname:l,search:s,hash:a})}(h,{relative:s}),[S,C,k]=function(e,n){let r=t.useContext(Bi),[o,a]=t.useState(!1),[i,s]=t.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=n,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let h=()=>{a(!0)},m=()=>{a(!1),s(!1)};return r?"intent"!==e?[i,f,{}]:[i,f,{onFocus:Wi(l,h),onBlur:Wi(u,m),onMouseEnter:Wi(c,h),onMouseLeave:Wi(d,m),onTouchStart:Wi(p,h)}]:[!1,f,{}]}(i,g),E=function(e){let{target:n,replace:r,state:o,preventScrollReset:a,relative:i,viewTransition:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=Qa(),u=Xa(),c=Za(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:aa(u)===aa(c);l(e,{replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:s})}},[u,l,c,r,o,n,e,a,i,s])}(h,{replace:c,state:p,target:f,preventScrollReset:m,relative:s,viewTransition:v});let R=t.createElement("a",u(u(u({},g),k),{},{href:r||w,onClick:x||l?o:function(e){o&&o(e),e.defaultPrevented||E(e)},ref:Xi(n,C),target:f,"data-discover":b||"render"!==a?void 0:"true"}));return S&&!b?t.createElement(t.Fragment,null,R,t.createElement(Vi,{page:w})):R});es.displayName="Link";var ts=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:o=!1,className:a="",end:i=!1,style:s,to:l,viewTransition:c,children:p}=e,f=d(e,Qo),h=Za(l,{relative:f.relative}),m=Xa(),v=t.useContext(La),{navigator:g,basename:y}=t.useContext(Va),b=null!=v&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(za);ta(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=os("useViewTransitionState"),a=Za(e,{relative:n});if(!r.isTransitioning)return!1;let i=Ea(r.currentLocation.pathname,o)||r.currentLocation.pathname,s=Ea(r.nextLocation.pathname,o)||r.nextLocation.pathname;return null!=Sa(a.pathname,s)||null!=Sa(a.pathname,i)}(h)&&!0===c,x=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;o||(w=w.toLowerCase(),S=S?S.toLowerCase():null,x=x.toLowerCase()),S&&y&&(S=Ea(S,y)||S);const C="/"!==x&&x.endsWith("/")?x.length-1:x.length;let k,E=w===x||!i&&w.startsWith(x)&&"/"===w.charAt(C),R=null!=S&&(S===x||!i&&S.startsWith(x)&&"/"===S.charAt(x.length)),_={isActive:E,isPending:R,isTransitioning:b},I=E?r:void 0;k="function"===typeof a?a(_):[a,E?"active":null,R?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let T="function"===typeof s?s(_):s;return t.createElement(es,u(u({},f),{},{"aria-current":I,className:k,ref:n,style:T,to:l,viewTransition:c}),"function"===typeof p?p(_):p)});ts.displayName="NavLink";var ns=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:o,navigate:a,reloadDocument:i,replace:s,state:l,method:c=xi,action:p,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v}=e,g=d(e,Jo),y=ss(),b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(Va),o=t.useContext(qa);ta(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),i=u({},Za(e||".",{relative:n})),s=Xa();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index"),n=t.some(e=>""===e);if(n){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:Aa([r,i.pathname]));return aa(i)}(p,{relative:h}),x="get"===c.toLowerCase()?"get":"post",w="string"===typeof p&&Zi.test(p);return t.createElement("form",u(u({ref:n,method:x,action:b,onSubmit:i?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;y(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:s,state:l,relative:h,preventScrollReset:m,viewTransition:v})}},g),{},{"data-discover":w||"render"!==r?void 0:"true"}))});function rs(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function os(e){let n=t.useContext(Fa);return ta(n,rs(e)),n}ns.displayName="Form";var as=0,is=()=>"__".concat(String(++as),"__");function ss(){let{router:e}=os("useSubmit"),{basename:n}=t.useContext(Va),r=ui("useRouteId");return t.useCallback(async function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:s,formData:l,body:u}=Ri(t,n);if(!1===o.navigate){let t=o.fetcherKey||is();await e.fetch(t,r,o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,flushSync:o.flushSync})}else await e.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:l,body:u,formMethod:o.method||i,formEncType:o.encType||s,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,n,r])}const ls=e=>e,us=(()=>{let e=ls;return{configure(t){e=t},generate:t=>e(t),reset(){e=ls}}})(),cs={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ds(e,t){const n=cs[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(us.generate(e),"-").concat(t)}function ps(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const o in e){const a=e[o];let i="",s=!0;for(let e=0;e<a.length;e+=1){const r=a[e];r&&(i+=(!0===s?"":" ")+t(r),s=!1,n&&n[r]&&(i+=" "+n[r]))}r[o]=i}return r}function fs(e){const{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?Je(t.components[n].defaultProps,r):r}function hs(e){let{props:t,name:n,defaultTheme:r,themeId:o}=e,a=zn(r);return o&&(a=a[o]||a),fs({theme:a,name:n,props:t})}const ms=["variants"];function vs(e){const{variants:t}=e,n=d(e,ms),r={variants:t,style:vt(n),isProcessed:!0};return r.style===n||t&&t.forEach(e=>{"function"!==typeof e.style&&(e.style=vt(e.style))}),r}const gs=["variants"],ys=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],bs=Ln();function xs(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function ws(e,t){return t&&e&&"object"===typeof e&&e.styles&&!e.styles.startsWith("@layer")&&(e.styles="@layer ".concat(t,"{").concat(String(e.styles),"}")),e}function Ss(e){return e?(t,n)=>n[e]:null}function Cs(e,t,n){const r="function"===typeof t?t(e):t;if(Array.isArray(r))return r.flatMap(t=>Cs(e,t,n));if(Array.isArray(null===r||void 0===r?void 0:r.variants)){let t;if(r.isProcessed)t=n?ws(r.style,n):r.style;else{const{variants:e}=r,o=d(r,gs);t=n?ws(vt(o),n):o}return ks(e,r.variants,[t],n)}return null!==r&&void 0!==r&&r.isProcessed?n?ws(vt(r.style),n):r.style:n?ws(vt(r),n):r}function ks(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;e:for(let i=0;i<t.length;i+=1){const s=t[i];if("function"===typeof s.props){if(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),!s.props(n))continue}else for(const t in s.props){var a;if(e[t]!==s.props[t]&&(null===(a=e.ownerState)||void 0===a?void 0:a[t])!==s.props[t])continue e}"function"===typeof s.style?(null!==n&&void 0!==n||(n=u(u(u({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(o?ws(vt(s.style(n)),o):s.style(n))):r.push(o?ws(vt(s.style),o):s.style)}return r}function Es(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=bs,rootShouldForwardProp:r=xs,slotShouldForwardProp:o=xs}=e;function a(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,e=>e.filter(e=>e!==Dn));const{name:n,slot:i,skipVariantsResolver:s,skipSx:l,overridesResolver:c=Ss(_s(i))}=t,p=d(t,ys),f=n&&n.startsWith("Mui")||i?"components":"custom",h=void 0!==s?s:i&&"Root"!==i&&"root"!==i||!1,m=l||!1;let v=xs;"Root"===i||"root"===i?v=r:i?v=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(v=void 0);const g=ht(e,u({shouldForwardProp:v,label:Rs(n,i)},p)),y=e=>{if(e.__emotion_real===e)return e;if("function"===typeof e)return function(t){return Cs(t,e,t.theme.modularCssLayers?f:void 0)};if(Ct(e)){const t=vs(e);return function(e){return t.variants?Cs(e,t,e.theme.modularCssLayers?f:void 0):e.theme.modularCssLayers?ws(t.style,f):t.style}}return e},b=function(){const t=[];for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];const s=o.map(y),l=[];if(t.push(a),n&&c&&l.push(function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const o={};for(const n in r)o[n]=Cs(e,r[n],e.theme.modularCssLayers?"theme":void 0);return c(e,o)}),n&&!h&&l.push(function(e){var t;const r=e.theme,o=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return o?ks(e,o,[],e.theme.modularCssLayers?"theme":void 0):null}),m||l.push(Dn),Array.isArray(s[0])){const e=s.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let o;o=[...n,...e,...r],o.raw=[...n,...e.raw,...r],t.unshift(o)}const u=[...t,...s,...l],d=g(...u);return e.muiName&&(d.muiName=e.muiName),d};return g.withConfig&&(b.withConfig=g.withConfig),b}}function Rs(e,t){}function _s(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Is=Es(),Ts=["className","component","disableGutters","fixed","maxWidth","classes"],As=Ln(),Ps=Is("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(Lt(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),Ns=e=>hs({props:e,name:"MuiContainer",defaultTheme:As});const Ms=Lt;const Os=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Ds=e=>Os(e)&&"classes"!==e,js=Es({themeId:Gn,defaultTheme:jo,rootShouldForwardProp:Ds}),Fs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Ps,useThemeProps:r=Ns,componentName:o="MuiContainer"}=e,a=n(e=>{let{theme:t,ownerState:n}=e;return u({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})},e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce((e,n)=>{const r=n,o=t.breakpoints.values[r];return 0!==o&&(e[t.breakpoints.up(r)]={maxWidth:"".concat(o).concat(t.breakpoints.unit)}),e},{})},e=>{let{theme:t,ownerState:n}=e;return u(u({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}}),n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}})}),i=t.forwardRef(function(e,t){const n=r(e),{className:i,component:s="div",disableGutters:l=!1,fixed:c=!1,maxWidth:p="lg",classes:f}=n,h=d(n,Ts),v=u(u({},n),{},{component:s,disableGutters:l,fixed:c,maxWidth:p}),g=((e,t)=>{const{classes:n,fixed:r,disableGutters:o,maxWidth:a}=e;return ps({root:["root",a&&"maxWidth".concat(Lt(String(a))),r&&"fixed",o&&"disableGutters"]},e=>ds(t,e),n)})(v,o);return(0,m.jsx)(a,u({as:s,ownerState:v,className:Qe(g.root,i),ref:t},h))});return i}({createStyledComponent:js("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["maxWidth".concat(Ms(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Bo({props:e,name:"MuiContainer"})}),Ls=Fs,Bs=["className","component"];function zs(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach(t=>{r[t]=ds(e,t,n)}),r}const Ws=zs("MuiBox",["root"]),Us=Ro(),Vs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:n,defaultTheme:r,defaultClassName:o="MuiBox-root",generateClassName:a}=e,i=ht("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(Dn),s=t.forwardRef(function(e,t){const s=zn(r),l=Do(e),{className:c,component:p="div"}=l,f=d(l,Bs);return(0,m.jsx)(i,u({as:p,ref:t,className:Qe(c,a?a(o):o),theme:n&&s[n]||s},f))});return s}({themeId:Gn,defaultTheme:Us,defaultClassName:Ws.root,generateClassName:us.generate}),Hs=Vs;function qs(){const e=zn(jo);return e[Gn]||e}const Gs={theme:void 0};const Ks=function(e){let t,n;return function(r){let o=t;return void 0!==o&&r.theme===n||(Gs.theme=r.theme,o=vs(e(Gs)),t=o,n=r.theme),o}};function Xs(e){return ds("MuiPaper",e)}zs("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const $s=["className","component","elevation","square","variant"],Ys=js("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(Ks(e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}})),Qs=t.forwardRef(function(e,t){var n;const r=Bo({props:e,name:"MuiPaper"}),o=qs(),{className:a,component:i="div",elevation:s=1,square:l=!1,variant:c="elevation"}=r,p=d(r,$s),f=u(u({},r),{},{component:i,elevation:s,square:l,variant:c}),h=(e=>{const{square:t,elevation:n,variant:r,classes:o}=e;return ps({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},Xs,o)})(f);return(0,m.jsx)(Ys,u(u({as:i,ownerState:f,className:Qe(h.root,a),ref:t},p),{},{style:u(u({},"elevation"===c&&u(u({"--Paper-shadow":(o.vars||o).shadows[s]},o.vars&&{"--Paper-overlay":null===(n=o.vars.overlays)||void 0===n?void 0:n[s]}),!o.vars&&"dark"===o.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(dr("#fff",so(s)),", ").concat(dr("#fff",so(s)),")")})),p.style)}))}),Js=Qs;function Zs(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function el(e){return ds("MuiTypography",e)}const tl=zs("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),nl=["color"],rl=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ol={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},al=Do,il=js("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(Ms(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Ks(e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter(e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n}).map(e=>{let[t,n]=e;return{props:{variant:t},style:n}}),...Object.entries(n.palette).filter(Zs()).map(e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}}),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter(e=>{let[,t]=e;return"string"===typeof t}).map(e=>{let[t]=e;return{props:{color:"text".concat(Ms(t))},style:{color:(n.vars||n).palette.text[t]}}}),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}})),sl={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},ll=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiTypography"}),{color:r}=n,o=d(n,nl),a=!ol[r],i=al(u(u({},o),a&&{color:r})),{align:s="inherit",className:l,component:c,gutterBottom:p=!1,noWrap:f=!1,paragraph:h=!1,variant:v="body1",variantMapping:g=sl}=i,y=d(i,rl),b=u(u({},i),{},{align:s,color:r,className:l,component:c,gutterBottom:p,noWrap:f,paragraph:h,variant:v,variantMapping:g}),x=c||(h?"p":g[v]||sl[v])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:o,variant:a,classes:i}=e;return ps({root:["root",a,"inherit"!==e.align&&"align".concat(Ms(t)),n&&"gutterBottom",r&&"noWrap",o&&"paragraph"]},el,i)})(b);return(0,m.jsx)(il,u(u({as:x,ref:t,className:Qe(w.root,l)},y),{},{ownerState:b,style:u(u({},"inherit"!==s&&{"--Typography-textAlign":s}),y.style)}))}),ul=ll;function cl(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=t.useRef(void 0),a=t.useCallback(e=>{const t=n.map(t=>{if(null==t)return null;if("function"===typeof t){const n=t,r=n(e);return"function"===typeof r?r:()=>{n(null)}}return t.current=e,()=>{t.current=null}});return()=>{t.forEach(e=>null===e||void 0===e?void 0:e())}},n);return t.useMemo(()=>n.every(e=>null==e)?null:e=>{o.current&&(o.current(),o.current=void 0),null!=e&&(o.current=a(e))},n)}const dl=function(e){return"string"===typeof e};const pl=function(e,t,n){return void 0===e||dl(e)?t:u(u({},t),{},{ownerState:u(u({},t.ownerState),n)})};const fl=function(e,t,n){return"function"===typeof e?e(t,n):e};const hl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)).forEach(t=>{n[t]=e[t]}),n};const ml=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter(t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])).forEach(n=>{t[n]=e[n]}),t};const vl=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:o,className:a}=e;if(!t){const e=Qe(null===n||void 0===n?void 0:n.className,a,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),t=u(u(u({},null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),i=u(u(u({},n),o),r);return e.length>0&&(i.className=e),Object.keys(t).length>0&&(i.style=t),{props:i,internalRef:void 0}}const i=hl(u(u({},o),r)),s=ml(r),l=ml(o),c=t(i),d=Qe(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,a,null===o||void 0===o?void 0:o.className,null===r||void 0===r?void 0:r.className),p=u(u(u(u({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===o||void 0===o?void 0:o.style),null===r||void 0===r?void 0:r.style),f=u(u(u(u({},c),n),l),s);return d.length>0&&(f.className=d),Object.keys(p).length>0&&(f.style=p),{props:f,internalRef:c.ref}},gl=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps","shouldForwardComponentProp"],yl=["component","slots","slotProps"],bl=["component"];function xl(e,t){const{className:n,elementType:r,ownerState:o,externalForwardedProps:a,internalForwardedProps:i,shouldForwardComponentProp:s=!1}=t,l=d(t,gl),{component:c,slots:p={[e]:void 0},slotProps:f={[e]:void 0}}=a,h=d(a,yl),m=p[e]||r,v=fl(f[e],o),g=vl(u(u({className:n},l),{},{externalForwardedProps:"root"===e?h:void 0,externalSlotProps:v})),{props:{component:y},internalRef:b}=g,x=d(g.props,bl),w=cl(b,null===v||void 0===v?void 0:v.ref,t.ref),S="root"===e?y||c:y;return[m,pl(m,u(u(u(u(u(u({},"root"===e&&!c&&!p[e]&&i),"root"!==e&&!p[e]&&i),x),S&&!s&&{as:S}),S&&s&&{component:S}),{},{ref:w}),o)]}function wl(e){return ds("MuiAlert",e)}const Sl=zs("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),Cl=at;function kl(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const El=cl;const Rl=function(e){const n=t.useRef(e);return nt(()=>{n.current=e}),t.useRef(function(){return(0,n.current)(...arguments)}).current},_l=Rl,Il={};function Tl(e,n){const r=t.useRef(Il);return r.current===Il&&(r.current=e(n)),r}class Al{static create(){return new Al}static use(){const e=Tl(Al.create).current,[n,r]=t.useState(!1);return e.shouldMount=n,e.setShouldMount=r,t.useEffect(e.mountEffect,[n]),e}constructor(){s(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())}),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)})}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)})}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then(()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)})}}function Pl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function Nl(e,t){return Nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nl(e,t)}function Ml(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nl(e,t)}const Ol=t.createContext(null);function Dl(e,n){var r=Object.create(null);return e&&t.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)}),r}function jl(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Fl(e,n,r){var o=Dl(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,o=Object.create(null),a=[];for(var i in e)i in t?a.length&&(o[i]=a,a=[]):a.push(i);var s={};for(var l in t){if(o[l])for(r=0;r<o[l].length;r++){var u=o[l][r];s[o[l][r]]=n(u)}s[l]=n(l)}for(r=0;r<a.length;r++)s[a[r]]=n(a[r]);return s}(n,o);return Object.keys(a).forEach(function(i){var s=a[i];if((0,t.isValidElement)(s)){var l=i in n,u=i in o,c=n[i],d=(0,t.isValidElement)(c)&&!c.props.in;!u||l&&!d?u||!l||d?u&&l&&(0,t.isValidElement)(c)&&(a[i]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:c.props.in,exit:jl(s,"exit",e),enter:jl(s,"enter",e)})):a[i]=(0,t.cloneElement)(s,{in:!1}):a[i]=(0,t.cloneElement)(s,{onExited:r.bind(null,s),in:!0,exit:jl(s,"exit",e),enter:jl(s,"enter",e)})}}),a}var Ll=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Bl=function(e){function n(t,n){var r,o=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},r}Ml(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,o,a=n.children,i=n.handleExited;return{children:n.firstRender?(r=e,o=i,Dl(r.children,function(e){return(0,t.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:jl(e,"appear",r),enter:jl(e,"enter",r),exit:jl(e,"exit",r)})})):Fl(e,a,i),firstRender:!1}},r.handleExited=function(e,t){var n=Dl(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState(function(t){var n=it({},t.children);return delete n[e.key],{children:n}}))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,o=c(e,["component","childFactory"]),a=this.state.contextValue,i=Ll(this.state.children).map(r);return delete o.appear,delete o.enter,delete o.exit,null===n?t.createElement(Ol.Provider,{value:a},i):t.createElement(Ol.Provider,{value:a},t.createElement(n,o,i))},n}(t.Component);Bl.propTypes={},Bl.defaultProps={component:"div",childFactory:function(e){return e}};const zl=Bl,Wl=[];class Ul{constructor(){s(this,"currentId",null),s(this,"clear",()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)}),s(this,"disposeEffect",()=>this.clear)}static create(){return new Ul}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,t()},e)}}function Vl(){const e=Tl(Ul.create).current;return function(e){t.useEffect(e,Wl)}(e.disposeEffect),e}const Hl=function(e){const{className:n,classes:r,pulsate:o=!1,rippleX:a,rippleY:i,rippleSize:s,in:l,onExited:u,timeout:c}=e,[d,p]=t.useState(!1),f=Qe(n,r.ripple,r.rippleVisible,o&&r.ripplePulsate),h={width:s,height:s,top:-s/2+i,left:-s/2+a},v=Qe(r.child,d&&r.childLeaving,o&&r.childPulsate);return l||d||p(!0),t.useEffect(()=>{if(!l&&null!=u){const e=setTimeout(u,c);return()=>{clearTimeout(e)}}},[u,l,c]),(0,m.jsx)("span",{className:f,style:h,children:(0,m.jsx)("span",{className:v})})};const ql=zs("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Gl=["center","classes","className"];var Kl,Xl,$l,Yl;const Ql=xt(Kl||(Kl=Pl(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),Jl=xt(Xl||(Xl=Pl(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),Zl=xt($l||($l=Pl(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),eu=js("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tu=js(Hl,{name:"MuiTouchRipple",slot:"Ripple"})(Yl||(Yl=Pl(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),ql.rippleVisible,Ql,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},ql.ripplePulsate,e=>{let{theme:t}=e;return t.transitions.duration.shorter},ql.child,ql.childLeaving,Jl,550,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut},ql.childPulsate,Zl,e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),nu=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:a={},className:i}=r,s=d(r,Gl),[l,c]=t.useState([]),p=t.useRef(0),f=t.useRef(null);t.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=t.useRef(!1),v=Vl(),g=t.useRef(null),y=t.useRef(null),b=t.useCallback(e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:o,cb:i}=e;c(e=>[...e,(0,m.jsx)(tu,{classes:{ripple:Qe(a.ripple,ql.ripple),rippleVisible:Qe(a.rippleVisible,ql.rippleVisible),ripplePulsate:Qe(a.ripplePulsate,ql.ripplePulsate),child:Qe(a.child,ql.child),childLeaving:Qe(a.childLeaving,ql.childLeaving),childPulsate:Qe(a.childPulsate,ql.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:o},p.current)]),p.current+=1,f.current=i},[a]),x=t.useCallback(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:r=!1,center:a=o||t.pulsate,fakeElement:i=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&h.current)return void(h.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(h.current=!0);const s=i?null:y.current,l=s?s.getBoundingClientRect():{width:0,height:0,left:0,top:0};let u,c,d;if(a||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)u=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;u=Math.round(t-l.left),c=Math.round(n-l.top)}if(a)d=Math.sqrt((2*l.width**2+l.height**2)/3),d%2===0&&(d+=1);else{const e=2*Math.max(Math.abs((s?s.clientWidth:0)-u),u)+2,t=2*Math.max(Math.abs((s?s.clientHeight:0)-c),c)+2;d=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===g.current&&(g.current=()=>{b({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})},v.start(80,()=>{g.current&&(g.current(),g.current=null)})):b({pulsate:r,rippleX:u,rippleY:c,rippleSize:d,cb:n})},[o,b,v]),w=t.useCallback(()=>{x({},{pulsate:!0})},[x]),S=t.useCallback((e,t)=>{if(v.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&g.current)return g.current(),g.current=null,void v.start(0,()=>{S(e,t)});g.current=null,c(e=>e.length>0?e.slice(1):e),f.current=t},[v]);return t.useImperativeHandle(n,()=>({pulsate:w,start:x,stop:S}),[w,x,S]),(0,m.jsx)(eu,u(u({className:Qe(ql.root,a.root,i),ref:y},s),{},{children:(0,m.jsx)(zl,{component:null,exit:!0,children:l})}))}),ru=nu;function ou(e){return ds("MuiButtonBase",e)}const au=zs("MuiButtonBase",["root","disabled","focusVisible"]),iu=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],su=js("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(au.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function lu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return _l(o=>(n&&n(o),r||e[t](o),!0))}const uu=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:a=!1,children:i,className:s,component:l="button",disabled:c=!1,disableRipple:p=!1,disableTouchRipple:f=!1,focusRipple:h=!1,focusVisibleClassName:v,LinkComponent:g="a",onBlur:y,onClick:b,onContextMenu:x,onDragLeave:w,onFocus:S,onFocusVisible:C,onKeyDown:k,onKeyUp:E,onMouseDown:R,onMouseLeave:_,onMouseUp:I,onTouchEnd:T,onTouchMove:A,onTouchStart:P,tabIndex:N=0,TouchRippleProps:M,touchRippleRef:O,type:D}=r,j=d(r,iu),F=t.useRef(null),L=Al.use(),B=El(L.ref,O),[z,W]=t.useState(!1);c&&z&&W(!1),t.useImperativeHandle(o,()=>({focusVisible:()=>{W(!0),F.current.focus()}}),[]);const U=L.shouldMount&&!p&&!c;t.useEffect(()=>{z&&h&&!p&&L.pulsate()},[p,h,z,L]);const V=lu(L,"start",R,f),H=lu(L,"stop",x,f),q=lu(L,"stop",w,f),G=lu(L,"stop",I,f),K=lu(L,"stop",e=>{z&&e.preventDefault(),_&&_(e)},f),X=lu(L,"start",P,f),$=lu(L,"stop",T,f),Y=lu(L,"stop",A,f),Q=lu(L,"stop",e=>{kl(e.target)||W(!1),y&&y(e)},!1),J=_l(e=>{F.current||(F.current=e.currentTarget),kl(e.target)&&(W(!0),C&&C(e)),S&&S(e)}),Z=()=>{const e=F.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ee=_l(e=>{h&&!e.repeat&&z&&" "===e.key&&L.stop(e,()=>{L.start(e)}),e.target===e.currentTarget&&Z()&&" "===e.key&&e.preventDefault(),k&&k(e),e.target===e.currentTarget&&Z()&&"Enter"===e.key&&!c&&(e.preventDefault(),b&&b(e))}),te=_l(e=>{h&&" "===e.key&&z&&!e.defaultPrevented&&L.stop(e,()=>{L.pulsate(e)}),E&&E(e),b&&e.target===e.currentTarget&&Z()&&" "===e.key&&!e.defaultPrevented&&b(e)});let ne=l;"button"===ne&&(j.href||j.to)&&(ne=g);const re={};"button"===ne?(re.type=void 0===D?"button":D,re.disabled=c):(j.href||j.to||(re.role="button"),c&&(re["aria-disabled"]=c));const oe=El(n,F),ae=u(u({},r),{},{centerRipple:a,component:l,disabled:c,disableRipple:p,disableTouchRipple:f,focusRipple:h,tabIndex:N,focusVisible:z}),ie=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:o}=e,a=ps({root:["root",t&&"disabled",n&&"focusVisible"]},ou,o);return n&&r&&(a.root+=" ".concat(r)),a})(ae);return(0,m.jsxs)(su,u(u(u({as:ne,className:Qe(ie.root,s),ownerState:ae,onBlur:Q,onClick:b,onContextMenu:H,onFocus:J,onKeyDown:ee,onKeyUp:te,onMouseDown:V,onMouseLeave:K,onMouseUp:G,onDragLeave:q,onTouchEnd:$,onTouchMove:Y,onTouchStart:X,ref:oe,tabIndex:c?-1:N,type:D},re),j),{},{children:[i,U?(0,m.jsx)(ru,u({ref:B,center:a},M)):null]}))});function cu(e){return ds("MuiCircularProgress",e)}zs("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const du=["className","color","disableShrink","size","style","thickness","value","variant"];var pu,fu,hu,mu;const vu=44,gu=xt(pu||(pu=Pl(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"]))),yu=xt(fu||(fu=Pl(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: -126px;\n  }\n"]))),bu="string"!==typeof gu?bt(hu||(hu=Pl(["\n        animation: "," 1.4s linear infinite;\n      "])),gu):null,xu="string"!==typeof yu?bt(mu||(mu=Pl(["\n        animation: "," 1.4s ease-in-out infinite;\n      "])),yu):null,wu=js("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["color".concat(Ms(n.color))]]}})(Ks(e=>{let{theme:t}=e;return{display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("transform")}},{props:{variant:"indeterminate"},style:bu||{animation:"".concat(gu," 1.4s linear infinite")}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})]}})),Su=js("svg",{name:"MuiCircularProgress",slot:"Svg"})({display:"block"}),Cu=js("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t["circle".concat(Ms(n.variant))],n.disableShrink&&t.circleDisableShrink]}})(Ks(e=>{let{theme:t}=e;return{stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:t.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink},style:xu||{animation:"".concat(yu," 1.4s ease-in-out infinite")}}]}})),ku=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiCircularProgress"}),{className:r,color:o="primary",disableShrink:a=!1,size:i=40,style:s,thickness:l=3.6,value:c=0,variant:p="indeterminate"}=n,f=d(n,du),h=u(u({},n),{},{color:o,disableShrink:a,size:i,thickness:l,value:c,variant:p}),v=(e=>{const{classes:t,variant:n,color:r,disableShrink:o}=e;return ps({root:["root",n,"color".concat(Ms(r))],svg:["svg"],circle:["circle","circle".concat(Ms(n)),o&&"circleDisableShrink"]},cu,t)})(h),g={},y={},b={};if("determinate"===p){const e=2*Math.PI*((vu-l)/2);g.strokeDasharray=e.toFixed(3),b["aria-valuenow"]=Math.round(c),g.strokeDashoffset="".concat(((100-c)/100*e).toFixed(3),"px"),y.transform="rotate(-90deg)"}return(0,m.jsx)(wu,u(u(u({className:Qe(v.root,r),style:u(u({width:i,height:i},y),s),ownerState:h,ref:t,role:"progressbar"},b),f),{},{children:(0,m.jsx)(Su,{className:v.svg,ownerState:h,viewBox:"".concat(22," ").concat(22," ").concat(vu," ").concat(vu),children:(0,m.jsx)(Cu,{className:v.circle,style:g,ownerState:h,cx:vu,cy:vu,r:(vu-l)/2,fill:"none",strokeWidth:l})})}))}),Eu=ku;function Ru(e){return ds("MuiIconButton",e)}const _u=zs("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge","loading","loadingIndicator","loadingWrapper"]),Iu=["edge","children","className","color","disabled","disableFocusRipple","size","id","loading","loadingIndicator"],Tu=js(uu,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.loading&&t.loading,"default"!==n.color&&t["color".concat(Ms(n.color))],n.edge&&t["edge".concat(Ms(n.edge))],t["size".concat(Ms(n.size))]]}})(Ks(e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}}),Ks(e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}}),...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(_u.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled},["&.".concat(_u.loading)]:{color:"transparent"}}})),Au=js("span",{name:"MuiIconButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",top:"50%",left:"50%",transform:"translate(-50%, -50%)",color:(t.vars||t).palette.action.disabled,variants:[{props:{loading:!0},style:{display:"flex"}}]}}),Pu=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiIconButton"}),{edge:r=!1,children:o,className:a,color:i="default",disabled:s=!1,disableFocusRipple:l=!1,size:c="medium",id:p,loading:f=null,loadingIndicator:h}=n,v=d(n,Iu),g=Cl(p),y=null!==h&&void 0!==h?h:(0,m.jsx)(Eu,{"aria-labelledby":g,color:"inherit",size:16}),b=u(u({},n),{},{edge:r,color:i,disabled:s,disableFocusRipple:l,loading:f,loadingIndicator:y,size:c}),x=(e=>{const{classes:t,disabled:n,color:r,edge:o,size:a,loading:i}=e;return ps({root:["root",i&&"loading",n&&"disabled","default"!==r&&"color".concat(Ms(r)),o&&"edge".concat(Ms(o)),"size".concat(Ms(a))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Ru,t)})(b);return(0,m.jsxs)(Tu,u(u({id:f?g:p,className:Qe(x.root,a),centerRipple:!0,focusRipple:!l,disabled:s||f,ref:t},v),{},{ownerState:b,children:["boolean"===typeof f&&(0,m.jsx)("span",{className:x.loadingWrapper,style:{display:"contents"},children:(0,m.jsx)(Au,{className:x.loadingIndicator,ownerState:b,children:f&&y})}),o]}))}),Nu=Pu;function Mu(e){return ds("MuiSvgIcon",e)}zs("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ou=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Du=js("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(Ms(n.color))],t["fontSize".concat(Ms(n.fontSize))]]}})(Ks(e=>{var t,n,r,o,a,i,s,l,u,c,d,p,f,h,m;let{theme:v}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=v.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(o=v.vars)&&void 0!==o?o:v).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(a=v.typography)||void 0===a||null===(i=a.pxToRem)||void 0===i?void 0:i.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(s=v.typography)||void 0===s||null===(l=s.pxToRem)||void 0===l?void 0:l.call(s,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(u=v.typography)||void 0===u||null===(c=u.pxToRem)||void 0===c?void 0:c.call(u,35))||"2.1875rem"}},...Object.entries((null!==(d=v.vars)&&void 0!==d?d:v).palette).filter(e=>{let[,t]=e;return t&&t.main}).map(e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=v.vars)&&void 0!==n?n:v).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}}),{props:{color:"action"},style:{color:null===(p=(null!==(f=v.vars)&&void 0!==f?f:v).palette)||void 0===p||null===(p=p.action)||void 0===p?void 0:p.active}},{props:{color:"disabled"},style:{color:null===(h=(null!==(m=v.vars)&&void 0!==m?m:v).palette)||void 0===h||null===(h=h.action)||void 0===h?void 0:h.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),ju=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiSvgIcon"}),{children:o,className:a,color:i="inherit",component:s="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:p=!1,titleAccess:f,viewBox:h="0 0 24 24"}=r,v=d(r,Ou),g=t.isValidElement(o)&&"svg"===o.type,y=u(u({},r),{},{color:i,component:s,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:p,viewBox:h,hasSvgAsChild:g}),b={};p||(b.viewBox=h);const x=(e=>{const{color:t,fontSize:n,classes:r}=e;return ps({root:["root","inherit"!==t&&"color".concat(Ms(t)),"fontSize".concat(Ms(n))]},Mu,r)})(y);return(0,m.jsxs)(Du,u(u(u(u({as:s,className:Qe(x.root,a),focusable:"false",color:c,"aria-hidden":!f||void 0,role:f?"img":void 0,ref:n},b),v),g&&o.props),{},{ownerState:y,children:[g?o.props.children:o,f?(0,m.jsx)("title",{children:f}):null]}))});ju.muiName="SvgIcon";const Fu=ju;function Lu(e,n){function r(t,n){return(0,m.jsx)(Fu,u(u({"data-testid":void 0,ref:n},t),{},{children:e}))}return r.muiName=Fu.muiName,t.memo(t.forwardRef(r))}const Bu=Lu((0,m.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"})),zu=Lu((0,m.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})),Wu=Lu((0,m.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"})),Uu=Lu((0,m.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"})),Vu=Lu((0,m.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Hu=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],qu=js(Js,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Ms(n.color||n.severity))]]}})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.darken:t.lighten,r="light"===t.palette.mode?t.lighten:t.darken;return u(u({},t.typography.body2),{},{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter(Zs(["light"])).map(e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:r(t.palette[o].light,.9),["& .".concat(Sl.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}}}}),...Object.entries(t.palette).filter(Zs(["light"])).map(e=>{let[r]=e;return{props:{colorSeverity:r,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert["".concat(r,"Color")]:n(t.palette[r].light,.6),border:"1px solid ".concat((t.vars||t).palette[r].light),["& .".concat(Sl.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(r,"IconColor")]}:{color:t.palette[r].main}}}}),...Object.entries(t.palette).filter(Zs(["dark"])).map(e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:u({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(n,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(n,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}})]})})),Gu=js("div",{name:"MuiAlert",slot:"Icon"})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),Ku=js("div",{name:"MuiAlert",slot:"Message"})({padding:"8px 0",minWidth:0,overflow:"auto"}),Xu=js("div",{name:"MuiAlert",slot:"Action"})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),$u={success:(0,m.jsx)(Bu,{fontSize:"inherit"}),warning:(0,m.jsx)(zu,{fontSize:"inherit"}),error:(0,m.jsx)(Wu,{fontSize:"inherit"}),info:(0,m.jsx)(Uu,{fontSize:"inherit"})},Yu=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiAlert"}),{action:r,children:o,className:a,closeText:i="Close",color:s,components:l={},componentsProps:c={},icon:p,iconMapping:f=$u,onClose:h,role:v="alert",severity:g="success",slotProps:y={},slots:b={},variant:x="standard"}=n,w=d(n,Hu),S=u(u({},n),{},{color:s,severity:g,variant:x,colorSeverity:s||g}),C=(e=>{const{variant:t,color:n,severity:r,classes:o}=e;return ps({root:["root","color".concat(Ms(n||r)),"".concat(t).concat(Ms(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]},wl,o)})(S),k={slots:u({closeButton:l.CloseButton,closeIcon:l.CloseIcon},b),slotProps:u(u({},c),y)},[E,R]=xl("root",{ref:t,shouldForwardComponentProp:!0,className:Qe(C.root,a),elementType:qu,externalForwardedProps:u(u({},k),w),ownerState:S,additionalProps:{role:v,elevation:0}}),[_,I]=xl("icon",{className:C.icon,elementType:Gu,externalForwardedProps:k,ownerState:S}),[T,A]=xl("message",{className:C.message,elementType:Ku,externalForwardedProps:k,ownerState:S}),[P,N]=xl("action",{className:C.action,elementType:Xu,externalForwardedProps:k,ownerState:S}),[M,O]=xl("closeButton",{elementType:Nu,externalForwardedProps:k,ownerState:S}),[D,j]=xl("closeIcon",{elementType:Vu,externalForwardedProps:k,ownerState:S});return(0,m.jsxs)(E,u(u({},R),{},{children:[!1!==p?(0,m.jsx)(_,u(u({},I),{},{children:p||f[g]||$u[g]})):null,(0,m.jsx)(T,u(u({},A),{},{children:o})),null!=r?(0,m.jsx)(P,u(u({},N),{},{children:r})):null,null==r&&h?(0,m.jsx)(P,u(u({},N),{},{children:(0,m.jsx)(M,u(u({size:"small","aria-label":i,title:i,color:"inherit",onClick:h},O),{},{children:(0,m.jsx)(D,u({fontSize:"small"},j))}))})):null]}))}),Qu=Yu;function Ju(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout(()=>{e.apply(this,o)},n)}return r.clear=()=>{clearTimeout(t)},r}function Zu(e){return e&&e.ownerDocument||document}function ec(e){return Zu(e).defaultView||window}const tc=["onChange","maxRows","minRows","style","value"];function nc(e){return parseInt(e,10)||0}const rc={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function oc(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const ac=t.forwardRef(function(e,n){const{onChange:r,maxRows:o,minRows:a=1,style:i,value:s}=e,l=d(e,tc),{current:c}=t.useRef(null!=s),p=t.useRef(null),f=cl(n,p),h=t.useRef(null),v=t.useRef(null),g=t.useCallback(()=>{const t=p.current,n=v.current;if(!t||!n)return;const r=ec(t).getComputedStyle(t);if("0px"===r.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=r.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const i=r.boxSizing,s=nc(r.paddingBottom)+nc(r.paddingTop),l=nc(r.borderBottomWidth)+nc(r.borderTopWidth),u=n.scrollHeight;n.value="x";const c=n.scrollHeight;let d=u;a&&(d=Math.max(Number(a)*c,d)),o&&(d=Math.min(Number(o)*c,d)),d=Math.max(d,c);return{outerHeightStyle:d+("border-box"===i?s+l:0),overflowing:Math.abs(d-u)<=1}},[o,a,e.placeholder]),y=Rl(()=>{const e=p.current,t=g();if(!e||!t||oc(t))return!1;const n=t.outerHeightStyle;return null!=h.current&&h.current!==n}),b=t.useCallback(()=>{const e=p.current,t=g();if(!e||!t||oc(t))return;const n=t.outerHeightStyle;h.current!==n&&(h.current=n,e.style.height="".concat(n,"px")),e.style.overflow=t.overflowing?"hidden":""},[g]),x=t.useRef(-1);nt(()=>{const e=Ju(b),t=null===p||void 0===p?void 0:p.current;if(!t)return;const n=ec(t);let r;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(()=>{y()&&(r.unobserve(t),cancelAnimationFrame(x.current),b(),x.current=requestAnimationFrame(()=>{r.observe(t)}))}),r.observe(t)),()=>{e.clear(),cancelAnimationFrame(x.current),n.removeEventListener("resize",e),r&&r.disconnect()}},[g,b,y]),nt(()=>{b()});return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)("textarea",u({value:s,onChange:e=>{c||b();const t=e.target,n=t.value.length,o=t.value.endsWith("\n"),a=t.selectionStart===n;o&&a&&t.setSelectionRange(n,n),r&&r(e)},ref:f,rows:a,style:i},l)),(0,m.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:u(u(u({},rc),i),{},{paddingTop:0,paddingBottom:0})})]})}),ic=ac;function sc(e){let{props:t,states:n,muiFormControl:r}=e;return n.reduce((e,n)=>(e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e),{})}const lc=t.createContext(void 0);function uc(){return t.useContext(lc)}const cc=nt;function dc(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function pc(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(dc(e.value)&&""!==e.value||t&&dc(e.defaultValue)&&""!==e.defaultValue)}function fc(e){return ds("MuiInputBase",e)}const hc=zs("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),mc=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"];var vc;const gc=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat(Ms(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},yc=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},bc=js("div",{name:"MuiInputBase",slot:"Root",overridesResolver:gc})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.body1),{},{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(hc.disabled)]:{color:(t.vars||t).palette.text.disabled,cursor:"default"},variants:[{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"4px 0 5px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"100%"}}]})})),xc=js("input",{name:"MuiInputBase",slot:"Input",overridesResolver:yc})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=u(u({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5}),{},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),o={opacity:"0 !important"},a=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(hc.formControl," &")]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus::-ms-input-placeholder":a},["&.".concat(hc.disabled)]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInjectingGlobalStyles},style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),wc=Lo({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Sc=t.forwardRef(function(e,n){var r;const o=Bo({props:e,name:"MuiInputBase"}),{"aria-describedby":a,autoComplete:i,autoFocus:s,className:l,color:c,components:p={},componentsProps:f={},defaultValue:h,disabled:v,disableInjectingGlobalStyles:g,endAdornment:y,error:b,fullWidth:x=!1,id:w,inputComponent:S="input",inputProps:C={},inputRef:k,margin:E,maxRows:R,minRows:_,multiline:I=!1,name:T,onBlur:A,onChange:P,onClick:N,onFocus:M,onKeyDown:O,onKeyUp:D,placeholder:j,readOnly:F,renderSuffix:L,rows:B,size:z,slotProps:W={},slots:U={},startAdornment:V,type:H="text",value:q}=o,G=d(o,mc),K=null!=C.value?C.value:q,{current:X}=t.useRef(null!=K),$=t.useRef(),Y=t.useCallback(e=>{0},[]),Q=El($,k,C.ref,Y),[J,Z]=t.useState(!1),ee=uc();const te=sc({props:o,muiFormControl:ee,states:["color","disabled","error","hiddenLabel","size","required","filled"]});te.focused=ee?ee.focused:J,t.useEffect(()=>{!ee&&v&&J&&(Z(!1),A&&A())},[ee,v,J,A]);const ne=ee&&ee.onFilled,re=ee&&ee.onEmpty,oe=t.useCallback(e=>{pc(e)?ne&&ne():re&&re()},[ne,re]);cc(()=>{X&&oe({value:K})},[K,oe,X]);t.useEffect(()=>{oe($.current)},[]);let ae=S,ie=C;I&&"input"===ae&&(ie=u(B?{type:void 0,minRows:B,maxRows:B}:{type:void 0,maxRows:R,minRows:_},ie),ae=ic);t.useEffect(()=>{ee&&ee.setAdornedStart(Boolean(V))},[ee,V]);const se=u(u({},o),{},{color:te.color||"primary",disabled:te.disabled,endAdornment:y,error:te.error,focused:te.focused,formControl:ee,fullWidth:x,hiddenLabel:te.hiddenLabel,multiline:I,size:te.size,startAdornment:V,type:H}),le=(e=>{const{classes:t,color:n,disabled:r,error:o,endAdornment:a,focused:i,formControl:s,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:d,size:p,startAdornment:f,type:h}=e;return ps({root:["root","color".concat(Ms(n)),r&&"disabled",o&&"error",l&&"fullWidth",i&&"focused",s&&"formControl",p&&"medium"!==p&&"size".concat(Ms(p)),c&&"multiline",f&&"adornedStart",a&&"adornedEnd",u&&"hiddenLabel",d&&"readOnly"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",c&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",a&&"inputAdornedEnd",d&&"readOnly"]},fc,t)})(se),ue=U.root||p.Root||bc,ce=W.root||f.root||{},de=U.input||p.Input||xc;return ie=u(u({},ie),null!==(r=W.input)&&void 0!==r?r:f.input),(0,m.jsxs)(t.Fragment,{children:[!g&&"function"===typeof wc&&(vc||(vc=(0,m.jsx)(wc,{}))),(0,m.jsxs)(ue,u(u(u(u({},ce),{},{ref:n,onClick:e=>{$.current&&e.currentTarget===e.target&&$.current.focus(),N&&N(e)}},G),!dl(ue)&&{ownerState:u(u({},se),ce.ownerState)}),{},{className:Qe(le.root,ce.className,l,F&&"MuiInputBase-readOnly"),children:[V,(0,m.jsx)(lc.Provider,{value:null,children:(0,m.jsx)(de,u(u(u({"aria-invalid":te.error,"aria-describedby":a,autoComplete:i,autoFocus:s,defaultValue:h,disabled:te.disabled,id:w,onAnimationStart:e=>{oe("mui-auto-fill-cancel"===e.animationName?$.current:{value:"x"})},name:T,placeholder:j,readOnly:F,required:te.required,rows:B,value:K,onKeyDown:O,onKeyUp:D,type:H},ie),!dl(de)&&{as:ae,ownerState:u(u({},se),ie.ownerState)}),{},{ref:Q,className:Qe(le.input,ie.className,F&&"MuiInputBase-readOnly"),onBlur:e=>{A&&A(e),C.onBlur&&C.onBlur(e),ee&&ee.onBlur?ee.onBlur(e):Z(!1)},onChange:function(e){if(!X){const t=e.target||$.current;if(null==t)throw new Error(Ft(1));oe({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];C.onChange&&C.onChange(e,...n),P&&P(e,...n)},onFocus:e=>{M&&M(e),C.onFocus&&C.onFocus(e),ee&&ee.onFocus?ee.onFocus(e):Z(!0)}}))}),y,L?L(u(u({},te),{},{startAdornment:V})):null]}))]})}),Cc=Sc;function kc(e){return ds("MuiInput",e)}const Ec=u(u({},hc),zs("MuiInput",["root","underline","input"])),Rc=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],_c=js(bc,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...gc(e,t),!n.disableUnderline&&t.underline]}})(Ks(e=>{let{theme:t}=e;let n="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(n=t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{"label + &":{marginTop:16}}},{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Ec.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Ec.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Ec.disabled,", .").concat(Ec.error,"):before")]:{borderBottom:"2px solid ".concat((t.vars||t).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(n)}},["&.".concat(Ec.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n,disableUnderline:!1},style:{"&::after":{borderBottom:"2px solid ".concat((t.vars||t).palette[n].main)}}}})]}})),Ic=js(xc,{name:"MuiInput",slot:"Input",overridesResolver:yc})({}),Tc=t.forwardRef(function(e,t){var n,r,o,a;const i=Bo({props:e,name:"MuiInput"}),{disableUnderline:s=!1,components:l={},componentsProps:c,fullWidth:p=!1,inputComponent:f="input",multiline:h=!1,slotProps:v,slots:g={},type:y="text"}=i,b=d(i,Rc),x=(e=>{const{classes:t,disableUnderline:n}=e,r=ps({root:["root",!n&&"underline"],input:["input"]},kc,t);return u(u({},t),r)})(i),w={root:{ownerState:{disableUnderline:s}}},S=(null!==v&&void 0!==v?v:c)?Et(null!==v&&void 0!==v?v:c,w):w,C=null!==(n=null!==(r=g.root)&&void 0!==r?r:l.Root)&&void 0!==n?n:_c,k=null!==(o=null!==(a=g.input)&&void 0!==a?a:l.Input)&&void 0!==o?o:Ic;return(0,m.jsx)(Cc,u(u({slots:{root:C,input:k},slotProps:S,fullWidth:p,inputComponent:f,multiline:h,ref:t,type:y},b),{},{classes:x}))});Tc.muiName="Input";const Ac=Tc;function Pc(e){return ds("MuiFilledInput",e)}const Nc=u(u({},hc),zs("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])),Mc=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Oc=js(bc,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...gc(e,t),!n.disableUnderline&&t.underline]}})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",i=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},["&.".concat(Nc.focused)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},["&.".concat(Nc.disabled)]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:i},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableUnderline},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(Nc.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(Nc.error)]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(t.vars?t.alpha(t.vars.palette.common.onBackground,t.vars.opacity.inputUnderline):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(Nc.disabled,", .").concat(Nc.error,"):before")]:{borderBottom:"1px solid ".concat((t.vars||t).palette.text.primary)},["&.".concat(Nc.disabled,":before")]:{borderBottomStyle:"dotted"}}},...Object.entries(t.palette).filter(Zs()).map(e=>{var n;let[r]=e;return{props:{disableUnderline:!1,color:r},style:{"&::after":{borderBottom:"2px solid ".concat(null===(n=(t.vars||t).palette[r])||void 0===n?void 0:n.main)}}}}),{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:12}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:12}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"25px 12px 8px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.multiline&&t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}}]}})),Dc=js(xc,{name:"MuiFilledInput",slot:"Input",overridesResolver:yc})(Ks(e=>{let{theme:t}=e;return u(u(u({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel},style:{paddingTop:16,paddingBottom:17}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}},{props:e=>{let{ownerState:t}=e;return t.hiddenLabel&&"small"===t.size},style:{paddingTop:8,paddingBottom:9}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]})})),jc=t.forwardRef(function(e,t){var n,r,o,a;const i=Bo({props:e,name:"MuiFilledInput"}),{disableUnderline:s=!1,components:l={},componentsProps:c,fullWidth:p=!1,hiddenLabel:f,inputComponent:h="input",multiline:v=!1,slotProps:g,slots:y={},type:b="text"}=i,x=d(i,Mc),w=u(u({},i),{},{disableUnderline:s,fullWidth:p,inputComponent:h,multiline:v,type:b}),S=(e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:o,size:a,hiddenLabel:i,multiline:s}=e,l=ps({root:["root",!n&&"underline",r&&"adornedStart",o&&"adornedEnd","small"===a&&"size".concat(Ms(a)),i&&"hiddenLabel",s&&"multiline"],input:["input"]},Pc,t);return u(u({},t),l)})(i),C={root:{ownerState:w},input:{ownerState:w}},k=(null!==g&&void 0!==g?g:c)?Et(C,null!==g&&void 0!==g?g:c):C,E=null!==(n=null!==(r=y.root)&&void 0!==r?r:l.Root)&&void 0!==n?n:Oc,R=null!==(o=null!==(a=y.input)&&void 0!==a?a:l.Input)&&void 0!==o?o:Dc;return(0,m.jsx)(Cc,u(u({slots:{root:E,input:R},slotProps:k,fullWidth:p,inputComponent:h,multiline:v,ref:t,type:b},x),{},{classes:S}))});jc.muiName="Input";const Fc=jc,Lc=["children","classes","className","label","notched"];var Bc;const zc=js("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Ds})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Wc=js("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Ds})(Ks(e=>{let{theme:t}=e;return{float:"unset",width:"auto",overflow:"hidden",variants:[{props:e=>{let{ownerState:t}=e;return!t.withLabel},style:{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})}},{props:e=>{let{ownerState:t}=e;return t.withLabel},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:e=>{let{ownerState:t}=e;return t.withLabel&&t.notched},style:{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}]}}));function Uc(e){return ds("MuiOutlinedInput",e)}const Vc=u(u({},hc),zs("MuiOutlinedInput",["root","notchedOutline","input"])),Hc=["components","fullWidth","inputComponent","label","multiline","notched","slots","slotProps","type"],qc=js(bc,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:gc})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(t.vars||t).shape.borderRadius,["&:hover .".concat(Vc.notchedOutline)]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(Vc.notchedOutline)]:{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}},["&.".concat(Vc.focused," .").concat(Vc.notchedOutline)]:{borderWidth:2},variants:[...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(Vc.focused," .").concat(Vc.notchedOutline)]:{borderColor:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(Vc.error," .").concat(Vc.notchedOutline)]:{borderColor:(t.vars||t).palette.error.main},["&.".concat(Vc.disabled," .").concat(Vc.notchedOutline)]:{borderColor:(t.vars||t).palette.action.disabled}}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:14}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:14}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:"16.5px 14px"}},{props:e=>{let{ownerState:t,size:n}=e;return t.multiline&&"small"===n},style:{padding:"8.5px 14px"}}]}})),Gc=js(function(e){const{children:t,classes:n,className:r,label:o,notched:a}=e,i=d(e,Lc),s=null!=o&&""!==o,l=u(u({},e),{},{notched:a,withLabel:s});return(0,m.jsx)(zc,u(u({"aria-hidden":!0,className:r,ownerState:l},i),{},{children:(0,m.jsx)(Wc,{ownerState:l,children:s?(0,m.jsx)("span",{children:o}):Bc||(Bc=(0,m.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline"})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?t.alpha(t.vars.palette.common.onBackground,.23):n}})),Kc=js(xc,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:yc})(Ks(e=>{let{theme:t}=e;return u(u(u({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}}),t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}}),{},{variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:e=>{let{ownerState:t}=e;return t.multiline},style:{padding:0}},{props:e=>{let{ownerState:t}=e;return t.startAdornment},style:{paddingLeft:0}},{props:e=>{let{ownerState:t}=e;return t.endAdornment},style:{paddingRight:0}}]})})),Xc=t.forwardRef(function(e,n){var r,o,a,i;const s=Bo({props:e,name:"MuiOutlinedInput"}),{components:l={},fullWidth:c=!1,inputComponent:p="input",label:f,multiline:h=!1,notched:v,slots:g={},slotProps:y={},type:b="text"}=s,x=d(s,Hc),w=(e=>{const{classes:t}=e,n=ps({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Uc,t);return u(u({},t),n)})(s),S=uc(),C=sc({props:s,muiFormControl:S,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=u(u({},s),{},{color:C.color||"primary",disabled:C.disabled,error:C.error,focused:C.focused,formControl:S,fullWidth:c,hiddenLabel:C.hiddenLabel,multiline:h,size:C.size,type:b}),E=null!==(r=null!==(o=g.root)&&void 0!==o?o:l.Root)&&void 0!==r?r:qc,R=null!==(a=null!==(i=g.input)&&void 0!==i?i:l.Input)&&void 0!==a?a:Kc,[_,I]=xl("notchedOutline",{elementType:Gc,className:w.notchedOutline,shouldForwardComponentProp:!0,ownerState:k,externalForwardedProps:{slots:g,slotProps:y},additionalProps:{label:null!=f&&""!==f&&C.required?(0,m.jsxs)(t.Fragment,{children:[f,"\u2009","*"]}):f}});return(0,m.jsx)(Cc,u(u({slots:{root:E,input:R},slotProps:y,renderSuffix:e=>(0,m.jsx)(_,u(u({},I),{},{notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})),fullWidth:c,inputComponent:p,multiline:h,ref:n,type:b},x),{},{classes:u(u({},w),{},{notchedOutline:null})}))});Xc.muiName="Input";const $c=Xc;function Yc(e){return ds("MuiFormLabel",e)}const Qc=zs("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Jc=["children","className","color","component","disabled","error","filled","focused","required"],Zc=js("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled]}})(Ks(e=>{let{theme:t}=e;return u(u({color:(t.vars||t).palette.text.secondary},t.typography.body1),{},{lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(Qc.focused)]:{color:(t.vars||t).palette[n].main}}}}),{props:{},style:{["&.".concat(Qc.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(Qc.error)]:{color:(t.vars||t).palette.error.main}}}]})})),ed=js("span",{name:"MuiFormLabel",slot:"Asterisk"})(Ks(e=>{let{theme:t}=e;return{["&.".concat(Qc.error)]:{color:(t.vars||t).palette.error.main}}})),td=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiFormLabel"}),{children:r,className:o,color:a,component:i="label",disabled:s,error:l,filled:c,focused:p,required:f}=n,h=d(n,Jc),v=sc({props:n,muiFormControl:uc(),states:["color","required","focused","disabled","error","filled"]}),g=u(u({},n),{},{color:v.color||"primary",component:i,disabled:v.disabled,error:v.error,filled:v.filled,focused:v.focused,required:v.required}),y=(e=>{const{classes:t,color:n,focused:r,disabled:o,error:a,filled:i,required:s}=e;return ps({root:["root","color".concat(Ms(n)),o&&"disabled",a&&"error",i&&"filled",r&&"focused",s&&"required"],asterisk:["asterisk",a&&"error"]},Yc,t)})(g);return(0,m.jsxs)(Zc,u(u({as:i,ownerState:g,className:Qe(y.root,o),ref:t},h),{},{children:[r,v.required&&(0,m.jsxs)(ed,{ownerState:g,"aria-hidden":!0,className:y.asterisk,children:["\u2009","*"]})]}))}),nd=td;function rd(e){return ds("MuiInputLabel",e)}zs("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const od=["disableAnimation","margin","shrink","variant","className"],ad=js(nd,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(Qc.asterisk)]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Ks(e=>{let{theme:t}=e;return{display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:e=>{let{ownerState:t}=e;return t.formControl},style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:e=>{let{ownerState:t}=e;return t.shrink},style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:e=>{let{ownerState:t}=e;return!t.disableAnimation},style:{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"filled"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:e=>{let{variant:t,ownerState:n,size:r}=e;return"filled"===t&&n.shrink&&"small"===r},style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:e=>{let{variant:t,ownerState:n}=e;return"outlined"===t&&n.shrink},style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}})),id=t.forwardRef(function(e,t){const n=Bo({name:"MuiInputLabel",props:e}),{disableAnimation:r=!1,margin:o,shrink:a,variant:i,className:s}=n,l=d(n,od),c=uc();let p=a;"undefined"===typeof p&&c&&(p=c.filled||c.focused||c.adornedStart);const f=sc({props:n,muiFormControl:c,states:["size","variant","required","focused"]}),h=u(u({},n),{},{disableAnimation:r,formControl:c,shrink:p,size:f.size,variant:f.variant,required:f.required,focused:f.focused}),v=(e=>{const{classes:t,formControl:n,size:r,shrink:o,disableAnimation:a,variant:i,required:s}=e,l=ps({root:["root",n&&"formControl",!a&&"animated",o&&"shrink",r&&"medium"!==r&&"size".concat(Ms(r)),i],asterisk:[s&&"asterisk"]},rd,t);return u(u({},t),l)})(h);return(0,m.jsx)(ad,u(u({"data-shrink":p,ref:t,className:Qe(v.root,s)},l),{},{ownerState:h,classes:v}))});function sd(e,n){var r,o;return t.isValidElement(e)&&-1!==n.indexOf(null!==(r=e.type.muiName)&&void 0!==r?r:null===(o=e.type)||void 0===o||null===(o=o._payload)||void 0===o||null===(o=o.value)||void 0===o?void 0:o.muiName)}const ld=sd;function ud(e){return ds("MuiFormControl",e)}zs("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const cd=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],dd=js("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["margin".concat(Ms(n.margin))],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),pd=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiFormControl"}),{children:o,className:a,color:i="primary",component:s="div",disabled:l=!1,error:c=!1,focused:p,fullWidth:f=!1,hiddenLabel:h=!1,margin:v="none",required:g=!1,size:y="medium",variant:b="outlined"}=r,x=d(r,cd),w=u(u({},r),{},{color:i,component:s,disabled:l,error:c,fullWidth:f,hiddenLabel:h,margin:v,required:g,size:y,variant:b}),S=(e=>{const{classes:t,margin:n,fullWidth:r}=e;return ps({root:["root","none"!==n&&"margin".concat(Ms(n)),r&&"fullWidth"]},ud,t)})(w),[C,k]=t.useState(()=>{let e=!1;return o&&t.Children.forEach(o,t=>{if(!ld(t,["Input","Select"]))return;const n=ld(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}),e}),[E,R]=t.useState(()=>{let e=!1;return o&&t.Children.forEach(o,t=>{ld(t,["Input","Select"])&&(pc(t.props,!0)||pc(t.props.inputProps,!0))&&(e=!0)}),e}),[_,I]=t.useState(!1);l&&_&&I(!1);const T=void 0===p||l?_:p;let A;t.useRef(!1);const P=t.useCallback(()=>{R(!0)},[]),N=t.useCallback(()=>{R(!1)},[]),M=t.useMemo(()=>({adornedStart:C,setAdornedStart:k,color:i,disabled:l,error:c,filled:E,focused:T,fullWidth:f,hiddenLabel:h,size:y,onBlur:()=>{I(!1)},onFocus:()=>{I(!0)},onEmpty:N,onFilled:P,registerEffect:A,required:g,variant:b}),[C,i,l,c,E,T,f,h,A,N,P,g,y,b]);return(0,m.jsx)(lc.Provider,{value:M,children:(0,m.jsx)(dd,u(u({as:s,ownerState:w,className:Qe(S.root,a),ref:n},x),{},{children:o}))})}),fd=pd;function hd(e){return ds("MuiFormHelperText",e)}const md=zs("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),vd=["children","className","component","disabled","error","filled","focused","margin","required","variant"];var gd;const yd=js("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t["size".concat(Ms(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})(Ks(e=>{let{theme:t}=e;return u(u({color:(t.vars||t).palette.text.secondary},t.typography.caption),{},{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(md.disabled)]:{color:(t.vars||t).palette.text.disabled},["&.".concat(md.error)]:{color:(t.vars||t).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:e=>{let{ownerState:t}=e;return t.contained},style:{marginLeft:14,marginRight:14}}]})})),bd=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiFormHelperText"}),{children:r,className:o,component:a="p",disabled:i,error:s,filled:l,focused:c,margin:p,required:f,variant:h}=n,v=d(n,vd),g=sc({props:n,muiFormControl:uc(),states:["variant","size","disabled","error","filled","focused","required"]}),y=u(u({},n),{},{component:a,contained:"filled"===g.variant||"outlined"===g.variant,variant:g.variant,size:g.size,disabled:g.disabled,error:g.error,filled:g.filled,focused:g.focused,required:g.required});delete y.ownerState;const b=(e=>{const{classes:t,contained:n,size:r,disabled:o,error:a,filled:i,focused:s,required:l}=e;return ps({root:["root",o&&"disabled",a&&"error",r&&"size".concat(Ms(r)),n&&"contained",s&&"focused",i&&"filled",l&&"required"]},hd,t)})(y);return(0,m.jsx)(yd,u(u({as:a,className:Qe(b.root,o),ref:t},v),{},{ownerState:y,children:" "===r?gd||(gd=(0,m.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):r}))});function xd(e){var n;return parseInt(t.version,10)>=19?(null===e||void 0===e||null===(n=e.props)||void 0===n?void 0:n.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}const wd=Zu,Sd=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const Cd=function(e){var t;const{elementType:n,externalSlotProps:r,ownerState:o,skipResolvingSlotProps:a=!1}=e,i=d(e,Sd),s=a?{}:fl(r,o),{props:l,internalRef:c}=vl(u(u({},i),{},{externalSlotProps:s})),p=cl(c,null===s||void 0===s?void 0:s.ref,null===(t=e.additionalProps)||void 0===t?void 0:t.ref);return pl(n,u(u({},l),{},{ref:p}),o)};const kd=t.createContext({});function Ed(e){return ds("MuiList",e)}zs("MuiList",["root","padding","dense","subheader"]);const Rd=["children","className","component","dense","disablePadding","subheader"],_d=js("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),Id=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiList"}),{children:o,className:a,component:i="ul",dense:s=!1,disablePadding:l=!1,subheader:c}=r,p=d(r,Rd),f=t.useMemo(()=>({dense:s}),[s]),h=u(u({},r),{},{component:i,dense:s,disablePadding:l}),v=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:o}=e;return ps({root:["root",!n&&"padding",r&&"dense",o&&"subheader"]},Ed,t)})(h);return(0,m.jsx)(kd.Provider,{value:f,children:(0,m.jsxs)(_d,u(u({as:i,className:Qe(v.root,a),ref:n,ownerState:h},p),{},{children:[c,o]}))})});function Td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}const Ad=Td,Pd=ec,Nd=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Md(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Od(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Dd(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join("")))}function jd(e,t,n,r,o,a){let i=!1,s=o(e,t,!!t&&n);for(;s;){if(s===e.firstChild){if(i)return!1;i=!0}const t=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Dd(s,a)&&!t)return s.focus(),!0;s=o(e,s,n)}return!1}const Fd=t.forwardRef(function(e,n){const{actions:r,autoFocus:o=!1,autoFocusItem:a=!1,children:i,className:s,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:p,variant:f="selectedMenu"}=e,h=d(e,Nd),v=t.useRef(null),g=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});cc(()=>{o&&v.current.focus()},[o]),t.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const r=!v.current.style.width;if(e.clientHeight<v.current.clientHeight&&r){const t="".concat(Ad(Pd(e)),"px");v.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,v.current.style.width="calc(100% + ".concat(t,")")}return v.current}}),[]);const y=El(v,n);let b=-1;t.Children.forEach(i,(e,n)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===f&&e.props.selected||-1===b)&&(b=n),b===n&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(b+=1,b>=i.length&&(b=-1))):b===n&&(b+=1,b>=i.length&&(b=-1))});const x=t.Children.map(i,(e,n)=>{if(n===b){const n={};return a&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===f&&(n.tabIndex=0),t.cloneElement(e,n)}return e});return(0,m.jsx)(Id,u(u({role:"menu",ref:y,className:s,onKeyDown:e=>{const t=v.current,n=e.key;if(e.ctrlKey||e.metaKey||e.altKey)return void(p&&p(e));const r=wd(t).activeElement;if("ArrowDown"===n)e.preventDefault(),jd(t,r,c,l,Md);else if("ArrowUp"===n)e.preventDefault(),jd(t,r,c,l,Od);else if("Home"===n)e.preventDefault(),jd(t,null,c,l,Md);else if("End"===n)e.preventDefault(),jd(t,null,c,l,Od);else if(1===n.length){const o=g.current,a=n.toLowerCase(),i=performance.now();o.keys.length>0&&(i-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&a!==o.keys[0]&&(o.repeating=!1)),o.lastTime=i,o.keys.push(a);const s=r&&!o.repeating&&Dd(r,o);o.previousKeyMatched&&(s||jd(t,r,!1,l,Md,o))?e.preventDefault():o.previousKeyMatched=!1}p&&p(e)},tabIndex:o?0:-1},h),{},{children:x}))}),Ld=Fd,Bd=Ju;var zd=n(950);const Wd=!1;var Ud="unmounted",Vd="exited",Hd="entering",qd="entered",Gd="exiting",Kd=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var o,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(o=Vd,r.appearStatus=Hd):o=qd:o=t.unmountOnExit||t.mountOnEnter?Ud:Vd,r.state={status:o},r.nextCallback=null,r}Ml(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ud?{status:Vd}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Hd&&n!==qd&&(t=Hd):n!==Hd&&n!==qd||(t=Gd)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Hd){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:zd.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Vd&&this.setState({status:Ud})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[zd.findDOMNode(this),r],a=o[0],i=o[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Wd?this.safeSetState({status:qd},function(){t.props.onEntered(a)}):(this.props.onEnter(a,i),this.safeSetState({status:Hd},function(){t.props.onEntering(a,i),t.onTransitionEnd(l,function(){t.safeSetState({status:qd},function(){t.props.onEntered(a,i)})})}))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:zd.findDOMNode(this);t&&!Wd?(this.props.onExit(r),this.safeSetState({status:Gd},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:Vd},function(){e.props.onExited(r)})})})):this.safeSetState({status:Vd},function(){e.props.onExited(r)})},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:zd.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=o[0],i=o[1];this.props.addEndListener(a,i)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===Ud)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,c(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Ol.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},n}(t.Component);function Xd(){}Kd.contextType=Ol,Kd.propTypes={},Kd.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xd,onEntering:Xd,onEntered:Xd,onExit:Xd,onExiting:Xd,onExited:Xd},Kd.UNMOUNTED=Ud,Kd.EXITED=Vd,Kd.ENTERING=Hd,Kd.ENTERED=qd,Kd.EXITING=Gd;const $d=Kd,Yd=e=>e.scrollTop;function Qd(e,t){var n,r;const{timeout:o,easing:a,style:i={}}=e;return{duration:null!==(n=i.transitionDuration)&&void 0!==n?n:"number"===typeof o?o:o[t.mode]||0,easing:null!==(r=i.transitionTimingFunction)&&void 0!==r?r:"object"===typeof a?a[t.mode]:a,delay:i.transitionDelay}}const Jd=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Zd=["ownerState"];function ep(e){return"scale(".concat(e,", ").concat(e**2,")")}const tp={entering:{opacity:1,transform:ep(1)},entered:{opacity:1,transform:"none"}},np="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),rp=t.forwardRef(function(e,n){const{addEndListener:r,appear:o=!0,children:a,easing:i,in:s,onEnter:l,onEntered:c,onEntering:p,onExit:f,onExited:h,onExiting:v,style:g,timeout:y="auto",TransitionComponent:b=$d}=e,x=d(e,Jd),w=Vl(),S=t.useRef(),C=qs(),k=t.useRef(null),E=El(k,xd(a),n),R=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},_=R(p),I=R((e,t)=>{Yd(e);const{duration:n,delay:r,easing:o}=Qd({style:g,timeout:y,easing:i},{mode:"enter"});let a;"auto"===y?(a=C.transitions.getAutoHeightDuration(e.clientHeight),S.current=a):a=n,e.style.transition=[C.transitions.create("opacity",{duration:a,delay:r}),C.transitions.create("transform",{duration:np?a:.666*a,delay:r,easing:o})].join(","),l&&l(e,t)}),T=R(c),A=R(v),P=R(e=>{const{duration:t,delay:n,easing:r}=Qd({style:g,timeout:y,easing:i},{mode:"exit"});let o;"auto"===y?(o=C.transitions.getAutoHeightDuration(e.clientHeight),S.current=o):o=t,e.style.transition=[C.transitions.create("opacity",{duration:o,delay:n}),C.transitions.create("transform",{duration:np?o:.666*o,delay:np?n:n||.333*o,easing:r})].join(","),e.style.opacity=0,e.style.transform=ep(.75),f&&f(e)}),N=R(h);return(0,m.jsx)(b,u(u({appear:o,in:s,nodeRef:k,onEnter:I,onEntered:T,onEntering:_,onExit:P,onExited:N,onExiting:A,addEndListener:e=>{"auto"===y&&w.start(S.current||0,e),r&&r(k.current,e)},timeout:"auto"===y?null:y},x),{},{children:(e,n)=>{let{ownerState:r}=n,o=d(n,Zd);return t.cloneElement(a,u({style:u(u(u({opacity:0,transform:ep(.75),visibility:"exited"!==e||s?void 0:"hidden"},tp[e]),g),a.props.style),ref:E},o))}}))});rp&&(rp.muiSupportAuto=!0);const op=rp,ap=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function ip(e){const t=[],n=[];return Array.from(e.querySelectorAll(ap)).forEach((e,r)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:r,tabIndex:o,node:e}))}),n.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function sp(){return!0}const lp=function(e){const{children:n,disableAutoFocus:r=!1,disableEnforceFocus:o=!1,disableRestoreFocus:a=!1,getTabbable:i=ip,isEnabled:s=sp,open:l}=e,u=t.useRef(!1),c=t.useRef(null),d=t.useRef(null),p=t.useRef(null),f=t.useRef(null),h=t.useRef(!1),v=t.useRef(null),g=cl(xd(n),v),y=t.useRef(null);t.useEffect(()=>{l&&v.current&&(h.current=!r)},[r,l]),t.useEffect(()=>{if(!l||!v.current)return;const e=Zu(v.current);return v.current.contains(e.activeElement)||(v.current.hasAttribute("tabIndex")||v.current.setAttribute("tabIndex","-1"),h.current&&v.current.focus()),()=>{a||(p.current&&p.current.focus&&(u.current=!0,p.current.focus()),p.current=null)}},[l]),t.useEffect(()=>{if(!l||!v.current)return;const e=Zu(v.current),t=t=>{y.current=t,!o&&s()&&"Tab"===t.key&&e.activeElement===v.current&&t.shiftKey&&(u.current=!0,d.current&&d.current.focus())},n=()=>{const t=v.current;if(null===t)return;if(!e.hasFocus()||!s()||u.current)return void(u.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==c.current&&e.activeElement!==d.current)return;if(e.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!h.current)return;let n=[];if(e.activeElement!==c.current&&e.activeElement!==d.current||(n=i(v.current)),n.length>0){var r,a;const e=Boolean((null===(r=y.current)||void 0===r?void 0:r.shiftKey)&&"Tab"===(null===(a=y.current)||void 0===a?void 0:a.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const r=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()},50);return()=>{clearInterval(r),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}},[r,o,a,s,l,i]);const b=e=>{null===p.current&&(p.current=e.relatedTarget),h.current=!0};return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:c,"data-testid":"sentinelStart"}),t.cloneElement(n,{ref:g,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),h.current=!0,f.current=e.target;const t=n.props.onFocus;t&&t(e)}}),(0,m.jsx)("div",{tabIndex:l?0:-1,onFocus:b,ref:d,"data-testid":"sentinelEnd"})]})};function up(e,t){"function"===typeof e?e(t):e&&(e.current=t)}const cp=t.forwardRef(function(e,n){const{children:r,container:o,disablePortal:a=!1}=e,[i,s]=t.useState(null),l=cl(t.isValidElement(r)?xd(r):null,n);if(nt(()=>{a||s(function(e){return"function"===typeof e?e():e}(o)||document.body)},[o,a]),nt(()=>{if(i&&!a)return up(n,i),()=>{up(n,null)}},[n,i,a]),a){if(t.isValidElement(r)){const e={ref:l};return t.cloneElement(r,e)}return r}return i?zd.createPortal(r,i):i}),dp=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],pp=["ownerState"],fp={entering:{opacity:1},entered:{opacity:1}},hp=t.forwardRef(function(e,n){const r=qs(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:a,appear:i=!0,children:s,easing:l,in:c,onEnter:p,onEntered:f,onEntering:h,onExit:v,onExited:g,onExiting:y,style:b,timeout:x=o,TransitionComponent:w=$d}=e,S=d(e,dp),C=t.useRef(null),k=El(C,xd(s),n),E=e=>t=>{if(e){const n=C.current;void 0===t?e(n):e(n,t)}},R=E(h),_=E((e,t)=>{Yd(e);const n=Qd({style:b,timeout:x,easing:l},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),p&&p(e,t)}),I=E(f),T=E(y),A=E(e=>{const t=Qd({style:b,timeout:x,easing:l},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),v&&v(e)}),P=E(g);return(0,m.jsx)(w,u(u({appear:i,in:c,nodeRef:C,onEnter:_,onEntered:I,onEntering:R,onExit:A,onExited:P,onExiting:T,addEndListener:e=>{a&&a(C.current,e)},timeout:x},S),{},{children:(e,n)=>{let{ownerState:r}=n,o=d(n,pp);return t.cloneElement(s,u({style:u(u(u({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},fp[e]),b),s.props.style),ref:k},o))}}))}),mp=hp;function vp(e){return ds("MuiBackdrop",e)}zs("MuiBackdrop",["root","invisible"]);const gp=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],yp=js("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),bp=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiBackdrop"}),{children:r,className:o,component:a="div",invisible:i=!1,open:s,components:l={},componentsProps:c={},slotProps:p={},slots:f={},TransitionComponent:h,transitionDuration:v}=n,g=d(n,gp),y=u(u({},n),{},{component:a,invisible:i}),b=(e=>{const{classes:t,invisible:n}=e;return ps({root:["root",n&&"invisible"]},vp,t)})(y),x={component:a,slots:u({transition:h,root:l.Root},f),slotProps:u(u({},c),p)},[w,S]=xl("root",{elementType:yp,externalForwardedProps:x,className:Qe(b.root,o),ownerState:y}),[C,k]=xl("transition",{elementType:mp,externalForwardedProps:x,ownerState:y});return(0,m.jsx)(C,u(u(u({in:s,timeout:v},g),k),{},{children:(0,m.jsx)(w,u(u({"aria-hidden":!0},S),{},{classes:b,ref:t,children:r}))}))});function xp(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)},()=>{})}function wp(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Sp(e){return parseInt(ec(e).getComputedStyle(e).paddingRight,10)||0}function Cp(e,t,n,r,o){const a=[t,n,...r];[].forEach.call(e.children,e=>{const t=!a.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&wp(e,o)})}function kp(e,t){let n=-1;return e.some((e,r)=>!!t(e)&&(n=r,!0)),n}function Ep(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Zu(e);return t.body===e?ec(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=Td(ec(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Sp(r)+e,"px");const t=Zu(r).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Sp(t)+e,"px")})}let e;if(r.parentNode instanceof DocumentFragment)e=Zu(r).body;else{const t=r.parentElement,n=ec(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach(e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)})}}const Rp=()=>{},_p=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&wp(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);Cp(t,e.mount,e.modalRef,r,!0);const o=kp(this.containers,e=>e.container===t);return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=kp(this.containers,t=>t.modals.includes(e)),r=this.containers[n];r.restore||(r.restore=Ep(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=kp(this.containers,t=>t.modals.includes(e)),o=this.containers[r];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&wp(e.modalRef,t),Cp(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&wp(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Ip=function(e){const{container:n,disableEscapeKeyDown:r=!1,disableScrollLock:o=!1,closeAfterTransition:a=!1,onTransitionEnter:i,onTransitionExited:s,children:l,onClose:c,open:d,rootRef:p}=e,f=t.useRef({}),h=t.useRef(null),m=t.useRef(null),v=cl(m,p),[g,y]=t.useState(!d),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const w=()=>(f.current.modalRef=m.current,f.current.mount=h.current,f.current),S=()=>{_p.mount(w(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},C=Rl(()=>{const e=function(e){return"function"===typeof e?e():e}(n)||Zu(h.current).body;_p.add(w(),e),m.current&&S()}),k=()=>_p.isTopModal(w()),E=Rl(e=>{h.current=e,e&&(d&&k()?S():m.current&&wp(m.current,x))}),R=t.useCallback(()=>{_p.remove(w(),x)},[x]);t.useEffect(()=>()=>{R()},[R]),t.useEffect(()=>{d?C():b&&a||R()},[d,R,b,a,C]);const _=e=>t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),"Escape"===t.key&&229!==t.which&&k()&&(r||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},I=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=hl(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=u(u({},n),t);return u(u({role:"presentation"},r),{},{onKeyDown:_(r),ref:v})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({"aria-hidden":!0},e),{},{onClick:I(e),open:d})},getTransitionProps:()=>{var e,t;return{onEnter:xp(()=>{y(!1),i&&i()},null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:Rp),onExited:xp(()=>{y(!0),s&&s(),a&&R()},null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:Rp)}},rootRef:v,portalRef:E,isTopModal:k,exited:g,hasTransition:b}};function Tp(e){return ds("MuiModal",e)}zs("MuiModal",["root","hidden","backdrop"]);const Ap=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Pp=js("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Ks(e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}})),Np=js(bp,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Mp=t.forwardRef(function(e,n){const r=Bo({name:"MuiModal",props:e}),{BackdropComponent:o=Np,BackdropProps:a,classes:i,className:s,closeAfterTransition:l=!1,children:c,container:p,component:f,components:h={},componentsProps:v={},disableAutoFocus:g=!1,disableEnforceFocus:y=!1,disableEscapeKeyDown:b=!1,disablePortal:x=!1,disableRestoreFocus:w=!1,disableScrollLock:S=!1,hideBackdrop:C=!1,keepMounted:k=!1,onClose:E,onTransitionEnter:R,onTransitionExited:_,open:I,slotProps:T={},slots:A={},theme:P}=r,N=d(r,Ap),M=u(u({},r),{},{closeAfterTransition:l,disableAutoFocus:g,disableEnforceFocus:y,disableEscapeKeyDown:b,disablePortal:x,disableRestoreFocus:w,disableScrollLock:S,hideBackdrop:C,keepMounted:k}),{getRootProps:O,getBackdropProps:D,getTransitionProps:j,portalRef:F,isTopModal:L,exited:B,hasTransition:z}=Ip(u(u({},M),{},{rootRef:n})),W=u(u({},M),{},{exited:B}),U=(e=>{const{open:t,exited:n,classes:r}=e;return ps({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Tp,r)})(W),V={};if(void 0===c.props.tabIndex&&(V.tabIndex="-1"),z){const{onEnter:e,onExited:t}=j();V.onEnter=e,V.onExited=t}const H={slots:u({root:h.Root,backdrop:h.Backdrop},A),slotProps:u(u({},v),T)},[q,G]=xl("root",{ref:n,elementType:Pp,externalForwardedProps:u(u(u({},H),N),{},{component:f}),getSlotProps:O,ownerState:W,className:Qe(s,null===U||void 0===U?void 0:U.root,!W.open&&W.exited&&(null===U||void 0===U?void 0:U.hidden))}),[K,X]=xl("backdrop",{ref:null===a||void 0===a?void 0:a.ref,elementType:o,externalForwardedProps:H,shouldForwardComponentProp:!0,additionalProps:a,getSlotProps:e=>D(u(u({},e),{},{onClick:t=>{null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:Qe(null===a||void 0===a?void 0:a.className,null===U||void 0===U?void 0:U.backdrop),ownerState:W});return k||I||z&&!B?(0,m.jsx)(cp,{ref:F,container:p,disablePortal:x,children:(0,m.jsxs)(q,u(u({},G),{},{children:[!C&&o?(0,m.jsx)(K,u({},X)):null,(0,m.jsx)(lp,{disableEnforceFocus:y,disableAutoFocus:g,disableRestoreFocus:w,isEnabled:L,open:I,children:t.cloneElement(c,V)})]}))}):null}),Op=Mp;function Dp(e){return ds("MuiPopover",e)}zs("MuiPopover",["root","paper"]);function jp(e,t){if(!e)return t;function n(e,t){const n={};return Object.keys(t).forEach(r=>{(function(e,t){const n=e.charCodeAt(2);return"o"===e[0]&&"n"===e[1]&&n>=65&&n<=90&&"function"===typeof t})(r,t[r])&&"function"===typeof e[r]&&(n[r]=function(){e[r](...arguments),t[r](...arguments)})}),n}if("function"===typeof e||"function"===typeof t)return r=>{const o="function"===typeof t?t(r):t,a="function"===typeof e?e(u(u({},r),o)):e,i=Qe(null===r||void 0===r?void 0:r.className,null===o||void 0===o?void 0:o.className,null===a||void 0===a?void 0:a.className),s=n(a,o);return u(u(u(u(u(u({},o),a),s),!!i&&{className:i}),(null===o||void 0===o?void 0:o.style)&&(null===a||void 0===a?void 0:a.style)&&{style:u(u({},o.style),a.style)}),(null===o||void 0===o?void 0:o.sx)&&(null===a||void 0===a?void 0:a.sx)&&{sx:[...Array.isArray(o.sx)?o.sx:[o.sx],...Array.isArray(a.sx)?a.sx:[a.sx]]})};const r=t,o=n(e,r),a=Qe(null===r||void 0===r?void 0:r.className,null===e||void 0===e?void 0:e.className);return u(u(u(u(u(u({},t),e),o),!!a&&{className:a}),(null===r||void 0===r?void 0:r.style)&&(null===e||void 0===e?void 0:e.style)&&{style:u(u({},r.style),e.style)}),(null===r||void 0===r?void 0:r.sx)&&(null===e||void 0===e?void 0:e.sx)&&{sx:[...Array.isArray(r.sx)?r.sx:[r.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]})}const Fp=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Lp=["slots","slotProps"];function Bp(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function zp(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Wp(e){return[e.horizontal,e.vertical].map(e=>"number"===typeof e?"".concat(e,"px"):e).join(" ")}function Up(e){return"function"===typeof e?e():e}const Vp=js(Op,{name:"MuiPopover",slot:"Root"})({}),Hp=js(Js,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),qp=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiPopover"}),{action:o,anchorEl:a,anchorOrigin:i={vertical:"top",horizontal:"left"},anchorPosition:s,anchorReference:l="anchorEl",children:c,className:p,container:f,elevation:h=8,marginThreshold:v=16,open:g,PaperProps:y={},slots:b={},slotProps:x={},transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:S,transitionDuration:C="auto",TransitionProps:k={},disableScrollLock:E=!1}=r,R=d(r,Fp),_=t.useRef(),I=u(u({},r),{},{anchorOrigin:i,anchorReference:l,elevation:h,marginThreshold:v,transformOrigin:w,TransitionComponent:S,transitionDuration:C,TransitionProps:k}),T=(e=>{const{classes:t}=e;return ps({root:["root"],paper:["paper"]},Dp,t)})(I),A=t.useCallback(()=>{if("anchorPosition"===l)return s;const e=Up(a),t=(e&&1===e.nodeType?e:wd(_.current).body).getBoundingClientRect();return{top:t.top+Bp(t,i.vertical),left:t.left+zp(t,i.horizontal)}},[a,i.horizontal,i.vertical,s,l]),P=t.useCallback(e=>({vertical:Bp(e,w.vertical),horizontal:zp(e,w.horizontal)}),[w.horizontal,w.vertical]),N=t.useCallback(e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=P(t);if("none"===l)return{top:null,left:null,transformOrigin:Wp(n)};const r=A();let o=r.top-n.vertical,i=r.left-n.horizontal;const s=o+t.height,u=i+t.width,c=Pd(Up(a)),d=c.innerHeight-v,p=c.innerWidth-v;if(null!==v&&o<v){const e=o-v;o-=e,n.vertical+=e}else if(null!==v&&s>d){const e=s-d;o-=e,n.vertical+=e}if(null!==v&&i<v){const e=i-v;i-=e,n.horizontal+=e}else if(u>p){const e=u-p;i-=e,n.horizontal+=e}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(i),"px"),transformOrigin:Wp(n)}},[a,l,A,P,v]),[M,O]=t.useState(g),D=t.useCallback(()=>{const e=_.current;if(!e)return;const t=N(e);null!==t.top&&e.style.setProperty("top",t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,O(!0)},[N]);t.useEffect(()=>(E&&window.addEventListener("scroll",D),()=>window.removeEventListener("scroll",D)),[a,E,D]);t.useEffect(()=>{g&&D()}),t.useImperativeHandle(o,()=>g?{updatePosition:()=>{D()}}:null,[g,D]),t.useEffect(()=>{if(!g)return;const e=Bd(()=>{D()}),t=Pd(Up(a));return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[a,g,D]);let j=C;const F={slots:u({transition:S},b),slotProps:u({transition:k,paper:y},x)},[L,B]=xl("transition",{elementType:op,externalForwardedProps:F,ownerState:I,getSlotProps:e=>u(u({},e),{},{onEntering:(t,n)=>{var r;null===(r=e.onEntering)||void 0===r||r.call(e,t,n),D()},onExited:t=>{var n;null===(n=e.onExited)||void 0===n||n.call(e,t),O(!1)}}),additionalProps:{appear:!0,in:g}});"auto"!==C||L.muiSupportAuto||(j=void 0);const z=f||(a?wd(Up(a)).body:void 0),[W,U]=xl("root",{ref:n,elementType:Vp,externalForwardedProps:u(u({},F),R),shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:b.backdrop},slotProps:{backdrop:jp("function"===typeof x.backdrop?x.backdrop(I):x.backdrop,{invisible:!0})},container:z,open:g},ownerState:I,className:Qe(T.root,p)}),{slots:V,slotProps:H}=U,q=d(U,Lp),[G,K]=xl("paper",{ref:_,className:T.paper,elementType:Hp,externalForwardedProps:F,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:M?void 0:{opacity:0}},ownerState:I});return(0,m.jsx)(W,u(u(u({},q),!dl(W)&&{slots:V,slotProps:H,disableScrollLock:E}),{},{children:(0,m.jsx)(L,u(u({},B),{},{timeout:j,children:(0,m.jsx)(G,u(u({},K),{},{children:c}))}))}))}),Gp=qp;function Kp(e){return ds("MuiMenu",e)}zs("MuiMenu",["root","paper","list"]);const Xp=["onEntering"],$p=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],Yp={vertical:"top",horizontal:"right"},Qp={vertical:"top",horizontal:"left"},Jp=js(Gp,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiMenu",slot:"Root"})({}),Zp=js(Hp,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ef=js(Ld,{name:"MuiMenu",slot:"List"})({outline:0}),tf=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:i,disableAutoFocusItem:s=!1,MenuListProps:l={},onClose:c,open:p,PaperProps:f={},PopoverClasses:h,transitionDuration:v="auto",TransitionProps:{onEntering:g}={},variant:y="selectedMenu",slots:b={},slotProps:x={}}=r,w=d(r.TransitionProps,Xp),S=d(r,$p),C=Xe(),k=u(u({},r),{},{autoFocus:o,disableAutoFocusItem:s,MenuListProps:l,onEntering:g,PaperProps:f,transitionDuration:v,TransitionProps:w,variant:y}),E=(e=>{const{classes:t}=e;return ps({root:["root"],paper:["paper"],list:["list"]},Kp,t)})(k),R=o&&!s&&p,_=t.useRef(null);let I=-1;t.Children.map(a,(e,n)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===I)&&(I=n))});const T={slots:b,slotProps:u({list:l,transition:w,paper:f},x)},A=Cd({elementType:b.root,externalSlotProps:x.root,ownerState:k,className:[E.root,i]}),[P,N]=xl("paper",{className:E.paper,elementType:Zp,externalForwardedProps:T,shouldForwardComponentProp:!0,ownerState:k}),[M,O]=xl("list",{className:Qe(E.list,l.className),elementType:ef,shouldForwardComponentProp:!0,externalForwardedProps:T,getSlotProps:e=>u(u({},e),{},{onKeyDown:t=>{var n;(e=>{"Tab"===e.key&&(e.preventDefault(),c&&c(e,"tabKeyDown"))})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}}),ownerState:k}),D="function"===typeof T.slotProps.transition?T.slotProps.transition(k):T.slotProps.transition;return(0,m.jsx)(Jp,u(u({onClose:c,anchorOrigin:{vertical:"bottom",horizontal:C?"right":"left"},transformOrigin:C?Yp:Qp,slots:u({root:b.root,paper:P,backdrop:b.backdrop},b.transition&&{transition:b.transition}),slotProps:{root:A,paper:N,backdrop:"function"===typeof x.backdrop?x.backdrop(k):x.backdrop,transition:u(u({},D),{},{onEntering:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];((e,t)=>{_.current&&_.current.adjustStyleForScrollbar(e,{direction:C?"rtl":"ltr"}),g&&g(e,t)})(...n),null===D||void 0===D||null===(e=D.onEntering)||void 0===e||e.call(D,...n)}})},open:p,ref:n,transitionDuration:v,ownerState:k},S),{},{classes:h,children:(0,m.jsx)(M,u(u({actions:_,autoFocus:o&&(-1===I||s),autoFocusItem:R,variant:y},O),{},{children:a}))}))});function nf(e){return ds("MuiNativeSelect",e)}const rf=zs("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),of=["className","disabled","error","IconComponent","inputRef","variant"],af=js("select",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},["&.".concat(rf.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},variants:[{props:e=>{let{ownerState:t}=e;return"filled"!==t.variant&&"outlined"!==t.variant},style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}}]}}),sf=js(af,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Ds,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{["&.".concat(rf.multiple)]:t.multiple}]}})({}),lf=js("svg",{name:"MuiNativeSelect"})(e=>{let{theme:t}=e;return{position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,["&.".concat(rf.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:e=>{let{ownerState:t}=e;return t.open},style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]}}),uf=js(lf,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Ms(n.variant))],n.open&&t.iconOpen]}})({}),cf=t.forwardRef(function(e,n){const{className:r,disabled:o,error:a,IconComponent:i,inputRef:s,variant:l="standard"}=e,c=d(e,of),p=u(u({},e),{},{disabled:o,variant:l,error:a}),f=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:i}=e;return ps({select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon","icon".concat(Ms(n)),a&&"iconOpen",r&&"disabled"]},nf,t)})(p);return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(sf,u({ownerState:p,className:Qe(f.select,r),disabled:o,ref:s||n},c)),e.multiple?null:(0,m.jsx)(uf,{as:i,ownerState:p,className:f.icon})]})});function df(e){const{controlled:n,default:r,name:o,state:a="value"}=e,{current:i}=t.useRef(void 0!==n),[s,l]=t.useState(r);return[i?n:s,t.useCallback(e=>{i||l(e)},[])]}const pf=df;function ff(e){return ds("MuiSelect",e)}const hf=zs("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mf=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","required","SelectDisplayProps","tabIndex","type","value","variant"];var vf;const gf=js(af,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["&.".concat(hf.select)]:t.select},{["&.".concat(hf.select)]:t[n.variant]},{["&.".concat(hf.error)]:t.error},{["&.".concat(hf.multiple)]:t.multiple}]}})({["&.".concat(hf.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),yf=js(lf,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t["icon".concat(Ms(n.variant))],n.open&&t.iconOpen]}})({}),bf=js("input",{shouldForwardProp:e=>Os(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function xf(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function wf(e){return null==e||"string"===typeof e&&!e.trim()}const Sf=t.forwardRef(function(e,n){var r,o,a,i;const{"aria-describedby":s,"aria-label":l,autoFocus:c,autoWidth:p,children:f,className:h,defaultOpen:v,defaultValue:g,disabled:y,displayEmpty:b,error:x=!1,IconComponent:w,inputRef:S,labelId:C,MenuProps:k={},multiple:E,name:R,onBlur:_,onChange:I,onClose:T,onFocus:A,onOpen:P,open:N,readOnly:M,renderValue:O,required:D,SelectDisplayProps:j={},tabIndex:F,type:L,value:B,variant:z="standard"}=e,W=d(e,mf),[U,V]=pf({controlled:B,default:g,name:"Select"}),[H,q]=pf({controlled:N,default:v,name:"Select"}),G=t.useRef(null),K=t.useRef(null),[X,$]=t.useState(null),{current:Y}=t.useRef(null!=N),[Q,J]=t.useState(),Z=El(n,S),ee=t.useCallback(e=>{K.current=e,e&&$(e)},[]),te=null===X||void 0===X?void 0:X.parentNode;t.useImperativeHandle(Z,()=>({focus:()=>{K.current.focus()},node:G.current,value:U}),[U]),t.useEffect(()=>{v&&H&&X&&!Y&&(J(p?null:te.clientWidth),K.current.focus())},[X,p]),t.useEffect(()=>{c&&K.current.focus()},[c]),t.useEffect(()=>{if(!C)return;const e=wd(K.current).getElementById(C);if(e){const t=()=>{getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[C]);const ne=(e,t)=>{e?P&&P(t):T&&T(t),Y||(J(p?null:te.clientWidth),q(e))},re=t.Children.toArray(f),oe=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(E){n=Array.isArray(U)?U.slice():[];const t=U.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),U!==n&&(V(n),I)){const r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:R}}),I(o,e)}E||ne(!1,t)}},ae=null!==X&&H;let ie,se;delete W["aria-invalid"];const le=[];let ue=!1,ce=!1;(pc({value:U})||b)&&(O?ie=O(U):ue=!0);const de=re.map(e=>{if(!t.isValidElement(e))return null;let n;if(E){if(!Array.isArray(U))throw new Error(Ft(2));n=U.some(t=>xf(t,e.props.value)),n&&ue&&le.push(e.props.children)}else n=xf(U,e.props.value),n&&ue&&(se=e.props.children);return n&&(ce=!0),t.cloneElement(e,{"aria-selected":n?"true":"false",onClick:oe(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:n,value:void 0,"data-value":e.props.value})});ue&&(ie=E?0===le.length?null:le.reduce((e,t,n)=>(e.push(t),n<le.length-1&&e.push(", "),e),[]):se);let pe,fe=Q;!p&&Y&&X&&(fe=te.clientWidth),pe="undefined"!==typeof F?F:y?null:0;const he=j.id||(R?"mui-component-select-".concat(R):void 0),me=u(u({},e),{},{variant:z,value:U,open:ae,error:x}),ve=(e=>{const{classes:t,variant:n,disabled:r,multiple:o,open:a,error:i}=e;return ps({select:["select",n,r&&"disabled",o&&"multiple",i&&"error"],icon:["icon","icon".concat(Ms(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]},ff,t)})(me),ge=u(u({},k.PaperProps),"function"===typeof(null===(r=k.slotProps)||void 0===r?void 0:r.paper)?k.slotProps.paper(me):null===(o=k.slotProps)||void 0===o?void 0:o.paper),ye=u(u({},k.MenuListProps),"function"===typeof(null===(a=k.slotProps)||void 0===a?void 0:a.list)?k.slotProps.list(me):null===(i=k.slotProps)||void 0===i?void 0:i.list),be=at();return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(gf,u(u({as:"div",ref:ee,tabIndex:pe,role:"combobox","aria-controls":ae?be:void 0,"aria-disabled":y?"true":void 0,"aria-expanded":ae?"true":"false","aria-haspopup":"listbox","aria-label":l,"aria-labelledby":[C,he].filter(Boolean).join(" ")||void 0,"aria-describedby":s,"aria-required":D?"true":void 0,"aria-invalid":x?"true":void 0,onKeyDown:e=>{if(!M){[" ","ArrowUp","ArrowDown","Enter"].includes(e.key)&&(e.preventDefault(),ne(!0,e))}},onMouseDown:y||M?null:e=>{0===e.button&&(e.preventDefault(),K.current.focus(),ne(!0,e))},onBlur:e=>{!ae&&_&&(Object.defineProperty(e,"target",{writable:!0,value:{value:U,name:R}}),_(e))},onFocus:A},j),{},{ownerState:me,className:Qe(j.className,ve.select,h),id:he,children:wf(ie)?vf||(vf=(0,m.jsx)("span",{className:"notranslate","aria-hidden":!0,children:"\u200b"})):ie})),(0,m.jsx)(bf,u(u({"aria-invalid":x,value:Array.isArray(U)?U.join(","):U,name:R,ref:G,"aria-hidden":!0,onChange:e=>{const t=re.find(t=>t.props.value===e.target.value);void 0!==t&&(V(t.props.value),I&&I(e,t))},tabIndex:-1,disabled:y,className:ve.nativeInput,autoFocus:c,required:D},W),{},{ownerState:me})),(0,m.jsx)(yf,{as:w,className:ve.icon,ownerState:me}),(0,m.jsx)(tf,u(u({id:"menu-".concat(R||""),anchorEl:te,open:ae,onClose:e=>{ne(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},k),{},{slotProps:u(u({},k.slotProps),{},{list:u({"aria-labelledby":C,role:"listbox","aria-multiselectable":E?"true":void 0,disableListWrap:!0,id:be},ye),paper:u(u({},ge),{},{style:u({minWidth:fe},null!=ge?ge.style:null)})}),children:de}))]})}),Cf=Sf,kf=Lu((0,m.jsx)("path",{d:"M7 10l5 5 5-5z"})),Ef=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Rf=["root"],_f={name:"MuiSelect",slot:"Root",shouldForwardProp:e=>Ds(e)&&"variant"!==e},If=js(Ac,_f)(""),Tf=js($c,_f)(""),Af=js(Fc,_f)(""),Pf=t.forwardRef(function(e,n){const r=Bo({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:a,classes:i={},className:s,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:p=kf,id:f,input:h,inputProps:v,label:g,labelId:y,MenuProps:b,multiple:x=!1,native:w=!1,onClose:S,onOpen:C,open:k,renderValue:E,SelectDisplayProps:R,variant:_="outlined"}=r,I=d(r,Ef),T=w?cf:Cf,A=sc({props:r,muiFormControl:uc(),states:["variant","error"]}),P=A.variant||_,N=u(u({},r),{},{variant:P,classes:i}),M=(e=>{const{classes:t}=e,n=ps({root:["root"]},ff,t);return u(u({},t),n)})(N),{root:O}=M,D=d(M,Rf),j=h||{standard:(0,m.jsx)(If,{ownerState:N}),outlined:(0,m.jsx)(Tf,{label:g,ownerState:N}),filled:(0,m.jsx)(Af,{ownerState:N})}[P],F=El(n,xd(j));return(0,m.jsx)(t.Fragment,{children:t.cloneElement(j,u(u(u({inputComponent:T,inputProps:u(u(u({children:a,error:A.error,IconComponent:p,variant:P,type:void 0,multiple:x},w?{id:f}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:y,MenuProps:b,onClose:S,onOpen:C,open:k,renderValue:E,SelectDisplayProps:u({id:f},R)}),v),{},{classes:v?Et(D,v.classes):D},h?h.props.inputProps:{})},(x&&w||c)&&"outlined"===P?{notched:!0}:{}),{},{ref:F,className:Qe(j.props.className,s,M.root)},!h&&{variant:P}),I))})});Pf.muiName="Select";const Nf=Pf;function Mf(e){return ds("MuiTextField",e)}zs("MuiTextField",["root"]);const Of=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","slots","slotProps","type","value","variant"],Df={standard:Ac,filled:Fc,outlined:$c},jf=js(fd,{name:"MuiTextField",slot:"Root"})({}),Ff=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiTextField"}),{autoComplete:r,autoFocus:o=!1,children:a,className:i,color:s="primary",defaultValue:l,disabled:c=!1,error:p=!1,FormHelperTextProps:f,fullWidth:h=!1,helperText:v,id:g,InputLabelProps:y,inputProps:b,InputProps:x,inputRef:w,label:S,maxRows:C,minRows:k,multiline:E=!1,name:R,onBlur:_,onChange:I,onFocus:T,placeholder:A,required:P=!1,rows:N,select:M=!1,SelectProps:O,slots:D={},slotProps:j={},type:F,value:L,variant:B="outlined"}=n,z=d(n,Of),W=u(u({},n),{},{autoFocus:o,color:s,disabled:c,error:p,fullWidth:h,multiline:E,required:P,select:M,variant:B}),U=(e=>{const{classes:t}=e;return ps({root:["root"]},Mf,t)})(W);const V=at(g),H=v&&V?"".concat(V,"-helper-text"):void 0,q=S&&V?"".concat(V,"-label"):void 0,G=Df[B],K={slots:D,slotProps:u({input:x,inputLabel:y,htmlInput:b,formHelperText:f,select:O},j)},X={},$=K.slotProps.inputLabel;"outlined"===B&&($&&"undefined"!==typeof $.shrink&&(X.notched=$.shrink),X.label=S),M&&(O&&O.native||(X.id=void 0),X["aria-describedby"]=void 0);const[Y,Q]=xl("root",{elementType:jf,shouldForwardComponentProp:!0,externalForwardedProps:u(u({},K),z),ownerState:W,className:Qe(U.root,i),ref:t,additionalProps:{disabled:c,error:p,fullWidth:h,required:P,color:s,variant:B}}),[J,Z]=xl("input",{elementType:G,externalForwardedProps:K,additionalProps:X,ownerState:W}),[ee,te]=xl("inputLabel",{elementType:id,externalForwardedProps:K,ownerState:W}),[ne,re]=xl("htmlInput",{elementType:"input",externalForwardedProps:K,ownerState:W}),[oe,ae]=xl("formHelperText",{elementType:bd,externalForwardedProps:K,ownerState:W}),[ie,se]=xl("select",{elementType:Nf,externalForwardedProps:K,ownerState:W}),le=(0,m.jsx)(J,u({"aria-describedby":H,autoComplete:r,autoFocus:o,defaultValue:l,fullWidth:h,multiline:E,name:R,rows:N,maxRows:C,minRows:k,type:F,value:L,id:V,inputRef:w,onBlur:_,onChange:I,onFocus:T,placeholder:A,inputProps:re,slots:{input:D.htmlInput?ne:void 0}},Z));return(0,m.jsxs)(Y,u(u({},Q),{},{children:[null!=S&&""!==S&&(0,m.jsx)(ee,u(u({htmlFor:V,id:q},te),{},{children:S})),M?(0,m.jsx)(ie,u(u({"aria-describedby":H,id:V,labelId:q,value:L,input:le},se),{},{children:a})):le,v&&(0,m.jsx)(oe,u(u({id:H},ae),{},{children:v}))]}))}),Lf=Ff;function Bf(e){return ds("MuiButton",e)}const zf=zs("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]);const Wf=t.createContext({});const Uf=t.createContext(void 0),Vf=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","id","loading","loadingIndicator","loadingPosition","size","startIcon","type","variant"],Hf=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],qf=js(uu,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["".concat(n.variant).concat(Ms(n.color))],t["size".concat(Ms(n.size))],t["".concat(n.variant,"Size").concat(Ms(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],r="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return u(u({},t.typography.button),{},{minWidth:64,padding:"6px 16px",border:0,borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":{textDecoration:"none"},["&.".concat(zf.disabled)]:{color:(t.vars||t).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(t.vars||t).shadows[2],"&:hover":{boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2]}},"&:active":{boxShadow:(t.vars||t).shadows[8]},["&.".concat(zf.focusVisible)]:{boxShadow:(t.vars||t).shadows[6]},["&.".concat(zf.disabled)]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",["&.".concat(zf.disabled)]:{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{"--variant-textColor":(t.vars||t).palette[n].main,"--variant-outlinedColor":(t.vars||t).palette[n].main,"--variant-outlinedBorder":t.alpha((t.vars||t).palette[n].main,.5),"--variant-containedColor":(t.vars||t).palette[n].contrastText,"--variant-containedBg":(t.vars||t).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(t.vars||t).palette[n].dark,"--variant-textBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBorder":(t.vars||t).palette[n].main,"--variant-outlinedBg":t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}}),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedBg:n,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":t.vars?t.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity),"--variant-outlinedBg":t.alpha((t.vars||t).palette.text.primary,(t.vars||t).palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:t.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:t.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:t.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(zf.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(zf.disabled)]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),["&.".concat(zf.loading)]:{color:"transparent"}}}]})})),Gf=js("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t["iconSize".concat(Ms(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Hf]}}),Kf=js("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t["iconSize".concat(Ms(n.size))]]}})(e=>{let{theme:t}=e;return{display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Hf]}}),Xf=js("span",{name:"MuiButton",slot:"LoadingIndicator"})(e=>{let{theme:t}=e;return{display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(t.vars||t).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]}}),$f=js("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),Yf=t.forwardRef(function(e,n){const r=t.useContext(Wf),o=t.useContext(Uf),a=Bo({props:Je(r,e),name:"MuiButton"}),{children:i,color:s="primary",component:l="button",className:c,disabled:p=!1,disableElevation:f=!1,disableFocusRipple:h=!1,endIcon:v,focusVisibleClassName:g,fullWidth:y=!1,id:b,loading:x=null,loadingIndicator:w,loadingPosition:S="center",size:C="medium",startIcon:k,type:E,variant:R="text"}=a,_=d(a,Vf),I=Cl(b),T=null!==w&&void 0!==w?w:(0,m.jsx)(Eu,{"aria-labelledby":I,color:"inherit",size:16}),A=u(u({},a),{},{color:s,component:l,disabled:p,disableElevation:f,disableFocusRipple:h,fullWidth:y,loading:x,loadingIndicator:T,loadingPosition:S,size:C,type:E,variant:R}),P=(e=>{const{color:t,disableElevation:n,fullWidth:r,size:o,variant:a,loading:i,loadingPosition:s,classes:l}=e,c=ps({root:["root",i&&"loading",a,"".concat(a).concat(Ms(t)),"size".concat(Ms(o)),"".concat(a,"Size").concat(Ms(o)),"color".concat(Ms(t)),n&&"disableElevation",r&&"fullWidth",i&&"loadingPosition".concat(Ms(s))],startIcon:["icon","startIcon","iconSize".concat(Ms(o))],endIcon:["icon","endIcon","iconSize".concat(Ms(o))],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},Bf,l);return u(u({},l),c)})(A),N=(k||x&&"start"===S)&&(0,m.jsx)(Gf,{className:P.startIcon,ownerState:A,children:k||(0,m.jsx)($f,{className:P.loadingIconPlaceholder,ownerState:A})}),M=(v||x&&"end"===S)&&(0,m.jsx)(Kf,{className:P.endIcon,ownerState:A,children:v||(0,m.jsx)($f,{className:P.loadingIconPlaceholder,ownerState:A})}),O=o||"",D="boolean"===typeof x?(0,m.jsx)("span",{className:P.loadingWrapper,style:{display:"contents"},children:x&&(0,m.jsx)(Xf,{className:P.loadingIndicator,ownerState:A,children:T})}):null;return(0,m.jsxs)(qf,u(u({ownerState:A,className:Qe(r.className,P.root,c,O),component:l,disabled:p||x,focusRipple:!h,focusVisibleClassName:Qe(P.focusVisible,g),ref:n,type:E,id:x?I:b},_),{},{classes:P,children:[N,"end"!==S&&D,i,"end"===S&&D,M]}))}),Qf=Yf;function Jf(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zf}=Object.prototype,{getPrototypeOf:eh}=Object,{iterator:th,toStringTag:nh}=Symbol,rh=(oh=Object.create(null),e=>{const t=Zf.call(e);return oh[t]||(oh[t]=t.slice(8,-1).toLowerCase())});var oh;const ah=e=>(e=e.toLowerCase(),t=>rh(t)===e),ih=e=>t=>typeof t===e,{isArray:sh}=Array,lh=ih("undefined");function uh(e){return null!==e&&!lh(e)&&null!==e.constructor&&!lh(e.constructor)&&ph(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const ch=ah("ArrayBuffer");const dh=ih("string"),ph=ih("function"),fh=ih("number"),hh=e=>null!==e&&"object"===typeof e,mh=e=>{if("object"!==rh(e))return!1;const t=eh(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(nh in e)&&!(th in e)},vh=ah("Date"),gh=ah("File"),yh=ah("Blob"),bh=ah("FileList"),xh=ah("URLSearchParams"),[wh,Sh,Ch,kh]=["ReadableStream","Request","Response","Headers"].map(ah);function Eh(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),sh(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(uh(e))return;const r=o?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function Rh(e,t){if(uh(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const _h="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Ih=e=>!lh(e)&&e!==_h;const Th=(Ah="undefined"!==typeof Uint8Array&&eh(Uint8Array),e=>Ah&&e instanceof Ah);var Ah;const Ph=ah("HTMLFormElement"),Nh=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Mh=ah("RegExp"),Oh=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Eh(n,(n,o)=>{let a;!1!==(a=t(n,o,e))&&(r[o]=a||n)}),Object.defineProperties(e,r)};const Dh=ah("AsyncFunction"),jh=(Fh="function"===typeof setImmediate,Lh=ph(_h.postMessage),Fh?setImmediate:Lh?((e,t)=>(_h.addEventListener("message",n=>{let{source:r,data:o}=n;r===_h&&o===e&&t.length&&t.shift()()},!1),n=>{t.push(n),_h.postMessage(e,"*")}))("axios@".concat(Math.random()),[]):e=>setTimeout(e));var Fh,Lh;const Bh="undefined"!==typeof queueMicrotask?queueMicrotask.bind(_h):"undefined"!==typeof process&&process.nextTick||jh,zh={isArray:sh,isArrayBuffer:ch,isBuffer:uh,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ph(e.append)&&("formdata"===(t=rh(e))||"object"===t&&ph(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ch(e.buffer),t},isString:dh,isNumber:fh,isBoolean:e=>!0===e||!1===e,isObject:hh,isPlainObject:mh,isEmptyObject:e=>{if(!hh(e)||uh(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Gk){return!1}},isReadableStream:wh,isRequest:Sh,isResponse:Ch,isHeaders:kh,isUndefined:lh,isDate:vh,isFile:gh,isBlob:yh,isRegExp:Mh,isFunction:ph,isStream:e=>hh(e)&&ph(e.pipe),isURLSearchParams:xh,isTypedArray:Th,isFileList:bh,forEach:Eh,merge:function e(){const{caseless:t}=Ih(this)&&this||{},n={},r=(r,o)=>{const a=t&&Rh(n,o)||o;mh(n[a])&&mh(r)?n[a]=e(n[a],r):mh(r)?n[a]=e({},r):sh(r)?n[a]=r.slice():n[a]=r};for(let o=0,a=arguments.length;o<a;o++)arguments[o]&&Eh(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Eh(t,(t,r)=>{n&&ph(t)?e[r]=Jf(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,a,i;const s={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),a=o.length;a-- >0;)i=o[a],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==n&&eh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:rh,kindOfTest:ah,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(sh(e))return e;let t=e.length;if(!fh(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[th]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Ph,hasOwnProperty:Nh,hasOwnProp:Nh,reduceDescriptors:Oh,freezeMethods:e=>{Oh(e,(t,n)=>{if(ph(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ph(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return sh(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Rh,global:_h,isContextDefined:Ih,isSpecCompliantForm:function(e){return!!(e&&ph(e.append)&&"FormData"===e[nh]&&e[th])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(hh(e)){if(t.indexOf(e)>=0)return;if(uh(e))return e;if(!("toJSON"in e)){t[r]=e;const o=sh(e)?[]:{};return Eh(e,(e,t)=>{const a=n(e,r+1);!lh(a)&&(o[t]=a)}),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Dh,isThenable:e=>e&&(hh(e)||ph(e))&&ph(e.then)&&ph(e.catch),setImmediate:jh,asap:Bh,isIterable:e=>null!=e&&ph(e[th])};function Wh(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}zh.inherits(Wh,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:zh.toJSONObject(this.config),code:this.code,status:this.status}}});const Uh=Wh.prototype,Vh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vh[e]={value:e}}),Object.defineProperties(Wh,Vh),Object.defineProperty(Uh,"isAxiosError",{value:!0}),Wh.from=(e,t,n,r,o,a)=>{const i=Object.create(Uh);return zh.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),Wh.call(i,e.message,t,n,r,o),i.cause=e,i.name=e.name,a&&Object.assign(i,a),i};const Hh=Wh;function qh(e){return zh.isPlainObject(e)||zh.isArray(e)}function Gh(e){return zh.endsWith(e,"[]")?e.slice(0,-2):e}function Kh(e,t,n){return e?e.concat(t).map(function(e,t){return e=Gh(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const Xh=zh.toFlatObject(zh,{},null,function(e){return/^is[A-Z]/.test(e)});const $h=function(e,t,n){if(!zh.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=zh.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!zh.isUndefined(t[e])})).metaTokens,o=n.visitor||u,a=n.dots,i=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&zh.isSpecCompliantForm(t);if(!zh.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(zh.isDate(e))return e.toISOString();if(zh.isBoolean(e))return e.toString();if(!s&&zh.isBlob(e))throw new Hh("Blob is not supported. Use a Buffer instead.");return zh.isArrayBuffer(e)||zh.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let s=e;if(e&&!o&&"object"===typeof e)if(zh.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(zh.isArray(e)&&function(e){return zh.isArray(e)&&!e.some(qh)}(e)||(zh.isFileList(e)||zh.endsWith(n,"[]"))&&(s=zh.toArray(e)))return n=Gh(n),s.forEach(function(e,r){!zh.isUndefined(e)&&null!==e&&t.append(!0===i?Kh([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!qh(e)||(t.append(Kh(o,n,a),l(e)),!1)}const c=[],d=Object.assign(Xh,{defaultVisitor:u,convertValue:l,isVisitable:qh});if(!zh.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!zh.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),zh.forEach(n,function(n,a){!0===(!(zh.isUndefined(n)||null===n)&&o.call(t,n,zh.isString(a)?a.trim():a,r,d))&&e(n,r?r.concat(a):[a])}),c.pop()}}(e),t};function Yh(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function Qh(e,t){this._pairs=[],e&&$h(e,this,t)}const Jh=Qh.prototype;Jh.append=function(e,t){this._pairs.push([e,t])},Jh.toString=function(e){const t=e?function(t){return e.call(this,t,Yh)}:Yh;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Zh=Qh;function em(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tm(e,t,n){if(!t)return e;const r=n&&n.encode||em;zh.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let a;if(a=o?o(t,n):zh.isURLSearchParams(t)?t.toString():new Zh(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const nm=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){zh.forEach(this.handlers,function(t){null!==t&&e(t)})}},rm={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},om={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Zh,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},am="undefined"!==typeof window&&"undefined"!==typeof document,im="object"===typeof navigator&&navigator||void 0,sm=am&&(!im||["ReactNative","NativeScript","NS"].indexOf(im.product)<0),lm="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,um=am&&window.location.href||"http://localhost",cm=u(u({},e),om);const dm=function(e){function t(e,n,r,o){let a=e[o++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),s=o>=e.length;if(a=!a&&zh.isArray(r)?r.length:a,s)return zh.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&zh.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],o)&&zh.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let a;for(r=0;r<o;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(zh.isFormData(e)&&zh.isFunction(e.entries)){const n={};return zh.forEachEntry(e,(e,r)=>{t(function(e){return zh.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const pm={transitional:rm,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=zh.isObject(e);o&&zh.isHTMLForm(e)&&(e=new FormData(e));if(zh.isFormData(e))return r?JSON.stringify(dm(e)):e;if(zh.isArrayBuffer(e)||zh.isBuffer(e)||zh.isStream(e)||zh.isFile(e)||zh.isBlob(e)||zh.isReadableStream(e))return e;if(zh.isArrayBufferView(e))return e.buffer;if(zh.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return $h(e,new cm.classes.URLSearchParams,u({visitor:function(e,t,n,r){return cm.isNode&&zh.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=zh.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return $h(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(zh.isString(e))try{return(t||JSON.parse)(e),zh.trim(e)}catch(Gk){if("SyntaxError"!==Gk.name)throw Gk}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||pm.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(zh.isResponse(e)||zh.isReadableStream(e))return e;if(e&&zh.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Gk){if(n){if("SyntaxError"===Gk.name)throw Hh.from(Gk,Hh.ERR_BAD_RESPONSE,this,null,this.response);throw Gk}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cm.classes.FormData,Blob:cm.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};zh.forEach(["delete","get","head","post","put","patch"],e=>{pm.headers[e]={}});const fm=pm,hm=zh.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mm=Symbol("internals");function vm(e){return e&&String(e).trim().toLowerCase()}function gm(e){return!1===e||null==e?e:zh.isArray(e)?e.map(gm):String(e)}function ym(e,t,n,r,o){return zh.isFunction(r)?r.call(this,t,n):(o&&(t=n),zh.isString(t)?zh.isString(r)?-1!==t.indexOf(r):zh.isRegExp(r)?r.test(t):void 0:void 0)}class bm{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=vm(t);if(!o)throw new Error("header name must be a non-empty string");const a=zh.findKey(r,o);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=gm(e))}const a=(e,t)=>zh.forEach(e,(e,n)=>o(e,n,t));if(zh.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(zh.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach(function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&hm[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(zh.isObject(e)&&zh.isIterable(e)){let n,r,o={};for(const t of e){if(!zh.isArray(t))throw TypeError("Object iterator must return a key-value pair");o[r=t[0]]=(n=o[r])?zh.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(o,t)}else null!=e&&o(t,e,n);return this}get(e,t){if(e=vm(e)){const n=zh.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(zh.isFunction(t))return t.call(this,e,n);if(zh.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=vm(e)){const n=zh.findKey(this,e);return!(!n||void 0===this[n]||t&&!ym(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=vm(e)){const o=zh.findKey(n,e);!o||t&&!ym(0,n[o],o,t)||(delete n[o],r=!0)}}return zh.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!ym(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return zh.forEach(this,(r,o)=>{const a=zh.findKey(n,o);if(a)return t[a]=gm(r),void delete t[o];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(o):String(o).trim();i!==o&&delete t[o],t[i]=gm(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return zh.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&zh.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[mm]=this[mm]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=vm(e);t[r]||(!function(e,t){const n=zh.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})})}(n,e),t[r]=!0)}return zh.isArray(e)?e.forEach(r):r(e),this}}bm.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),zh.reduceDescriptors(bm.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),zh.freezeMethods(bm);const xm=bm;function wm(e,t){const n=this||fm,r=t||n,o=xm.from(r.headers);let a=r.data;return zh.forEach(e,function(e){a=e.call(n,a,o.normalize(),t?t.status:void 0)}),o.normalize(),a}function Sm(e){return!(!e||!e.__CANCEL__)}function Cm(e,t,n){Hh.call(this,null==e?"canceled":e,Hh.ERR_CANCELED,t,n),this.name="CanceledError"}zh.inherits(Cm,Hh,{__CANCEL__:!0});const km=Cm;function Em(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Hh("Request failed with status code "+n.status,[Hh.ERR_BAD_REQUEST,Hh.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Rm=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,a=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),u=r[i];o||(o=l),n[a]=s,r[a]=l;let c=i,d=0;for(;c!==a;)d+=n[c++],c%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-o<t)return;const p=u&&l-u;return p?Math.round(1e3*d/p):void 0}};const _m=function(e,t){let n,r,o=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-o;for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=a?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},a-t)))},()=>n&&i(n)]},Im=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Rm(50,250);return _m(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,s=a-r,l=o(s);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Tm=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Am=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zh.asap(()=>e(...n))},Pm=cm.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,cm.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(cm.origin),cm.navigator&&/(msie|trident)/i.test(cm.navigator.userAgent)):()=>!0,Nm=cm.hasStandardBrowserEnv?{write(e,t,n,r,o,a){const i=[e+"="+encodeURIComponent(t)];zh.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),zh.isString(r)&&i.push("path="+r),zh.isString(o)&&i.push("domain="+o),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mm(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Om=e=>e instanceof xm?u({},e):e;function Dm(e,t){t=t||{};const n={};function r(e,t,n,r){return zh.isPlainObject(e)&&zh.isPlainObject(t)?zh.merge.call({caseless:r},e,t):zh.isPlainObject(t)?zh.merge({},t):zh.isArray(t)?t.slice():t}function o(e,t,n,o){return zh.isUndefined(t)?zh.isUndefined(e)?void 0:r(void 0,e,0,o):r(e,t,0,o)}function a(e,t){if(!zh.isUndefined(t))return r(void 0,t)}function i(e,t){return zh.isUndefined(t)?zh.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,o,a){return a in t?r(n,o):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,n)=>o(Om(e),Om(t),0,!0)};return zh.forEach(Object.keys(u(u({},e),t)),function(r){const a=l[r]||o,i=a(e[r],t[r],r);zh.isUndefined(i)&&a!==s||(n[r]=i)}),n}const jm=e=>{const t=Dm({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:l}=t;if(t.headers=s=xm.from(s),t.url=tm(Mm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&s.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),zh.isFormData(r))if(cm.hasStandardBrowserEnv||cm.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(!1!==(n=s.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];s.setContentType([e||"multipart/form-data",...t].join("; "))}if(cm.hasStandardBrowserEnv&&(o&&zh.isFunction(o)&&(o=o(t)),o||!1!==o&&Pm(t.url))){const e=a&&i&&Nm.read(i);e&&s.set(a,e)}return t},Fm="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=jm(e);let o=r.data;const a=xm.from(r.headers).normalize();let i,s,l,u,c,{responseType:d,onUploadProgress:p,onDownloadProgress:f}=r;function h(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function v(){if(!m)return;const r=xm.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Em(function(e){t(e),h()},function(e){n(e),h()},{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=v:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(v)},m.onabort=function(){m&&(n(new Hh("Request aborted",Hh.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Hh("Network Error",Hh.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||rm;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Hh(t,o.clarifyTimeoutError?Hh.ETIMEDOUT:Hh.ECONNABORTED,e,m)),m=null},void 0===o&&a.setContentType(null),"setRequestHeader"in m&&zh.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),zh.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),f&&([l,c]=Im(f,!0),m.addEventListener("progress",l)),p&&m.upload&&([s,u]=Im(p),m.upload.addEventListener("progress",s),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new km(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===cm.protocols.indexOf(g)?n(new Hh("Unsupported protocol "+g+":",Hh.ERR_BAD_REQUEST,e)):m.send(o||null)})},Lm=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Hh?t:new km(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,o(new Hh("timeout ".concat(t," of ms exceeded"),Hh.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)}),e=null)};e.forEach(e=>e.addEventListener("abort",o));const{signal:s}=r;return s.unsubscribe=()=>zh.asap(i),s}};function Bm(e,t){this.v=e,this.k=t}function zm(e){return function(){return new Wm(e.apply(this,arguments))}}function Wm(e){var t,n;function r(t,n){try{var a=e[t](n),i=a.value,s=i instanceof Bm;Promise.resolve(s?i.v:i).then(function(n){if(s){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}o(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){o("throw",e)}}function o(e,o){switch(e){case"return":t.resolve({value:o,done:!0});break;case"throw":t.reject(o);break;default:t.resolve({value:o,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,o){return new Promise(function(a,i){var s={key:e,arg:o,resolve:a,reject:i,next:null};n?n=n.next=s:(t=n=s,r(e,o))})},"function"!=typeof e.return&&(this.return=void 0)}function Um(e){return new Bm(e,0)}function Vm(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new Bm(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function Hm(e){var t,n,r,o=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);o--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new qm(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function qm(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return qm=function(e){this.s=e,this.n=e.next},qm.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new qm(e)}Wm.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Wm.prototype.next=function(e){return this._invoke("next",e)},Wm.prototype.throw=function(e){return this._invoke("throw",e)},Wm.prototype.return=function(e){return this._invoke("return",e)};const Gm=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},Km=function(){var e=zm(function*(e,t){var n,r=!1,o=!1;try{for(var a,i=Hm(Xm(e));r=!(a=yield Um(i.next())).done;r=!1){const e=a.value;yield*Vm(Hm(Gm(e,t)))}}catch(s){o=!0,n=s}finally{try{r&&null!=i.return&&(yield Um(i.return()))}finally{if(o)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),Xm=function(){var e=zm(function*(e){if(e[Symbol.asyncIterator])return void(yield*Vm(Hm(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield Um(t.read());if(e)break;yield n}}finally{yield Um(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),$m=(e,t,n,r)=>{const o=Km(e,t);let a,i=0,s=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return s(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:e=>(s(e),o.return())},{highWaterMark:2})},Ym="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Qm=Ym&&"function"===typeof ReadableStream,Jm=Ym&&("function"===typeof TextEncoder?(Zm=new TextEncoder,e=>Zm.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Zm;const ev=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Gk){return!1}},tv=Qm&&ev(()=>{let e=!1;const t=new Request(cm.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),nv=Qm&&ev(()=>zh.isReadableStream(new Response("").body)),rv={stream:nv&&(e=>e.body)};var ov;Ym&&(ov=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!rv[e]&&(rv[e]=zh.isFunction(ov[e])?t=>t[e]():(t,n)=>{throw new Hh("Response type '".concat(e,"' is not supported"),Hh.ERR_NOT_SUPPORT,n)})}));const av=async(e,t)=>{const n=zh.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(zh.isBlob(e))return e.size;if(zh.isSpecCompliantForm(e)){const t=new Request(cm.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return zh.isArrayBufferView(e)||zh.isArrayBuffer(e)?e.byteLength:(zh.isURLSearchParams(e)&&(e+=""),zh.isString(e)?(await Jm(e)).byteLength:void 0)})(t):n},iv=Ym&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:a,timeout:i,onDownloadProgress:s,onUploadProgress:l,responseType:c,headers:d,withCredentials:p="same-origin",fetchOptions:f}=jm(e);c=c?(c+"").toLowerCase():"text";let h,m=Lm([o,a&&a.toAbortSignal()],i);const v=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let g;try{if(l&&tv&&"get"!==n&&"head"!==n&&0!==(g=await av(d,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(zh.isFormData(r)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Tm(g,Im(Am(l)));r=$m(n.body,65536,e,t)}}zh.isString(p)||(p=p?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,u(u({},f),{},{signal:m,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",credentials:o?p:void 0}));let a=await fetch(h,f);const i=nv&&("stream"===c||"response"===c);if(nv&&(s||i&&v)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=a[t]});const t=zh.toFiniteNumber(a.headers.get("content-length")),[n,r]=s&&Tm(t,Im(Am(s),!0))||[];a=new Response($m(a.body,65536,n,()=>{r&&r(),v&&v()}),e)}c=c||"text";let y=await rv[zh.findKey(rv,c)||"text"](a,e);return!i&&v&&v(),await new Promise((t,n)=>{Em(t,n,{data:y,headers:xm.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:h})})}catch(y){if(v&&v(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new Hh("Network Error",Hh.ERR_NETWORK,e,h),{cause:y.cause||y});throw Hh.from(y,y&&y.code,e,h)}}),sv={http:null,xhr:Fm,fetch:iv};zh.forEach(sv,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Gk){}Object.defineProperty(e,"adapterName",{value:t})}});const lv=e=>"- ".concat(e),uv=e=>zh.isFunction(e)||null===e||!1===e,cv=e=>{e=zh.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let a=0;a<t;a++){let t;if(n=e[a],r=n,!uv(n)&&(r=sv[(t=String(n)).toLowerCase()],void 0===r))throw new Hh("Unknown adapter '".concat(t,"'"));if(r)break;o[t||"#"+a]=r}if(!r){const e=Object.entries(o).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(lv).join("\n"):" "+lv(e[0]):"as no adapter specified";throw new Hh("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function dv(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new km(null,e)}function pv(e){dv(e),e.headers=xm.from(e.headers),e.data=wm.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return cv(e.adapter||fm.adapter)(e).then(function(t){return dv(e),t.data=wm.call(e,e.transformResponse,t),t.headers=xm.from(t.headers),t},function(t){return Sm(t)||(dv(e),t&&t.response&&(t.response.data=wm.call(e,e.transformResponse,t.response),t.response.headers=xm.from(t.response.headers))),Promise.reject(t)})}const fv="1.11.0",hv={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{hv[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const mv={};hv.transitional=function(e,t,n){function r(e,t){return"[Axios v"+fv+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,a)=>{if(!1===e)throw new Hh(r(o," has been removed"+(t?" in "+t:"")),Hh.ERR_DEPRECATED);return t&&!mv[o]&&(mv[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,a)}},hv.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const vv={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Hh("options must be an object",Hh.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const a=r[o],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new Hh("option "+a+" must be "+n,Hh.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new Hh("Unknown option "+a,Hh.ERR_BAD_OPTION)}},validators:hv},gv=vv.validators;class yv{constructor(e){this.defaults=e||{},this.interceptors={request:new nm,response:new nm}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Gk){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Dm(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&vv.assertOptions(n,{silentJSONParsing:gv.transitional(gv.boolean),forcedJSONParsing:gv.transitional(gv.boolean),clarifyTimeoutError:gv.transitional(gv.boolean)},!1),null!=r&&(zh.isFunction(r)?t.paramsSerializer={serialize:r}:vv.assertOptions(r,{encode:gv.function,serialize:gv.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vv.assertOptions(t,{baseUrl:gv.spelling("baseURL"),withXsrfToken:gv.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&zh.merge(o.common,o[t.method]);o&&zh.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=xm.concat(a,o);const i=[];let s=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let u;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let c,d=0;if(!s){const e=[pv.bind(this),void 0];for(e.unshift(...i),e.push(...l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=i.length;let p=t;for(d=0;d<c;){const e=i[d++],t=i[d++];try{p=e(p)}catch(f){t.call(this,f);break}}try{u=pv.call(this,p)}catch(f){return Promise.reject(f)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return tm(Mm((e=Dm(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}zh.forEach(["delete","get","head","options"],function(e){yv.prototype[e]=function(t,n){return this.request(Dm(n||{},{method:e,url:t,data:(n||{}).data}))}}),zh.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(Dm(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}yv.prototype[e]=t(),yv.prototype[e+"Form"]=t(!0)});const bv=yv;class xv{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,o){n.reason||(n.reason=new km(e,r,o),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new xv(function(t){e=t});return{token:t,cancel:e}}}const wv=xv;const Sv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sv).forEach(e=>{let[t,n]=e;Sv[n]=t});const Cv=Sv;const kv=function e(t){const n=new bv(t),r=Jf(bv.prototype.request,n);return zh.extend(r,bv.prototype,n,{allOwnKeys:!0}),zh.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Dm(t,n))},r}(fm);kv.Axios=bv,kv.CanceledError=km,kv.CancelToken=wv,kv.isCancel=Sm,kv.VERSION=fv,kv.toFormData=$h,kv.AxiosError=Hh,kv.Cancel=kv.CanceledError,kv.all=function(e){return Promise.all(e)},kv.spread=function(e){return function(t){return e.apply(null,t)}},kv.isAxiosError=function(e){return zh.isObject(e)&&!0===e.isAxiosError},kv.mergeConfig=Dm,kv.AxiosHeaders=xm,kv.formToJSON=e=>dm(zh.isHTMLForm(e)?new FormData(e):e),kv.getAdapter=cv,kv.HttpStatusCode=Cv,kv.default=kv;const Ev=kv,Rv="http://localhost:8000/api",_v=Ev.create({baseURL:Rv});_v.interceptors.request.use(e=>{const t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),_v.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response.status&&!t._retry){t._retry=!0;try{const e=localStorage.getItem("refresh_token"),n=await Ev.post("".concat(Rv,"/auth/token/refresh/"),{refresh:e}),{access:r}=n.data;return localStorage.setItem("access_token",r),t.headers.Authorization="Bearer ".concat(r),_v(t)}catch(n){return localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.href="/login",Promise.reject(n)}}return Promise.reject(e)});const Iv=_v,Tv=e=>Iv.post("/auth/login/",e),Av=()=>{const e=localStorage.getItem("refresh_token");return e?Iv.post("/auth/logout/",{refresh_token:e}):Promise.resolve()},Pv=()=>Iv.get("/users/me/"),Nv=(0,t.createContext)(),Mv=()=>(0,t.useContext)(Nv),Ov=e=>{let{children:n}=e;const[r,o]=(0,t.useState)(null),[a,i]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{localStorage.getItem("access_token")?Pv().then(e=>{o(e.data);const t=[];e.data.roles&&e.data.roles.forEach(e=>{e.privilegios&&e.privilegios.forEach(e=>{t.includes(e.codigo)||t.push(e.codigo)})}),i(t),l(!1)}).catch(e=>{console.error("Error getting current user:",e),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),l(!1)}):l(!1)},[]);const u={currentUser:r,userPrivileges:a,login:async e=>{try{const t=await Tv(e),{access:n,refresh:r,user:a}=t.data;localStorage.setItem("access_token",n),localStorage.setItem("refresh_token",r),o(a);const s=[];return a.roles&&a.roles.forEach(e=>{e.privilegios&&e.privilegios.forEach(e=>{s.includes(e.codigo)||s.push(e.codigo)})}),i(s),t}catch(t){throw t}},logout:async()=>{try{await Av()}catch(e){console.error("Logout error:",e)}finally{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),o(null),i([])}},isAuthenticated:!!r};return(0,m.jsx)(Nv.Provider,{value:u,children:!s&&n})},Dv=()=>{const[e,n]=(0,t.useState)({username:"",password:""}),[r,o]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),{login:s}=Mv(),l=Qa(),c=t=>{n(u(u({},e),{},{[t.target.name]:t.target.value}))};return(0,m.jsx)(Ls,{component:"main",maxWidth:"xs",children:(0,m.jsx)(Hs,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:(0,m.jsxs)(Js,{elevation:3,sx:{padding:4,width:"100%"},children:[(0,m.jsx)(ul,{component:"h1",variant:"h5",align:"center",gutterBottom:!0,children:"Smart Condominium"}),(0,m.jsx)(ul,{component:"h2",variant:"h6",align:"center",gutterBottom:!0,children:"Iniciar Sesi\xf3n"}),r&&(0,m.jsx)(Qu,{severity:"error",sx:{mb:2},children:r}),(0,m.jsxs)(Hs,{component:"form",onSubmit:async t=>{t.preventDefault(),i(!0),o("");try{await s(e),l("/dashboard")}catch(r){var n,a;o((null===(n=r.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.detail)||"Error al iniciar sesi\xf3n")}finally{i(!1)}},sx:{mt:1},children:[(0,m.jsx)(Lf,{margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Usuario",name:"username",autoComplete:"username",autoFocus:!0,value:e.username,onChange:c}),(0,m.jsx)(Lf,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Contrase\xf1a",type:"password",id:"password",autoComplete:"current-password",value:e.password,onChange:c}),(0,m.jsx)(Qf,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:a,children:a?"Iniciando sesi\xf3n...":"Iniciar Sesi\xf3n"})]})]})})})};function jv(){return(0,t.useEffect)(()=>{localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),window.location.replace("/login")},[]),(0,m.jsx)("div",{children:"Cerrando sesi\xf3n\u2026"})}function Fv(e){return ds("MuiToolbar",e)}zs("MuiToolbar",["root","gutters","regular","dense"]);const Lv=["className","component","disableGutters","variant"],Bv=js("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Ks(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}})),zv=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiToolbar"}),{className:r,component:o="div",disableGutters:a=!1,variant:i="regular"}=n,s=d(n,Lv),l=u(u({},n),{},{component:o,disableGutters:a,variant:i}),c=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return ps({root:["root",!n&&"gutters",r]},Fv,t)})(l);return(0,m.jsx)(Bv,u({as:o,className:Qe(c.root,r),ref:t,ownerState:l},s))});function Wv(e){return ds("MuiListItem",e)}zs("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function Uv(e){return ds("MuiListItemButton",e)}const Vv=zs("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Hv(e){return ds("MuiListItemSecondaryAction",e)}zs("MuiListItemSecondaryAction",["root","disableGutters"]);const qv=["className"],Gv=js("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),Kv=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=r,a=d(r,qv),i=t.useContext(kd),s=u(u({},r),{},{disableGutters:i.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e;return ps({root:["root",t&&"disableGutters"]},Hv,n)})(s);return(0,m.jsx)(Gv,u({className:Qe(l.root,o),ownerState:s,ref:n},a))});Kv.muiName="ListItemSecondaryAction";const Xv=Kv,$v=["className"],Yv=["alignItems","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disableGutters","disablePadding","divider","secondaryAction","slotProps","slots"],Qv=js("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(Ks(e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{["& > .".concat(Vv.root)]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}})),Jv=js("li",{name:"MuiListItem",slot:"Container"})({position:"relative"}),Zv=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiListItem"}),{alignItems:o="center",children:a,className:i,component:s,components:l={},componentsProps:c={},ContainerComponent:p="li",ContainerProps:{className:f}={},dense:h=!1,disableGutters:v=!1,disablePadding:g=!1,divider:y=!1,secondaryAction:b,slotProps:x={},slots:w={}}=r,S=d(r.ContainerProps,$v),C=d(r,Yv),k=t.useContext(kd),E=t.useMemo(()=>({dense:h||k.dense||!1,alignItems:o,disableGutters:v}),[o,k.dense,h,v]),R=t.useRef(null),_=t.Children.toArray(a),I=_.length&&ld(_[_.length-1],["ListItemSecondaryAction"]),T=u(u({},r),{},{alignItems:o,dense:E.dense,disableGutters:v,disablePadding:g,divider:y,hasSecondaryAction:I}),A=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:o,disablePadding:a,divider:i,hasSecondaryAction:s}=e;return ps({root:["root",r&&"dense",!o&&"gutters",!a&&"padding",i&&"divider","flex-start"===t&&"alignItemsFlexStart",s&&"secondaryAction"],container:["container"]},Wv,n)})(T),P=El(R,n),N=w.root||l.Root||Qv,M=x.root||c.root||{},O=u({className:Qe(A.root,M.className,i)},C);let D=s||"li";return I?(D=O.component||s?D:"div","li"===p&&("li"===D?D="div":"li"===O.component&&(O.component="div")),(0,m.jsx)(kd.Provider,{value:E,children:(0,m.jsxs)(Jv,u(u({as:p,className:Qe(A.container,f),ref:P,ownerState:T},S),{},{children:[(0,m.jsx)(N,u(u(u(u({},M),!dl(N)&&{as:D,ownerState:u(u({},T),M.ownerState)}),O),{},{children:_})),_.pop()]}))})):(0,m.jsx)(kd.Provider,{value:E,children:(0,m.jsxs)(N,u(u(u(u({},M),{},{as:D,ref:P},!dl(N)&&{ownerState:u(u({},T),M.ownerState)}),O),{},{children:[_,b&&(0,m.jsx)(Xv,{children:b})]}))})}),eg=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],tg=js(uu,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Ks(e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Vv.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(Vv.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(Vv.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(Vv.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Vv.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{paddingTop:4,paddingBottom:4}}]}})),ng=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiListItemButton"}),{alignItems:o="center",autoFocus:a=!1,component:i="div",children:s,dense:l=!1,disableGutters:c=!1,divider:p=!1,focusVisibleClassName:f,selected:h=!1,className:v}=r,g=d(r,eg),y=t.useContext(kd),b=t.useMemo(()=>({dense:l||y.dense||!1,alignItems:o,disableGutters:c}),[o,y.dense,l,c]),x=t.useRef(null);cc(()=>{a&&x.current&&x.current.focus()},[a]);const w=u(u({},r),{},{alignItems:o,dense:b.dense,disableGutters:c,divider:p,selected:h}),S=(e=>{const{alignItems:t,classes:n,dense:r,disabled:o,disableGutters:a,divider:i,selected:s}=e,l=ps({root:["root",r&&"dense",!a&&"gutters",i&&"divider",o&&"disabled","flex-start"===t&&"alignItemsFlexStart",s&&"selected"]},Uv,n);return u(u({},n),l)})(w),C=El(x,n);return(0,m.jsx)(kd.Provider,{value:b,children:(0,m.jsx)(tg,u(u({ref:C,href:g.href||g.to,component:(g.href||g.to)&&"div"===i?"button":i,focusVisibleClassName:Qe(S.focusVisible,f),ownerState:w,className:Qe(S.root,v)},g),{},{classes:S,children:s}))})});function rg(e){return ds("MuiListItemIcon",e)}const og=zs("MuiListItemIcon",["root","alignItemsFlexStart"]),ag=["className"],ig=js("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(Ks(e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}})),sg=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiListItemIcon"}),{className:o}=r,a=d(r,ag),i=t.useContext(kd),s=u(u({},r),{},{alignItems:i.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e;return ps({root:["root","flex-start"===t&&"alignItemsFlexStart"]},rg,n)})(s);return(0,m.jsx)(ig,u({className:Qe(l.root,o),ownerState:s,ref:n},a))});function lg(e){return ds("MuiListItemText",e)}const ug=zs("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),cg=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","slots","slotProps"],dg=js("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(ug.primary)]:t.primary},{["& .".concat(ug.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(tl.root,":where(& .").concat(ug.primary,")")]:{display:"block"},[".".concat(tl.root,":where(& .").concat(ug.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),pg=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiListItemText"}),{children:o,className:a,disableTypography:i=!1,inset:s=!1,primary:l,primaryTypographyProps:c,secondary:p,secondaryTypographyProps:f,slots:h={},slotProps:v={}}=r,g=d(r,cg),{dense:y}=t.useContext(kd);let b=null!=l?l:o,x=p;const w=u(u({},r),{},{disableTypography:i,inset:s,primary:!!b,secondary:!!x,dense:y}),S=(e=>{const{classes:t,inset:n,primary:r,secondary:o,dense:a}=e;return ps({root:["root",n&&"inset",a&&"dense",r&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},lg,t)})(w),C={slots:h,slotProps:u({primary:c,secondary:f},v)},[k,E]=xl("root",{className:Qe(S.root,a),elementType:dg,externalForwardedProps:u(u({},C),g),ownerState:w,ref:n}),[R,_]=xl("primary",{className:S.primary,elementType:ul,externalForwardedProps:C,ownerState:w}),[I,T]=xl("secondary",{className:S.secondary,elementType:ul,externalForwardedProps:C,ownerState:w});return null==b||b.type===ul||i||(b=(0,m.jsx)(R,u(u({variant:y?"body2":"body1",component:null!==_&&void 0!==_&&_.variant?void 0:"span"},_),{},{children:b}))),null==x||x.type===ul||i||(x=(0,m.jsx)(I,u(u({variant:"body2",color:"textSecondary"},T),{},{children:x}))),(0,m.jsxs)(k,u(u({},E),{},{children:[b,x]}))}),fg=Lu((0,m.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}));function hg(e){return ds("MuiChip",e)}const mg=zs("MuiChip",["root","sizeSmall","sizeMedium","colorDefault","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),vg=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled","slots","slotProps"],gg=js("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:r,iconColor:o,clickable:a,onDelete:i,size:s,variant:l}=n;return[{["& .".concat(mg.avatar)]:t.avatar},{["& .".concat(mg.avatar)]:t["avatar".concat(Ms(s))]},{["& .".concat(mg.avatar)]:t["avatarColor".concat(Ms(r))]},{["& .".concat(mg.icon)]:t.icon},{["& .".concat(mg.icon)]:t["icon".concat(Ms(s))]},{["& .".concat(mg.icon)]:t["iconColor".concat(Ms(o))]},{["& .".concat(mg.deleteIcon)]:t.deleteIcon},{["& .".concat(mg.deleteIcon)]:t["deleteIcon".concat(Ms(s))]},{["& .".concat(mg.deleteIcon)]:t["deleteIconColor".concat(Ms(r))]},{["& .".concat(mg.deleteIcon)]:t["deleteIcon".concat(Ms(l),"Color").concat(Ms(r))]},t.root,t["size".concat(Ms(s))],t["color".concat(Ms(r))],a&&t.clickable,a&&"default"!==r&&t["clickableColor".concat(Ms(r),")")],i&&t.deletable,i&&"default"!==r&&t["deletableColor".concat(Ms(r))],t[l],t["".concat(l).concat(Ms(r))]]}})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return{maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,lineHeight:1.5,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(mg.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(mg.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:n,fontSize:t.typography.pxToRem(12)},["& .".concat(mg.avatarColorPrimary)]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},["& .".concat(mg.avatarColorSecondary)]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},["& .".concat(mg.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},["& .".concat(mg.icon)]:{marginLeft:5,marginRight:-6},["& .".concat(mg.deleteIcon)]:{WebkitTapHighlightColor:"transparent",color:t.alpha((t.vars||t).palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.alpha((t.vars||t).palette.text.primary,.4)}},variants:[{props:{size:"small"},style:{height:24,["& .".concat(mg.icon)]:{fontSize:18,marginLeft:4,marginRight:-4},["& .".concat(mg.deleteIcon)]:{fontSize:16,marginRight:4,marginLeft:-4}}},...Object.entries(t.palette).filter(Zs(["contrastText"])).map(e=>{let[n]=e;return{props:{color:n},style:{backgroundColor:(t.vars||t).palette[n].main,color:(t.vars||t).palette[n].contrastText,["& .".concat(mg.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].contrastText}}}}}),{props:e=>e.iconColor===e.color,style:{["& .".concat(mg.icon)]:{color:t.vars?t.vars.palette.Chip.defaultIconColor:n}}},{props:e=>e.iconColor===e.color&&"default"!==e.color,style:{["& .".concat(mg.icon)]:{color:"inherit"}}},{props:{onDelete:!0},style:{["&.".concat(mg.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}},...Object.entries(t.palette).filter(Zs(["dark"])).map(e=>{let[n]=e;return{props:{color:n,onDelete:!0},style:{["&.".concat(mg.focusVisible)]:{background:(t.vars||t).palette[n].dark}}}}),{props:{clickable:!0},style:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))},["&.".concat(mg.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))},"&:active":{boxShadow:(t.vars||t).shadows[1]}}},...Object.entries(t.palette).filter(Zs(["dark"])).map(e=>{let[n]=e;return{props:{color:n,clickable:!0},style:{["&:hover, &.".concat(mg.focusVisible)]:{backgroundColor:(t.vars||t).palette[n].dark}}}}),{props:{variant:"outlined"},style:{backgroundColor:"transparent",border:t.vars?"1px solid ".concat(t.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]),["&.".concat(mg.clickable,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(mg.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["& .".concat(mg.avatar)]:{marginLeft:4},["& .".concat(mg.avatarSmall)]:{marginLeft:2},["& .".concat(mg.icon)]:{marginLeft:4},["& .".concat(mg.iconSmall)]:{marginLeft:2},["& .".concat(mg.deleteIcon)]:{marginRight:5},["& .".concat(mg.deleteIconSmall)]:{marginRight:3}}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{color:(t.vars||t).palette[n].main,border:"1px solid ".concat(t.alpha((t.vars||t).palette[n].main,.7)),["&.".concat(mg.clickable,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)},["&.".concat(mg.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.focusOpacity)},["& .".concat(mg.deleteIcon)]:{color:t.alpha((t.vars||t).palette[n].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n].main}}}}})]}})),yg=js("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:r}=n;return[t.label,t["label".concat(Ms(r))]]}})({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap",variants:[{props:{variant:"outlined"},style:{paddingLeft:11,paddingRight:11}},{props:{size:"small"},style:{paddingLeft:8,paddingRight:8}},{props:{size:"small",variant:"outlined"},style:{paddingLeft:7,paddingRight:7}}]});function bg(e){return"Backspace"===e.key||"Delete"===e.key}const xg=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiChip"}),{avatar:o,className:a,clickable:i,color:s="default",component:l,deleteIcon:c,disabled:p=!1,icon:f,label:h,onClick:v,onDelete:g,onKeyDown:y,onKeyUp:b,size:x="medium",variant:w="filled",tabIndex:S,skipFocusWhenDisabled:C=!1,slots:k={},slotProps:E={}}=r,R=d(r,vg),_=t.useRef(null),I=El(_,n),T=e=>{e.stopPropagation(),g&&g(e)},A=!(!1===i||!v)||i,P=A||g?uu:l||"div",N=u(u({},r),{},{component:P,disabled:p,size:x,color:s,iconColor:t.isValidElement(f)&&f.props.color||s,onDelete:!!g,clickable:A,variant:w}),M=(e=>{const{classes:t,disabled:n,size:r,color:o,iconColor:a,onDelete:i,clickable:s,variant:l}=e;return ps({root:["root",l,n&&"disabled","size".concat(Ms(r)),"color".concat(Ms(o)),s&&"clickable",s&&"clickableColor".concat(Ms(o)),i&&"deletable",i&&"deletableColor".concat(Ms(o)),"".concat(l).concat(Ms(o))],label:["label","label".concat(Ms(r))],avatar:["avatar","avatar".concat(Ms(r)),"avatarColor".concat(Ms(o))],icon:["icon","icon".concat(Ms(r)),"iconColor".concat(Ms(a))],deleteIcon:["deleteIcon","deleteIcon".concat(Ms(r)),"deleteIconColor".concat(Ms(o)),"deleteIcon".concat(Ms(l),"Color").concat(Ms(o))]},hg,t)})(N),O=P===uu?u({component:l||"div",focusVisibleClassName:M.focusVisible},g&&{disableRipple:!0}):{};let D=null;g&&(D=c&&t.isValidElement(c)?t.cloneElement(c,{className:Qe(c.props.className,M.deleteIcon),onClick:T}):(0,m.jsx)(fg,{className:M.deleteIcon,onClick:T}));let j=null;o&&t.isValidElement(o)&&(j=t.cloneElement(o,{className:Qe(M.avatar,o.props.className)}));let F=null;f&&t.isValidElement(f)&&(F=t.cloneElement(f,{className:Qe(M.icon,f.props.className)}));const L={slots:k,slotProps:E},[B,z]=xl("root",{elementType:gg,externalForwardedProps:u(u({},L),R),ownerState:N,shouldForwardComponentProp:!0,ref:I,className:Qe(M.root,a),additionalProps:u({disabled:!(!A||!p)||void 0,tabIndex:C&&p?-1:S},O),getSlotProps:e=>u(u({},e),{},{onClick:t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),null===v||void 0===v||v(t)},onKeyDown:t=>{var n;null===(n=e.onKeyDown)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&bg(e)&&e.preventDefault(),y&&y(e)})(t)},onKeyUp:t=>{var n;null===(n=e.onKeyUp)||void 0===n||n.call(e,t),(e=>{e.currentTarget===e.target&&g&&bg(e)&&g(e),b&&b(e)})(t)}})}),[W,U]=xl("label",{elementType:yg,externalForwardedProps:L,ownerState:N,className:M.label});return(0,m.jsxs)(B,u(u({as:P},z),{},{children:[j||F,(0,m.jsx)(W,u(u({},U),{},{children:h})),D]}))}),wg=xg;function Sg(e){return ds("MuiCollapse",e)}zs("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const Cg=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],kg=["ownerState"],Eg=js("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})(Ks(e=>{let{theme:t}=e;return{height:0,overflow:"hidden",transition:t.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:t.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:e=>{let{ownerState:t}=e;return"exited"===t.state&&!t.in&&"0px"===t.collapsedSize},style:{visibility:"hidden"}}]}})),Rg=js("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),_g=js("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Ig=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiCollapse"}),{addEndListener:o,children:a,className:i,collapsedSize:s="0px",component:l,easing:c,in:p,onEnter:f,onEntered:h,onEntering:v,onExit:g,onExited:y,onExiting:b,orientation:x="vertical",style:w,timeout:S=Yr.standard,TransitionComponent:C=$d}=r,k=d(r,Cg),E=u(u({},r),{},{orientation:x,collapsedSize:s}),R=(e=>{const{orientation:t,classes:n}=e;return ps({root:["root","".concat(t)],entered:["entered"],hidden:["hidden"],wrapper:["wrapper","".concat(t)],wrapperInner:["wrapperInner","".concat(t)]},Sg,n)})(E),_=qs(),I=Vl(),T=t.useRef(null),A=t.useRef(),P="number"===typeof s?"".concat(s,"px"):s,N="horizontal"===x,M=N?"width":"height",O=t.useRef(null),D=El(n,O),j=e=>t=>{if(e){const n=O.current;void 0===t?e(n):e(n,t)}},F=()=>T.current?T.current[N?"clientWidth":"clientHeight"]:0,L=j((e,t)=>{T.current&&N&&(T.current.style.position="absolute"),e.style[M]=P,f&&f(e,t)}),B=j((e,t)=>{const n=F();T.current&&N&&(T.current.style.position="");const{duration:r,easing:o}=Qd({style:w,timeout:S,easing:c},{mode:"enter"});if("auto"===S){const t=_.transitions.getAutoHeightDuration(n);e.style.transitionDuration="".concat(t,"ms"),A.current=t}else e.style.transitionDuration="string"===typeof r?r:"".concat(r,"ms");e.style[M]="".concat(n,"px"),e.style.transitionTimingFunction=o,v&&v(e,t)}),z=j((e,t)=>{e.style[M]="auto",h&&h(e,t)}),W=j(e=>{e.style[M]="".concat(F(),"px"),g&&g(e)}),U=j(y),V=j(e=>{const t=F(),{duration:n,easing:r}=Qd({style:w,timeout:S,easing:c},{mode:"exit"});if("auto"===S){const n=_.transitions.getAutoHeightDuration(t);e.style.transitionDuration="".concat(n,"ms"),A.current=n}else e.style.transitionDuration="string"===typeof n?n:"".concat(n,"ms");e.style[M]=P,e.style.transitionTimingFunction=r,b&&b(e)});return(0,m.jsx)(C,u(u({in:p,onEnter:L,onEntered:z,onEntering:B,onExit:W,onExited:U,onExiting:V,addEndListener:e=>{"auto"===S&&I.start(A.current||0,e),o&&o(O.current,e)},nodeRef:O,timeout:"auto"===S?null:S},k),{},{children:(e,t)=>{let{ownerState:n}=t,r=d(t,kg);return(0,m.jsx)(Eg,u(u({as:l,className:Qe(R.root,i,{entered:R.entered,exited:!p&&"0px"===P&&R.hidden}[e]),style:u({[N?"minWidth":"minHeight"]:P},w),ref:D,ownerState:u(u({},E),{},{state:e})},r),{},{children:(0,m.jsx)(Rg,{ownerState:u(u({},E),{},{state:e}),className:R.wrapper,ref:T,children:(0,m.jsx)(_g,{ownerState:u(u({},E),{},{state:e}),className:R.wrapperInner,children:a})})}))}}))});Ig&&(Ig.muiSupportAuto=!0);const Tg=Ig;function Ag(e){return ds("MuiAppBar",e)}zs("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const Pg=["className","color","enableColorOnDark","position"],Ng=(e,t)=>e?"".concat(null===e||void 0===e?void 0:e.replace(")",""),", ").concat(t,")"):t,Mg=js(Js,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(Ms(n.position))],t["color".concat(Ms(n.color))]]}})(Ks(e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:u({"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100])},t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])}))},...Object.entries(t.palette).filter(Zs(["contrastText"])).map(e=>{var n,r;let[o]=e;return{props:{color:o},style:{"--AppBar-background":(null!==(n=t.vars)&&void 0!==n?n:t).palette[o].main,"--AppBar-color":(null!==(r=t.vars)&&void 0!==r?r:t).palette[o].contrastText}}}),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:u({backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundColor:t.vars?Ng(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?Ng(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null}))},{props:{color:"transparent"},style:u({"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundImage:"none"}))}]}})),Og=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiAppBar"}),{className:r,color:o="primary",enableColorOnDark:a=!1,position:i="fixed"}=n,s=d(n,Pg),l=u(u({},n),{},{color:o,position:i,enableColorOnDark:a}),c=(e=>{const{color:t,position:n,classes:r}=e;return ps({root:["root","color".concat(Ms(t)),"position".concat(Ms(n))]},Ag,r)})(l);return(0,m.jsx)(Mg,u({square:!0,component:"header",ownerState:l,elevation:4,className:Qe(c.root,r,"fixed"===i&&"mui-fixed"),ref:t},s))}),Dg=Og,jg=Lu((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function Fg(e){return ds("MuiAvatar",e)}zs("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Lg=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Bg=js("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})(Ks(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:u({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:u({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),zg=js("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Wg=js(jg,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});const Ug=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiAvatar"}),{alt:o,children:a,className:i,component:s="div",slots:l={},slotProps:c={},imgProps:p,sizes:f,src:h,srcSet:v,variant:g="circular"}=r,y=d(r,Lg);let b=null;const x=u(u({},r),{},{component:s,variant:g}),w=function(e){let{crossOrigin:n,referrerPolicy:r,src:o,srcSet:a}=e;const[i,s]=t.useState(!1);return t.useEffect(()=>{if(!o&&!a)return;s(!1);let e=!0;const t=new Image;return t.onload=()=>{e&&s("loaded")},t.onerror=()=>{e&&s("error")},t.crossOrigin=n,t.referrerPolicy=r,t.src=o,a&&(t.srcset=a),()=>{e=!1}},[n,r,o,a]),i}(u(u(u({},p),"function"===typeof c.img?c.img(x):c.img),{},{src:h,srcSet:v})),S=h||v,C=S&&"error"!==w;x.colorDefault=!C,delete x.ownerState;const k=(e=>{const{classes:t,variant:n,colorDefault:r}=e;return ps({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Fg,t)})(x),[E,R]=xl("root",{ref:n,className:Qe(k.root,i),elementType:Bg,externalForwardedProps:u({slots:l,slotProps:c,component:s},y),ownerState:x}),[_,I]=xl("img",{className:k.img,elementType:zg,externalForwardedProps:{slots:l,slotProps:{img:u(u({},p),c.img)}},additionalProps:{alt:o,src:h,srcSet:v,sizes:f},ownerState:x}),[T,A]=xl("fallback",{className:k.fallback,elementType:Wg,externalForwardedProps:{slots:l,slotProps:c},shouldForwardComponentProp:!0,ownerState:x});return b=C?(0,m.jsx)(_,u({},I)):a||0===a?a:S&&o?o[0]:(0,m.jsx)(T,u({},A)),(0,m.jsx)(E,u(u({},R),{},{children:b}))});function Vg(e){return ds("MuiDivider",e)}const Hg=zs("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function qg(e){return ds("MuiMenuItem",e)}const Gg=zs("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),Kg=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],Xg=js(uu,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.body1),{},{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(Gg.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),["&.".concat(Gg.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}},["&.".concat(Gg.selected,":hover")]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity)}},["&.".concat(Gg.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(Gg.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(Hg.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(Hg.inset)]:{marginLeft:52},["& .".concat(ug.root)]:{marginTop:0,marginBottom:0},["& .".concat(ug.inset)]:{paddingLeft:36},["& .".concat(og.root)]:{minWidth:36},variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return!t.dense},style:{[t.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:e=>{let{ownerState:t}=e;return t.dense},style:u(u({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2),{},{["& .".concat(og.root," svg")]:{fontSize:"1.25rem"}})}]})})),$g=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:a="li",dense:i=!1,divider:s=!1,disableGutters:l=!1,focusVisibleClassName:c,role:p="menuitem",tabIndex:f,className:h}=r,v=d(r,Kg),g=t.useContext(kd),y=t.useMemo(()=>({dense:i||g.dense||!1,disableGutters:l}),[g.dense,i,l]),b=t.useRef(null);cc(()=>{o&&b.current&&b.current.focus()},[o]);const x=u(u({},r),{},{dense:y.dense,divider:s,disableGutters:l}),w=(e=>{const{disabled:t,dense:n,divider:r,disableGutters:o,selected:a,classes:i}=e,s=ps({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",r&&"divider",a&&"selected"]},qg,i);return u(u({},i),s)})(r),S=El(b,n);let C;return r.disabled||(C=void 0!==f?f:-1),(0,m.jsx)(kd.Provider,{value:y,children:(0,m.jsx)(Xg,u(u({ref:S,role:p,tabIndex:C,component:a,focusVisibleClassName:Qe(w.focusVisible,c),className:Qe(w.root,h)},v),{},{ownerState:x,classes:w}))})}),Yg=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Qg=["ownerState"];function Jg(e,t,n){var r;const o=function(e,t,n){const r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=Pd(t);let i;if(t.fakeTransform)i=t.fakeTransform;else{const e=a.getComputedStyle(t);i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let s=0,l=0;if(i&&"none"!==i&&"string"===typeof i){const e=i.split("(")[1].split(")")[0].split(",");s=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(o?o.right+s-r.left:a.innerWidth+s-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-s:r.left+r.width-s,"px)"):"up"===e?"translateY(".concat(o?o.bottom+l-r.top:a.innerHeight+l-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Zg=t.forwardRef(function(e,n){const r=qs(),o={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:i,appear:s=!0,children:l,container:c,direction:p="down",easing:f=o,in:h,onEnter:v,onEntered:g,onEntering:y,onExit:b,onExited:x,onExiting:w,style:S,timeout:C=a,TransitionComponent:k=$d}=e,E=d(e,Yg),R=t.useRef(null),_=El(xd(l),R,n),I=e=>t=>{e&&(void 0===t?e(R.current):e(R.current,t))},T=I((e,t)=>{Jg(p,e,c),Yd(e),v&&v(e,t)}),A=I((e,t)=>{const n=Qd({timeout:C,style:S,easing:f},{mode:"enter"});e.style.webkitTransition=r.transitions.create("-webkit-transform",u({},n)),e.style.transition=r.transitions.create("transform",u({},n)),e.style.webkitTransform="none",e.style.transform="none",y&&y(e,t)}),P=I(g),N=I(w),M=I(e=>{const t=Qd({timeout:C,style:S,easing:f},{mode:"exit"});e.style.webkitTransition=r.transitions.create("-webkit-transform",t),e.style.transition=r.transitions.create("transform",t),Jg(p,e,c),b&&b(e)}),O=I(e=>{e.style.webkitTransition="",e.style.transition="",x&&x(e)}),D=t.useCallback(()=>{R.current&&Jg(p,R.current,c)},[p,c]);return t.useEffect(()=>{if(h||"down"===p||"right"===p)return;const e=Bd(()=>{R.current&&Jg(p,R.current,c)}),t=Pd(R.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[p,h,c]),t.useEffect(()=>{h||D()},[h,D]),(0,m.jsx)(k,u(u({nodeRef:R,onEnter:T,onEntered:P,onEntering:A,onExit:M,onExited:O,onExiting:N,addEndListener:e=>{i&&i(R.current,e)},appear:s,in:h,timeout:C},E),{},{children:(e,n)=>{let{ownerState:r}=n,o=d(n,Qg);return t.cloneElement(l,u({ref:_,style:u(u({visibility:"exited"!==e||h?void 0:"hidden"},S),l.props.style)},o))}}))}),ey=Zg;function ty(e){return ds("MuiDrawer",e)}zs("MuiDrawer",["root","docked","paper","anchorLeft","anchorRight","anchorTop","anchorBottom","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const ny=["BackdropProps"],ry=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant","slots","slotProps"],oy=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},ay=js(Op,{name:"MuiDrawer",slot:"Root",overridesResolver:oy})(Ks(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),iy=js("div",{shouldForwardProp:Ds,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:oy})({flex:"0 0 auto"}),sy=js(Js,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(Ms(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(Ms(n.anchor))]]}})(Ks(e=>{let{theme:t}=e;return{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchor&&"temporary"!==t.variant},style:{borderRight:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchor&&"temporary"!==t.variant},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchor&&"temporary"!==t.variant},style:{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchor&&"temporary"!==t.variant},style:{borderTop:"1px solid ".concat((t.vars||t).palette.divider)}}]}})),ly={left:"right",right:"left",top:"down",bottom:"up"};const uy=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiDrawer"}),o=qs(),a=Xe(),i={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:s="left",BackdropProps:l,children:c,className:p,elevation:f=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:v}={},onClose:g,open:y=!1,PaperProps:b={},SlideProps:x,TransitionComponent:w,transitionDuration:S=i,variant:C="temporary",slots:k={},slotProps:E={}}=r,R=d(r.ModalProps,ny),_=d(r,ry),I=t.useRef(!1);t.useEffect(()=>{I.current=!0},[]);const T=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return["left","right"].includes(e)}(t)?ly[t]:t}({direction:a?"rtl":"ltr"},s),A=s,P=u(u({},r),{},{anchor:A,elevation:f,open:y,variant:C},_),N=(e=>{const{classes:t,anchor:n,variant:r}=e;return ps({root:["root","anchor".concat(Ms(n))],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(Ms(n)),"temporary"!==r&&"paperAnchorDocked".concat(Ms(n))]},ty,t)})(P),M={slots:u({transition:w},k),slotProps:u(u({paper:b,transition:x},E),{},{backdrop:jp(E.backdrop||u(u({},l),v),{transitionDuration:S})})},[O,D]=xl("root",{ref:n,elementType:ay,className:Qe(N.root,N.modal,p),shouldForwardComponentProp:!0,ownerState:P,externalForwardedProps:u(u(u({},M),_),R),additionalProps:{open:y,onClose:g,hideBackdrop:h,slots:{backdrop:M.slots.backdrop},slotProps:{backdrop:M.slotProps.backdrop}}}),[j,F]=xl("paper",{elementType:sy,shouldForwardComponentProp:!0,className:Qe(N.paper,b.className),ownerState:P,externalForwardedProps:M,additionalProps:u({elevation:"temporary"===C?f:0,square:!0},"temporary"===C&&{role:"dialog","aria-modal":"true"})}),[L,B]=xl("docked",{elementType:iy,ref:n,className:Qe(N.root,N.docked,p),ownerState:P,externalForwardedProps:M,additionalProps:_}),[z,W]=xl("transition",{elementType:ey,ownerState:P,externalForwardedProps:M,additionalProps:{in:y,direction:ly[T],timeout:S,appear:I.current}}),U=(0,m.jsx)(j,u(u({},F),{},{children:c}));if("permanent"===C)return(0,m.jsx)(L,u(u({},B),{},{children:U}));const V=(0,m.jsx)(z,u(u({},W),{},{children:U}));return"persistent"===C?(0,m.jsx)(L,u(u({},B),{},{children:V})):(0,m.jsx)(O,u(u({},D),{},{children:V}))}),cy=uy,dy=Lu((0,m.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"})),py=Lu((0,m.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"})),fy=Lu((0,m.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),hy=Lu((0,m.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"})),my=Lu((0,m.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"})),vy=[{id:"identidad-unidades",nombre:"Identidad & Unidades",icono:"people",casosUso:[{id:"cu1",nombre:"Iniciar Sesi\xf3n",ruta:"/login",componente:"Login",implementado:!0},{id:"cu2",nombre:"Cerrar Sesi\xf3n",ruta:"/logout",componente:"Logout",implementado:!0},{id:"cu3",nombre:"Gesti\xf3n de Usuarios",ruta:"/usuarios",componente:"UserList",implementado:!0},{id:"cu4",nombre:"Gesti\xf3n de Roles",ruta:"/roles",componente:"RoleList",implementado:!0},{id:"cu5",nombre:"Gesti\xf3n de Privilegios",ruta:"/privilegios",componente:"PrivilegeList",implementado:!0},{id:"cu6",nombre:"Gesti\xf3n de Unidades",ruta:"/unidades",componente:"UnidadList",implementado:!0}]},{id:"finanzas-cobranza",nombre:"Finanzas & Cobranza",icono:"attach_money",casosUso:[{id:"cu7",nombre:"Gesti\xf3n de Cuotas y Expensas",ruta:"/cuotas",componente:"CuotaList",implementado:!0},{id:"cu8",nombre:"Realizar Pago de Cuotas",ruta:"/pagos",componente:"PagoList",implementado:!1},{id:"cu9",nombre:"Ver Historial de Pagos",ruta:"/historial-pagos",componente:"HistorialPagos",implementado:!1},{id:"cu19",nombre:"Generar Reporte Financiero",ruta:"/reportes-financieros",componente:"ReportesFinancieros",implementado:!1},{id:"cu24",nombre:"Visualizar Morosidad",ruta:"/morosidad",componente:"Morosidad",implementado:!1},{id:"cu26",nombre:"Emitir QR de Pago",ruta:"/qr-pagos",componente:"QRPagos",implementado:!1}]},{id:"ia-seguridad",nombre:"IA & Seguridad",icono:"security",casosUso:[{id:"cu12",nombre:"Monitorear C\xe1maras",ruta:"/reconocimiento-facial",componente:"ReconocimientoTiempoReal",implementado:!0},{id:"cu13",nombre:"Monitor de Acceso Autom\xe1tico",ruta:"/monitor-acceso",componente:"MonitorAccesoAutomatico",implementado:!0},{id:"cu14",nombre:"Detectar Visitantes No Registrados",ruta:"/detectar-visitantes",componente:"DetectarVisitantes",implementado:!1},{id:"cu15",nombre:"Reconocer Veh\xedculos",ruta:"/reconocimiento-vehiculos",componente:"ReconocimientoVehiculos",implementado:!1},{id:"cu16",nombre:"Detecci\xf3n de Anomal\xedas",ruta:"/deteccion-anomalias",componente:"DeteccionAnomalias",implementado:!1},{id:"cu17",nombre:"Registro de Visitantes",ruta:"/registro-visitantes",componente:"RegistroVisitantes",implementado:!1},{id:"cu20",nombre:"Generar Reporte de Seguridad",ruta:"/reportes-seguridad",componente:"ReportesSeguridad",implementado:!1},{id:"cu25",nombre:"Gesti\xf3n de Invitados",ruta:"/gestion-invitados",componente:"InvitadoList",implementado:!0},{id:"cu28",nombre:"Registro de Rostros",ruta:"/registro-rostros",componente:"RegistroRostro",implementado:!0},{id:"cu29",nombre:"Gesti\xf3n de Rostros",ruta:"/gestion-rostros",componente:"GestionRostros",implementado:!0},{id:"cu30",nombre:"Panel de Monitoreo",ruta:"/panel-monitoreo",componente:"PanelMonitoreo",implementado:!0}]},{id:"operaciones-notificaciones",nombre:"Operaciones & Notificaciones",icono:"notifications",casosUso:[{id:"cu10",nombre:"Gesti\xf3n de Avisos",ruta:"/avisos",componente:"Avisos",implementado:!0},{id:"cu18",nombre:"Asignaci\xf3n de Tareas de Mantenimiento",ruta:"/tareas-mantenimiento",componente:"TareasMantenimiento",implementado:!1},{id:"cu22",nombre:"Generar Reporte de Mantenimiento",ruta:"/reportes-mantenimiento",componente:"ReportesMantenimiento",implementado:!1},{id:"cu23",nombre:"Enviar Notificaciones",ruta:"/notificaciones",componente:"Notificaciones",implementado:!1},{id:"cu27",nombre:"Registrar Bitacora",ruta:"/bitacora",componente:"Configuracion",implementado:!0},{id:"cu11",nombre:"Gesti\xf3n de \xc1reas Comunes",ruta:"/areas-comunes",componente:"AreasComunes",implementado:!0},{id:"cu21",nombre:"Generar Reporte de Uso de \xc1reas",ruta:"/reportes-areas",componente:"ReportesAreas",implementado:!1}]}],gy=280,yy=e=>{var n,r,o;let{children:a}=e;const[i,s]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[d,p]=(0,t.useState)({}),f=Qa(),h=Xa(),{currentUser:v,logout:g}=Mv(),y=()=>{s(!i)},b=()=>{c(null)},x=e=>{f(e),window.innerWidth<600&&s(!1)},w=(e=>{for(const t of vy)if(t.casosUso.some(t=>t.ruta===e))return t;return null})(h.pathname),S=(0,m.jsxs)("div",{children:[(0,m.jsx)(zv,{children:(0,m.jsx)(ul,{variant:"h6",noWrap:!0,component:"div",children:"Smart Condo"})}),(0,m.jsxs)(Id,{children:[(0,m.jsx)(Zv,{disablePadding:!0,children:(0,m.jsxs)(ng,{selected:"/dashboard"===h.pathname,onClick:()=>x("/dashboard"),children:[(0,m.jsx)(sg,{children:(0,m.jsx)(dy,{})}),(0,m.jsx)(pg,{primary:"Dashboard"})]})}),vy.map(e=>{const n=e.casosUso.filter(e=>e.implementado),r=d[e.id]||!1,o=e.casosUso.some(e=>e.ruta===h.pathname);return(0,m.jsxs)(t.Fragment,{children:[(0,m.jsx)(Zv,{disablePadding:!0,children:(0,m.jsxs)(ng,{onClick:()=>{return t=e.id,void p(e=>u(u({},e),{},{[t]:!e[t]}));var t},selected:o,children:[(0,m.jsx)(sg,{children:(e.icono,(0,m.jsx)(dy,{}))}),(0,m.jsx)(pg,{primary:(0,m.jsxs)(Hs,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(ul,{variant:"body2",sx:{flexGrow:1},children:e.nombre}),(0,m.jsx)(wg,{label:n.length,size:"small",color:n.length===e.casosUso.length?"success":"primary"})]})}),r?(0,m.jsx)(py,{}):(0,m.jsx)(fy,{})]})}),(0,m.jsx)(Tg,{in:r,timeout:"auto",unmountOnExit:!0,children:(0,m.jsx)(Id,{component:"div",disablePadding:!0,children:e.casosUso.map(e=>(0,m.jsx)(ng,{sx:{pl:4},selected:h.pathname===e.ruta,onClick:()=>x(e.ruta),disabled:!e.implementado,children:(0,m.jsx)(pg,{primary:(0,m.jsxs)(ul,{variant:"body2",sx:{opacity:e.implementado?1:.5,fontStyle:e.implementado?"normal":"italic"},children:[e.nombre,!e.implementado&&" (Pr\xf3ximamente)"]})})},e.id))})})]},e.id)})]})]});return(0,m.jsxs)(Hs,{sx:{display:"flex"},children:[(0,m.jsx)(Go,{}),(0,m.jsx)(Dg,{position:"fixed",sx:{width:{sm:"calc(100% - ".concat(gy,"px)")},ml:{sm:"".concat(gy,"px")}},children:(0,m.jsxs)(zv,{children:[(0,m.jsx)(Nu,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:y,sx:{mr:2,display:{sm:"none"}},children:(0,m.jsx)(hy,{})}),(0,m.jsx)(ul,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1},children:w?"".concat(w.nombre," - ").concat((null===(n=w.casosUso.find(e=>e.ruta===h.pathname))||void 0===n?void 0:n.nombre)||""):"Smart Condominium"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(Nu,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:e=>{c(e.currentTarget)},color:"inherit",children:(0,m.jsxs)(Ug,{sx:{width:32,height:32},children:[null===v||void 0===v||null===(r=v.first_name)||void 0===r?void 0:r[0],null===v||void 0===v||null===(o=v.last_name)||void 0===o?void 0:o[0]]})}),(0,m.jsxs)(tf,{id:"menu-appbar",anchorEl:l,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(l),onClose:b,children:[(0,m.jsx)($g,{onClick:b,children:"Perfil"}),(0,m.jsxs)($g,{onClick:()=>{b(),g(),f("/login")},children:[(0,m.jsx)(sg,{children:(0,m.jsx)(my,{fontSize:"small"})}),"Cerrar Sesi\xf3n"]})]})]})]})}),(0,m.jsxs)(Hs,{component:"nav",sx:{width:{sm:gy},flexShrink:{sm:0}},children:[(0,m.jsx)(cy,{variant:"temporary",open:i,onClose:y,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:gy}},children:S}),(0,m.jsx)(cy,{variant:"permanent",sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:gy}},open:!0,children:S})]}),(0,m.jsxs)(Hs,{component:"main",sx:{flexGrow:1,p:3,width:{sm:"calc(100% - ".concat(gy,"px)")}},children:[(0,m.jsx)(zv,{}),a]})]})},by=Lu((0,m.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5s-3 1.34-3 3 1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"})),xy=Lu((0,m.jsx)("path",{d:"M11.8 10.9c-2.27-.59-3-1.2-3-2.15 0-1.09 1.01-1.85 2.7-1.85 1.78 0 2.44.85 2.5 2.1h2.21c-.07-1.72-1.12-3.3-3.21-3.81V3h-3v2.16c-1.94.42-3.5 1.68-3.5 3.61 0 2.31 1.91 3.46 4.7 4.13 2.5.6 3 1.48 3 2.41 0 .69-.49 1.79-2.7 1.79-2.06 0-2.87-.92-2.98-2.1h-2.2c.12 2.19 1.76 3.42 3.68 3.83V21h3v-2.15c1.95-.37 3.5-1.5 3.5-3.55 0-2.84-2.43-3.81-4.7-4.4"})),wy=Lu((0,m.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"})),Sy=Lu((0,m.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),Cy=Lu((0,m.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})),ky=(e,t,n)=>{const r=e.keys[0];if(Array.isArray(t))t.forEach((t,r)=>{n((t,n)=>{r<=e.keys.length-1&&(0===r?Object.assign(t,n):t[e.up(e.keys[r])]=n)},t)});else if(t&&"object"===typeof t){(Object.keys(t).length>e.keys.length?e.keys:(o=e.keys,a=Object.keys(t),o.filter(e=>a.includes(e)))).forEach(o=>{if(e.keys.includes(o)){const a=t[o];void 0!==a&&n((t,n)=>{r===o?Object.assign(t,n):t[e.up(o)]=n},a)}})}else"number"!==typeof t&&"string"!==typeof t||n((e,t)=>{Object.assign(e,t)},t);var o,a};function Ey(e){return"--Grid-".concat(e,"Spacing")}function Ry(e){return"--Grid-parent-".concat(e,"Spacing")}const _y="--Grid-columns",Iy="--Grid-parent-columns",Ty=e=>{let{theme:t,ownerState:n}=e;const r={};return ky(t.breakpoints,n.size,(e,t)=>{let n={};"grow"===t&&(n={flexBasis:0,flexGrow:1,maxWidth:"100%"}),"auto"===t&&(n={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),"number"===typeof t&&(n={flexGrow:0,flexBasis:"auto",width:"calc(100% * ".concat(t," / var(").concat(Iy,") - (var(").concat(Iy,") - ").concat(t,") * (var(").concat(Ry("column"),") / var(").concat(Iy,")))")}),e(r,n)}),r},Ay=e=>{let{theme:t,ownerState:n}=e;const r={};return ky(t.breakpoints,n.offset,(e,t)=>{let n={};"auto"===t&&(n={marginLeft:"auto"}),"number"===typeof t&&(n={marginLeft:0===t?"0px":"calc(100% * ".concat(t," / var(").concat(Iy,") + var(").concat(Ry("column"),") * ").concat(t," / var(").concat(Iy,"))")}),e(r,n)}),r},Py=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={[_y]:12};return ky(t.breakpoints,n.columns,(e,t)=>{const n=null!==t&&void 0!==t?t:12;e(r,{[_y]:n,"> *":{[Iy]:n}})}),r},Ny=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return ky(t.breakpoints,n.rowSpacing,(e,n)=>{var o;const a="string"===typeof n?n:null===(o=t.spacing)||void 0===o?void 0:o.call(t,n);e(r,{[Ey("row")]:a,"> *":{[Ry("row")]:a}})}),r},My=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return ky(t.breakpoints,n.columnSpacing,(e,n)=>{var o;const a="string"===typeof n?n:null===(o=t.spacing)||void 0===o?void 0:o.call(t,n);e(r,{[Ey("column")]:a,"> *":{[Ry("column")]:a}})}),r},Oy=e=>{let{theme:t,ownerState:n}=e;if(!n.container)return{};const r={};return ky(t.breakpoints,n.direction,(e,t)=>{e(r,{flexDirection:t})}),r},Dy=e=>{let{ownerState:t}=e;return u({minWidth:0,boxSizing:"border-box"},t.container&&u(u({display:"flex",flexWrap:"wrap"},t.wrap&&"wrap"!==t.wrap&&{flexWrap:t.wrap}),{},{gap:"var(".concat(Ey("row"),") var(").concat(Ey("column"),")")}))},jy=e=>{const t=[];return Object.entries(e).forEach(e=>{let[n,r]=e;!1!==r&&void 0!==r&&t.push("grid-".concat(n,"-").concat(String(r)))}),t},Fy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xs";function n(e){return void 0!==e&&("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e&&e>0)}if(n(e))return["spacing-".concat(t,"-").concat(String(e))];if("object"===typeof e&&!Array.isArray(e)){const t=[];return Object.entries(e).forEach(e=>{let[r,o]=e;n(o)&&t.push("spacing-".concat(r,"-").concat(String(o)))}),t}return[]},Ly=e=>void 0===e?[]:"object"===typeof e?Object.entries(e).map(e=>{let[t,n]=e;return"direction-".concat(t,"-").concat(n)}):["direction-xs-".concat(String(e))];const By=["className","children","columns","container","component","direction","wrap","size","offset","spacing","rowSpacing","columnSpacing","unstable_level"],zy=Ln(),Wy=Is("div",{name:"MuiGrid",slot:"Root"});function Uy(e){return hs({props:e,name:"MuiGrid",defaultTheme:zy})}const Vy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=Wy,useThemeProps:r=Uy,useTheme:o=zn,componentName:a="MuiGrid"}=e;function i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0;const r={};return null===e||(Array.isArray(e)?e.forEach((e,o)=>{null!==e&&n(e)&&t.keys[o]&&(r[t.keys[o]]=e)}):"object"===typeof e?Object.keys(e).forEach(t=>{const o=e[t];null!==o&&void 0!==o&&n(o)&&(r[t]=o)}):r[t.keys[0]]=e),r}const s=n(Py,My,Ny,Ty,Oy,Dy,Ay),l=t.forwardRef(function(e,n){var l,c,p,f,h,v;const g=o(),y=Do(r(e));!function(e,t){const n=[];void 0!==e.item&&(delete e.item,n.push("item")),void 0!==e.zeroMinWidth&&(delete e.zeroMinWidth,n.push("zeroMinWidth")),t.keys.forEach(t=>{void 0!==e[t]&&(n.push(t),delete e[t])})}(y,g.breakpoints);const{className:b,children:x,columns:w=12,container:S=!1,component:C="div",direction:k="row",wrap:E="wrap",size:R={},offset:_={},spacing:I=0,rowSpacing:T=I,columnSpacing:A=I,unstable_level:P=0}=y,N=d(y,By),M=i(R,g.breakpoints,e=>!1!==e),O=i(_,g.breakpoints),D=null!==(l=e.columns)&&void 0!==l?l:P?void 0:w,j=null!==(c=e.spacing)&&void 0!==c?c:P?void 0:I,F=null!==(p=null!==(f=e.rowSpacing)&&void 0!==f?f:e.spacing)&&void 0!==p?p:P?void 0:T,L=null!==(h=null!==(v=e.columnSpacing)&&void 0!==v?v:e.spacing)&&void 0!==h?h:P?void 0:A,B=u(u({},y),{},{level:P,columns:D,container:S,direction:k,wrap:E,spacing:j,rowSpacing:F,columnSpacing:L,size:M,offset:O}),z=((e,t)=>{const{container:n,direction:r,spacing:o,wrap:i,size:s}=e;return ps({root:["root",n&&"container","wrap"!==i&&"wrap-xs-".concat(String(i)),...Ly(r),...jy(s),...n?Fy(o,t.breakpoints.keys[0]):[]]},e=>ds(a,e),{})})(B,g);return(0,m.jsx)(s,u(u({ref:n,as:C,ownerState:B,className:Qe(z.root,b)},N),{},{children:t.Children.map(x,e=>{var n,r;return t.isValidElement(e)&&sd(e,["Grid"])&&S&&e.props.container?t.cloneElement(e,{unstable_level:null!==(n=null===(r=e.props)||void 0===r?void 0:r.unstable_level)&&void 0!==n?n:P+1}):e})}))});return l.muiName="Grid",l}({createStyledComponent:js("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.container&&t.container]}}),componentName:"MuiGrid",useThemeProps:e=>Bo({props:e,name:"MuiGrid"}),useTheme:qs});const Hy=Vy;function qy(e){return ds("MuiCard",e)}zs("MuiCard",["root"]);const Gy=["className","raised"],Ky=js(Js,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),Xy=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiCard"}),{className:r,raised:o=!1}=n,a=d(n,Gy),i=u(u({},n),{},{raised:o}),s=(e=>{const{classes:t}=e;return ps({root:["root"]},qy,t)})(i);return(0,m.jsx)(Ky,u({className:Qe(s.root,r),elevation:o?8:void 0,ref:t,ownerState:i},a))});function $y(e){return ds("MuiCardContent",e)}zs("MuiCardContent",["root"]);const Yy=["className","component"],Qy=js("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),Jy=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiCardContent"}),{className:r,component:o="div"}=n,a=d(n,Yy),i=u(u({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return ps({root:["root"]},$y,t)})(i);return(0,m.jsx)(Qy,u({as:o,className:Qe(s.root,r),ownerState:i,ref:t},a))});function Zy(e){return ds("MuiCardActions",e)}zs("MuiCardActions",["root","spacing"]);const eb=["disableSpacing","className"],tb=js("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,variants:[{props:{disableSpacing:!1},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),nb=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiCardActions"}),{disableSpacing:r=!1,className:o}=n,a=d(n,eb),i=u(u({},n),{},{disableSpacing:r}),s=(e=>{const{classes:t,disableSpacing:n}=e;return ps({root:["root",!n&&"spacing"]},Zy,t)})(i);return(0,m.jsx)(tb,u({className:Qe(s.root,o),ownerState:i,ref:t},a))}),rb=Lu((0,m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"})),ob=["component","direction","spacing","divider","children","className","useFlexGap"],ab=Ln(),ib=Is("div",{name:"MuiStack",slot:"Root"});function sb(e){return hs({props:e,name:"MuiStack",defaultTheme:ab})}function lb(e,n){const r=t.Children.toArray(e).filter(Boolean);return r.reduce((e,o,a)=>(e.push(o),a<r.length-1&&e.push(t.cloneElement(n,{key:"separator-".concat(a)})),e),[])}const ub=e=>{let{ownerState:t,theme:n}=e,r=u({display:"flex",flexDirection:"column"},Mt({theme:n},jt({values:t.direction,breakpoints:n.breakpoints.values}),e=>({flexDirection:e})));if(t.spacing){const e=Qt(n),o=Object.keys(n.breakpoints.values).reduce((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e),{}),a=jt({values:t.direction,base:o}),i=jt({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach((e,t,n)=>{if(!a[e]){const r=t>0?a[n[t-1]]:"column";a[e]=r}});r=Et(r,Mt({theme:n},i,(n,r)=>{return t.useFlexGap?{gap:Jt(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((o=r?a[r]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]))]:Jt(e,n)}};var o}))}return r=function(e){const t=Ot(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const a=[t,...r].reduce((e,t)=>Et(e,t),{});return Dt(Object.keys(t),a)}(n.breakpoints,r),r};const cb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:n=ib,useThemeProps:r=sb,componentName:o="MuiStack"}=e,a=n(ub),i=t.forwardRef(function(e,t){const n=Do(r(e)),{component:i="div",direction:s="column",spacing:l=0,divider:c,children:p,className:f,useFlexGap:h=!1}=n,v=d(n,ob),g={direction:s,spacing:l,useFlexGap:h},y=ps({root:["root"]},e=>ds(o,e),{});return(0,m.jsx)(a,u(u({as:i,ownerState:g,ref:t,className:Qe(y.root,f)},v),{},{children:c?lb(p,c):p}))});return i}({createStyledComponent:js("div",{name:"MuiStack",slot:"Root"}),useThemeProps:e=>Bo({props:e,name:"MuiStack"})}),db=cb,pb=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],fb=js("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(Ks(e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.alpha((t.vars||t).palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}})),hb=js("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(Ks(e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}})),mb=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiDivider"}),{absolute:r=!1,children:o,className:a,orientation:i="horizontal",component:s=(o||"vertical"===i?"div":"hr"),flexItem:l=!1,light:c=!1,role:p=("hr"!==s?"separator":void 0),textAlign:f="center",variant:h="fullWidth"}=n,v=d(n,pb),g=u(u({},n),{},{absolute:r,component:s,flexItem:l,light:c,orientation:i,role:p,textAlign:f,variant:h}),y=(e=>{const{absolute:t,children:n,classes:r,flexItem:o,light:a,orientation:i,textAlign:s,variant:l}=e;return ps({root:["root",t&&"absolute",l,a&&"light","vertical"===i&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===i&&"withChildrenVertical","right"===s&&"vertical"!==i&&"textAlignRight","left"===s&&"vertical"!==i&&"textAlignLeft"],wrapper:["wrapper","vertical"===i&&"wrapperVertical"]},Vg,r)})(g);return(0,m.jsx)(fb,u(u({as:s,className:Qe(y.root,a),role:p,ref:t,ownerState:g,"aria-orientation":"separator"!==p||"hr"===s&&"vertical"!==i?void 0:i},v),{},{children:o?(0,m.jsx)(hb,{className:y.wrapper,ownerState:g,children:o}):null}))});mb&&(mb.muiSkipListHighlight=!0);const vb=mb;function gb(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function yb(e){return parseFloat(e)}function bb(e){return ds("MuiSkeleton",e)}zs("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const xb=["animation","className","component","height","style","variant","width"];var wb,Sb,Cb,kb;const Eb=xt(wb||(wb=Pl(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"]))),Rb=xt(Sb||(Sb=Pl(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"]))),_b="string"!==typeof Eb?bt(Cb||(Cb=Pl(["\n        animation: "," 2s ease-in-out 0.5s infinite;\n      "])),Eb):null,Ib="string"!==typeof Rb?bt(kb||(kb=Pl(["\n        &::after {\n          animation: "," 2s linear 0.5s infinite;\n        }\n      "])),Rb):null,Tb=js("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!1!==n.animation&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(Ks(e=>{let{theme:t}=e;const n=gb(t.shape.borderRadius)||"px",r=yb(t.shape.borderRadius);return{display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:t.alpha(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em",variants:[{props:{variant:"text"},style:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(r).concat(n,"/").concat(Math.round(r/.6*10)/10).concat(n),"&:empty:before":{content:'"\\00a0"'}}},{props:{variant:"circular"},style:{borderRadius:"50%"}},{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:e=>{let{ownerState:t}=e;return t.hasChildren},style:{"& > *":{visibility:"hidden"}}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.width},style:{maxWidth:"fit-content"}},{props:e=>{let{ownerState:t}=e;return t.hasChildren&&!t.height},style:{height:"auto"}},{props:{animation:"pulse"},style:_b||{animation:"".concat(Eb," 2s ease-in-out 0.5s infinite")}},{props:{animation:"wave"},style:{position:"relative",overflow:"hidden",WebkitMaskImage:"-webkit-radial-gradient(white, black)","&::after":{background:"linear-gradient(\n                90deg,\n                transparent,\n                ".concat((t.vars||t).palette.action.hover,",\n                transparent\n              )"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}}},{props:{animation:"wave"},style:Ib||{"&::after":{animation:"".concat(Rb," 2s linear 0.5s infinite")}}}]}})),Ab=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiSkeleton"}),{animation:r="pulse",className:o,component:a="span",height:i,style:s,variant:l="text",width:c}=n,p=d(n,xb),f=u(u({},n),{},{animation:r,component:a,variant:l,hasChildren:Boolean(p.children)}),h=(e=>{const{classes:t,variant:n,animation:r,hasChildren:o,width:a,height:i}=e;return ps({root:["root",n,r,o&&"withChildren",o&&!a&&"fitContent",o&&!i&&"heightAuto"]},bb,t)})(f);return(0,m.jsx)(Tb,u(u({as:a,ref:t,className:Qe(h.root,o),ownerState:f},p),{},{style:u({width:c,height:i},s)}))}),Pb=Ab;function Nb(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Mb(e){return e instanceof Nb(e).Element||e instanceof Element}function Ob(e){return e instanceof Nb(e).HTMLElement||e instanceof HTMLElement}function Db(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Nb(e).ShadowRoot||e instanceof ShadowRoot)}var jb=Math.max,Fb=Math.min,Lb=Math.round;function Bb(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function zb(){return!/^((?!chrome|android).)*safari/i.test(Bb())}function Wb(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,a=1;t&&Ob(e)&&(o=e.offsetWidth>0&&Lb(r.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Lb(r.height)/e.offsetHeight||1);var i=(Mb(e)?Nb(e):window).visualViewport,s=!zb()&&n,l=(r.left+(s&&i?i.offsetLeft:0))/o,u=(r.top+(s&&i?i.offsetTop:0))/a,c=r.width/o,d=r.height/a;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Ub(e){var t=Nb(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Vb(e){return e?(e.nodeName||"").toLowerCase():null}function Hb(e){return((Mb(e)?e.ownerDocument:e.document)||window.document).documentElement}function qb(e){return Wb(Hb(e)).left+Ub(e).scrollLeft}function Gb(e){return Nb(e).getComputedStyle(e)}function Kb(e){var t=Gb(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Xb(e,t,n){void 0===n&&(n=!1);var r=Ob(t),o=Ob(t)&&function(e){var t=e.getBoundingClientRect(),n=Lb(t.width)/e.offsetWidth||1,r=Lb(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=Hb(t),i=Wb(e,o,n),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Vb(t)||Kb(a))&&(s=function(e){return e!==Nb(e)&&Ob(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Ub(e);var t}(t)),Ob(t)?((l=Wb(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):a&&(l.x=qb(a))),{x:i.left+s.scrollLeft-l.x,y:i.top+s.scrollTop-l.y,width:i.width,height:i.height}}function $b(e){var t=Wb(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Yb(e){return"html"===Vb(e)?e:e.assignedSlot||e.parentNode||(Db(e)?e.host:null)||Hb(e)}function Qb(e){return["html","body","#document"].indexOf(Vb(e))>=0?e.ownerDocument.body:Ob(e)&&Kb(e)?e:Qb(Yb(e))}function Jb(e,t){var n;void 0===t&&(t=[]);var r=Qb(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),a=Nb(r),i=o?[a].concat(a.visualViewport||[],Kb(r)?r:[]):r,s=t.concat(i);return o?s:s.concat(Jb(Yb(i)))}function Zb(e){return["table","td","th"].indexOf(Vb(e))>=0}function ex(e){return Ob(e)&&"fixed"!==Gb(e).position?e.offsetParent:null}function tx(e){for(var t=Nb(e),n=ex(e);n&&Zb(n)&&"static"===Gb(n).position;)n=ex(n);return n&&("html"===Vb(n)||"body"===Vb(n)&&"static"===Gb(n).position)?t:n||function(e){var t=/firefox/i.test(Bb());if(/Trident/i.test(Bb())&&Ob(e)&&"fixed"===Gb(e).position)return null;var n=Yb(e);for(Db(n)&&(n=n.host);Ob(n)&&["html","body"].indexOf(Vb(n))<0;){var r=Gb(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var nx="top",rx="bottom",ox="right",ax="left",ix="auto",sx=[nx,rx,ox,ax],lx="start",ux="end",cx="viewport",dx="popper",px=sx.reduce(function(e,t){return e.concat([t+"-"+lx,t+"-"+ux])},[]),fx=[].concat(sx,[ix]).reduce(function(e,t){return e.concat([t,t+"-"+lx,t+"-"+ux])},[]),hx=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function mx(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach(function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}}),r.push(e)}return e.forEach(function(e){t.set(e.name,e)}),e.forEach(function(e){n.has(e.name)||o(e)}),r}function vx(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}var gx={placement:"bottom",modifiers:[],strategy:"absolute"};function yx(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(e){return!(e&&"function"===typeof e.getBoundingClientRect)})}function bx(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,a=void 0===o?gx:o;return function(e,t,n){void 0===n&&(n=a);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},gx,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},i=[],s=!1,l={state:o,setOptions:function(n){var s="function"===typeof n?n(o.options):n;u(),o.options=Object.assign({},a,o.options,s),o.scrollParents={reference:Mb(e)?Jb(e):e.contextElement?Jb(e.contextElement):[],popper:Jb(t)};var c=function(e){var t=mx(e);return hx.reduce(function(e,n){return e.concat(t.filter(function(e){return e.phase===n}))},[])}(function(e){var t=e.reduce(function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e},{});return Object.keys(t).map(function(e){return t[e]})}([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter(function(e){return e.enabled}),o.orderedModifiers.forEach(function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var s=a({state:o,name:t,instance:l,options:r}),u=function(){};i.push(s||u)}}),l.update()},forceUpdate:function(){if(!s){var e=o.elements,t=e.reference,n=e.popper;if(yx(t,n)){o.rects={reference:Xb(t,tx(n),"fixed"===o.options.strategy),popper:$b(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach(function(e){return o.modifiersData[e.name]=Object.assign({},e.data)});for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var a=o.orderedModifiers[r],i=a.fn,u=a.options,c=void 0===u?{}:u,d=a.name;"function"===typeof i&&(o=i({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:vx(function(){return new Promise(function(e){l.forceUpdate(),e(o)})}),destroy:function(){u(),s=!0}};if(!yx(e,t))return l;function u(){i.forEach(function(e){return e()}),i=[]}return l.setOptions(n).then(function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)}),l}}var xx={passive:!0};function wx(e){return e.split("-")[0]}function Sx(e){return e.split("-")[1]}function Cx(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function kx(e){var t,n=e.reference,r=e.element,o=e.placement,a=o?wx(o):null,i=o?Sx(o):null,s=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(a){case nx:t={x:s,y:n.y-r.height};break;case rx:t={x:s,y:n.y+n.height};break;case ox:t={x:n.x+n.width,y:l};break;case ax:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=a?Cx(a):null;if(null!=u){var c="y"===u?"height":"width";switch(i){case lx:t[u]=t[u]-(n[c]/2-r[c]/2);break;case ux:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}var Ex={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Rx(e){var t,n=e.popper,r=e.popperRect,o=e.placement,a=e.variation,i=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=i.x,f=void 0===p?0:p,h=i.y,m=void 0===h?0:h,v="function"===typeof c?c({x:f,y:m}):{x:f,y:m};f=v.x,m=v.y;var g=i.hasOwnProperty("x"),y=i.hasOwnProperty("y"),b=ax,x=nx,w=window;if(u){var S=tx(n),C="clientHeight",k="clientWidth";if(S===Nb(n)&&"static"!==Gb(S=Hb(n)).position&&"absolute"===s&&(C="scrollHeight",k="scrollWidth"),o===nx||(o===ax||o===ox)&&a===ux)x=rx,m-=(d&&S===w&&w.visualViewport?w.visualViewport.height:S[C])-r.height,m*=l?1:-1;if(o===ax||(o===nx||o===rx)&&a===ux)b=ox,f-=(d&&S===w&&w.visualViewport?w.visualViewport.width:S[k])-r.width,f*=l?1:-1}var E,R=Object.assign({position:s},u&&Ex),_=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Lb(n*o)/o||0,y:Lb(r*o)/o||0}}({x:f,y:m},Nb(n)):{x:f,y:m};return f=_.x,m=_.y,l?Object.assign({},R,((E={})[x]=y?"0":"",E[b]=g?"0":"",E.transform=(w.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",E)):Object.assign({},R,((t={})[x]=y?m+"px":"",t[b]=g?f+"px":"",t.transform="",t))}const _x={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach(function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},o=t.elements[e];Ob(o)&&Vb(o)&&(Object.assign(o.style,n),Object.keys(r).forEach(function(e){var t=r[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)}))})},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(e){var r=t.elements[e],o=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce(function(e,t){return e[t]="",e},{});Ob(r)&&Vb(r)&&(Object.assign(r.style,a),Object.keys(o).forEach(function(e){r.removeAttribute(e)}))})}},requires:["computeStyles"]};const Ix={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,a=void 0===o?[0,0]:o,i=fx.reduce(function(e,n){return e[n]=function(e,t,n){var r=wx(e),o=[ax,nx].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,i=a[0],s=a[1];return i=i||0,s=(s||0)*o,[ax,ox].indexOf(r)>=0?{x:s,y:i}:{x:i,y:s}}(n,t.rects,a),e},{}),s=i[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=i}};var Tx={left:"right",right:"left",bottom:"top",top:"bottom"};function Ax(e){return e.replace(/left|right|bottom|top/g,function(e){return Tx[e]})}var Px={start:"end",end:"start"};function Nx(e){return e.replace(/start|end/g,function(e){return Px[e]})}function Mx(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Db(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ox(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Dx(e,t,n){return t===cx?Ox(function(e,t){var n=Nb(e),r=Hb(e),o=n.visualViewport,a=r.clientWidth,i=r.clientHeight,s=0,l=0;if(o){a=o.width,i=o.height;var u=zb();(u||!u&&"fixed"===t)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:s+qb(e),y:l}}(e,n)):Mb(t)?function(e,t){var n=Wb(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ox(function(e){var t,n=Hb(e),r=Ub(e),o=null==(t=e.ownerDocument)?void 0:t.body,a=jb(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=jb(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+qb(e),l=-r.scrollTop;return"rtl"===Gb(o||n).direction&&(s+=jb(n.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:s,y:l}}(Hb(e)))}function jx(e,t,n,r){var o="clippingParents"===t?function(e){var t=Jb(Yb(e)),n=["absolute","fixed"].indexOf(Gb(e).position)>=0&&Ob(e)?tx(e):e;return Mb(n)?t.filter(function(e){return Mb(e)&&Mx(e,n)&&"body"!==Vb(e)}):[]}(e):[].concat(t),a=[].concat(o,[n]),i=a[0],s=a.reduce(function(t,n){var o=Dx(e,n,r);return t.top=jb(o.top,t.top),t.right=Fb(o.right,t.right),t.bottom=Fb(o.bottom,t.bottom),t.left=jb(o.left,t.left),t},Dx(e,i,r));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fx(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Lx(e,t){return t.reduce(function(t,n){return t[n]=e,t},{})}function Bx(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,a=n.strategy,i=void 0===a?e.strategy:a,s=n.boundary,l=void 0===s?"clippingParents":s,u=n.rootBoundary,c=void 0===u?cx:u,d=n.elementContext,p=void 0===d?dx:d,f=n.altBoundary,h=void 0!==f&&f,m=n.padding,v=void 0===m?0:m,g=Fx("number"!==typeof v?v:Lx(v,sx)),y=p===dx?"reference":dx,b=e.rects.popper,x=e.elements[h?y:p],w=jx(Mb(x)?x:x.contextElement||Hb(e.elements.popper),l,c,i),S=Wb(e.elements.reference),C=kx({reference:S,element:b,strategy:"absolute",placement:o}),k=Ox(Object.assign({},b,C)),E=p===dx?k:S,R={top:w.top-E.top+g.top,bottom:E.bottom-w.bottom+g.bottom,left:w.left-E.left+g.left,right:E.right-w.right+g.right},_=e.modifiersData.offset;if(p===dx&&_){var I=_[o];Object.keys(R).forEach(function(e){var t=[ox,rx].indexOf(e)>=0?1:-1,n=[nx,rx].indexOf(e)>=0?"y":"x";R[e]+=I[n]*t})}return R}const zx={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0===i||i,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,p=n.altBoundary,f=n.flipVariations,h=void 0===f||f,m=n.allowedAutoPlacements,v=t.options.placement,g=wx(v),y=l||(g===v||!h?[Ax(v)]:function(e){if(wx(e)===ix)return[];var t=Ax(e);return[Nx(e),t,Nx(t)]}(v)),b=[v].concat(y).reduce(function(e,n){return e.concat(wx(n)===ix?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,a=n.rootBoundary,i=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?fx:l,c=Sx(r),d=c?s?px:px.filter(function(e){return Sx(e)===c}):sx,p=d.filter(function(e){return u.indexOf(e)>=0});0===p.length&&(p=d);var f=p.reduce(function(t,n){return t[n]=Bx(e,{placement:n,boundary:o,rootBoundary:a,padding:i})[wx(n)],t},{});return Object.keys(f).sort(function(e,t){return f[e]-f[t]})}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)},[]),x=t.rects.reference,w=t.rects.popper,S=new Map,C=!0,k=b[0],E=0;E<b.length;E++){var R=b[E],_=wx(R),I=Sx(R)===lx,T=[nx,rx].indexOf(_)>=0,A=T?"width":"height",P=Bx(t,{placement:R,boundary:c,rootBoundary:d,altBoundary:p,padding:u}),N=T?I?ox:ax:I?rx:nx;x[A]>w[A]&&(N=Ax(N));var M=Ax(N),O=[];if(a&&O.push(P[_]<=0),s&&O.push(P[N]<=0,P[M]<=0),O.every(function(e){return e})){k=R,C=!1;break}S.set(R,O)}if(C)for(var D=function(e){var t=b.find(function(t){var n=S.get(t);if(n)return n.slice(0,e).every(function(e){return e})});if(t)return k=t,"break"},j=h?3:1;j>0;j--){if("break"===D(j))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Wx(e,t,n){return jb(e,Fb(t,n))}const Ux={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,a=void 0===o||o,i=n.altAxis,s=void 0!==i&&i,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,p=n.tether,f=void 0===p||p,h=n.tetherOffset,m=void 0===h?0:h,v=Bx(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),g=wx(t.placement),y=Sx(t.placement),b=!y,x=Cx(g),w="x"===x?"y":"x",S=t.modifiersData.popperOffsets,C=t.rects.reference,k=t.rects.popper,E="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,R="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),_=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(S){if(a){var T,A="y"===x?nx:ax,P="y"===x?rx:ox,N="y"===x?"height":"width",M=S[x],O=M+v[A],D=M-v[P],j=f?-k[N]/2:0,F=y===lx?C[N]:k[N],L=y===lx?-k[N]:-C[N],B=t.elements.arrow,z=f&&B?$b(B):{width:0,height:0},W=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},U=W[A],V=W[P],H=Wx(0,C[N],z[N]),q=b?C[N]/2-j-H-U-R.mainAxis:F-H-U-R.mainAxis,G=b?-C[N]/2+j+H+V+R.mainAxis:L+H+V+R.mainAxis,K=t.elements.arrow&&tx(t.elements.arrow),X=K?"y"===x?K.clientTop||0:K.clientLeft||0:0,$=null!=(T=null==_?void 0:_[x])?T:0,Y=M+G-$,Q=Wx(f?Fb(O,M+q-$-X):O,M,f?jb(D,Y):D);S[x]=Q,I[x]=Q-M}if(s){var J,Z="x"===x?nx:ax,ee="x"===x?rx:ox,te=S[w],ne="y"===w?"height":"width",re=te+v[Z],oe=te-v[ee],ae=-1!==[nx,ax].indexOf(g),ie=null!=(J=null==_?void 0:_[w])?J:0,se=ae?re:te-C[ne]-k[ne]-ie+R.altAxis,le=ae?te+C[ne]+k[ne]-ie-R.altAxis:oe,ue=f&&ae?function(e,t,n){var r=Wx(e,t,n);return r>n?n:r}(se,te,le):Wx(f?se:re,te,f?le:oe);S[w]=ue,I[w]=ue-te}t.modifiersData[r]=I}},requiresIfExists:["offset"]};const Vx={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,a=n.elements.arrow,i=n.modifiersData.popperOffsets,s=wx(n.placement),l=Cx(s),u=[ax,ox].indexOf(s)>=0?"height":"width";if(a&&i){var c=function(e,t){return Fx("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Lx(e,sx))}(o.padding,n),d=$b(a),p="y"===l?nx:ax,f="y"===l?rx:ox,h=n.rects.reference[u]+n.rects.reference[l]-i[l]-n.rects.popper[u],m=i[l]-n.rects.reference[l],v=tx(a),g=v?"y"===l?v.clientHeight||0:v.clientWidth||0:0,y=h/2-m/2,b=c[p],x=g-d[u]-c[f],w=g/2-d[u]/2+y,S=Wx(b,w,x),C=l;n.modifiersData[r]=((t={})[C]=S,t.centerOffset=S-w,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Mx(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Hx(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function qx(e){return[nx,ox,rx,ax].some(function(t){return e[t]>=0})}var Gx=bx({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,a=void 0===o||o,i=r.resize,s=void 0===i||i,l=Nb(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(e){e.addEventListener("scroll",n.update,xx)}),s&&l.addEventListener("resize",n.update,xx),function(){a&&u.forEach(function(e){e.removeEventListener("scroll",n.update,xx)}),s&&l.removeEventListener("resize",n.update,xx)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=kx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,a=n.adaptive,i=void 0===a||a,s=n.roundOffsets,l=void 0===s||s,u={placement:wx(t.placement),variation:Sx(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Rx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Rx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},_x,Ix,zx,Ux,Vx,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,a=t.modifiersData.preventOverflow,i=Bx(t,{elementContext:"reference"}),s=Bx(t,{altBoundary:!0}),l=Hx(i,r),u=Hx(s,o,a),c=qx(l),d=qx(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]});function Kx(e){return ds("MuiPopper",e)}zs("MuiPopper",["root"]);const Xx=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],$x=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Yx(e){return"function"===typeof e?e():e}function Qx(e){return void 0!==e.nodeType}const Jx={},Zx=t.forwardRef(function(e,n){var r;const{anchorEl:o,children:a,direction:i,disablePortal:s,modifiers:l,open:c,placement:p,popperOptions:f,popperRef:h,slotProps:v={},slots:g={},TransitionProps:y,ownerState:b}=e,x=d(e,Xx),w=t.useRef(null),S=cl(w,n),C=t.useRef(null),k=cl(C,h),E=t.useRef(k);nt(()=>{E.current=k},[k]),t.useImperativeHandle(h,()=>C.current,[]);const R=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(p,i),[_,I]=t.useState(R),[T,A]=t.useState(Yx(o));t.useEffect(()=>{C.current&&C.current.forceUpdate()}),t.useEffect(()=>{o&&A(Yx(o))},[o]),nt(()=>{if(!T||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:s}},{name:"flip",options:{altBoundary:s}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{I(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),f&&null!=f.modifiers&&(e=e.concat(f.modifiers));const t=Gx(T,w.current,u(u({placement:R},f),{},{modifiers:e}));return E.current(t),()=>{t.destroy(),E.current(null)}},[T,s,l,c,f,R]);const P={placement:_};null!==y&&(P.TransitionProps=y);const N=(e=>{const{classes:t}=e;return ps({root:["root"]},Kx,t)})(e),M=null!==(r=g.root)&&void 0!==r?r:"div",O=Cd({elementType:M,externalSlotProps:v.root,externalForwardedProps:x,additionalProps:{role:"tooltip",ref:S},ownerState:e,className:N.root});return(0,m.jsx)(M,u(u({},O),{},{children:"function"===typeof a?a(P):a}))}),ew=t.forwardRef(function(e,n){const{anchorEl:r,children:o,container:a,direction:i="ltr",disablePortal:s=!1,keepMounted:l=!1,modifiers:c,open:p,placement:f="bottom",popperOptions:h=Jx,popperRef:v,style:g,transition:y=!1,slotProps:b={},slots:x={}}=e,w=d(e,$x),[S,C]=t.useState(!0);if(!l&&!p&&(!y||S))return null;let k;if(a)k=a;else if(r){const e=Yx(r);k=e&&Qx(e)?Zu(e).body:Zu(null).body}const E=p||!l||y&&!S?void 0:"none",R=y?{in:p,onEnter:()=>{C(!1)},onExited:()=>{C(!0)}}:void 0;return(0,m.jsx)(cp,{disablePortal:s,container:k,children:(0,m.jsx)(Zx,u(u({anchorEl:r,direction:i,disablePortal:s,modifiers:c,ref:n,open:y?!S:p,placement:f,popperOptions:h,popperRef:v,slotProps:b,slots:x},w),{},{style:u({position:"fixed",top:0,left:0,display:E},g),TransitionProps:R,children:o}))})}),tw=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],nw=js(ew,{name:"MuiPopper",slot:"Root"})({}),rw=t.forwardRef(function(e,t){var n;const r=Xe(),o=Bo({props:e,name:"MuiPopper"}),{anchorEl:a,component:i,components:s,componentsProps:l,container:c,disablePortal:p,keepMounted:f,modifiers:h,open:v,placement:g,popperOptions:y,popperRef:b,transition:x,slots:w,slotProps:S}=o,C=d(o,tw),k=null!==(n=null===w||void 0===w?void 0:w.root)&&void 0!==n?n:null===s||void 0===s?void 0:s.Root,E=u({anchorEl:a,container:c,disablePortal:p,keepMounted:f,modifiers:h,open:v,placement:g,popperOptions:y,popperRef:b,transition:x},C);return(0,m.jsx)(nw,u(u({as:i,direction:r?"rtl":"ltr",slots:{root:k},slotProps:null!==S&&void 0!==S?S:l},E),{},{ref:t}))});function ow(e){return ds("MuiTooltip",e)}const aw=zs("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),iw=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const sw=js(rw,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})(Ks(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableInteractive},style:{pointerEvents:"auto"}},{props:e=>{let{open:t}=e;return!t},style:{pointerEvents:"none"}},{props:e=>{let{ownerState:t}=e;return t.arrow},style:{['&[data-popper-placement*="bottom"] .'.concat(aw.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(aw.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(aw.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},['&[data-popper-placement*="left"] .'.concat(aw.arrow)]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(aw.arrow)]:{left:0,marginLeft:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="right"] .'.concat(aw.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(aw.arrow)]:{right:0,marginRight:"-0.71em"}}},{props:e=>{let{ownerState:t}=e;return t.arrow&&!!t.isRtl},style:{['&[data-popper-placement*="left"] .'.concat(aw.arrow)]:{left:0,marginLeft:"-0.71em"}}}]}})),lw=js("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat(Ms(n.placement.split("-")[0]))]]}})(Ks(e=>{let{theme:t}=e;return{backgroundColor:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium,[".".concat(aw.popper,'[data-popper-placement*="left"] &')]:{transformOrigin:"right center"},[".".concat(aw.popper,'[data-popper-placement*="right"] &')]:{transformOrigin:"left center"},[".".concat(aw.popper,'[data-popper-placement*="top"] &')]:{transformOrigin:"center bottom",marginBottom:"14px"},[".".concat(aw.popper,'[data-popper-placement*="bottom"] &')]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:e=>{let{ownerState:t}=e;return t.arrow},style:{position:"relative",margin:0}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:"".concat((n=16/14,Math.round(1e5*n)/1e5),"em"),fontWeight:t.typography.fontWeightRegular}},{props:e=>{let{ownerState:t}=e;return!t.isRtl},style:{[".".concat(aw.popper,'[data-popper-placement*="left"] &')]:{marginRight:"14px"},[".".concat(aw.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"14px"}}},{props:e=>{let{ownerState:t}=e;return!t.isRtl&&t.touch},style:{[".".concat(aw.popper,'[data-popper-placement*="left"] &')]:{marginRight:"24px"},[".".concat(aw.popper,'[data-popper-placement*="right"] &')]:{marginLeft:"24px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl},style:{[".".concat(aw.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"14px"},[".".concat(aw.popper,'[data-popper-placement*="right"] &')]:{marginRight:"14px"}}},{props:e=>{let{ownerState:t}=e;return!!t.isRtl&&t.touch},style:{[".".concat(aw.popper,'[data-popper-placement*="left"] &')]:{marginLeft:"24px"},[".".concat(aw.popper,'[data-popper-placement*="right"] &')]:{marginRight:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(aw.popper,'[data-popper-placement*="top"] &')]:{marginBottom:"24px"}}},{props:e=>{let{ownerState:t}=e;return t.touch},style:{[".".concat(aw.popper,'[data-popper-placement*="bottom"] &')]:{marginTop:"24px"}}}]};var n})),uw=js("span",{name:"MuiTooltip",slot:"Arrow"})(Ks(e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:t.alpha(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let cw=!1;const dw=new Ul;let pw={x:0,y:0};function fw(e,t){return function(n){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];t&&t(n,...o),e(n,...o)}}const hw=t.forwardRef(function(e,n){var r,o,a;const i=Bo({props:e,name:"MuiTooltip"}),{arrow:s=!1,children:l,classes:c,components:p={},componentsProps:f={},describeChild:h=!1,disableFocusListener:v=!1,disableHoverListener:g=!1,disableInteractive:y=!1,disableTouchListener:b=!1,enterDelay:x=100,enterNextDelay:w=0,enterTouchDelay:S=700,followCursor:C=!1,id:k,leaveDelay:E=0,leaveTouchDelay:R=1500,onClose:_,onOpen:I,open:T,placement:A="bottom",PopperComponent:P,PopperProps:N={},slotProps:M={},slots:O={},title:D,TransitionComponent:j,TransitionProps:F}=i,L=d(i,iw),B=t.isValidElement(l)?l:(0,m.jsx)("span",{children:l}),z=qs(),W=Xe(),[U,V]=t.useState(),[H,q]=t.useState(null),G=t.useRef(!1),K=y||C,X=Vl(),$=Vl(),Y=Vl(),Q=Vl(),[J,Z]=pf({controlled:T,default:!1,name:"Tooltip",state:"open"});let ee=J;const te=Cl(k),ne=t.useRef(),re=_l(()=>{void 0!==ne.current&&(document.body.style.WebkitUserSelect=ne.current,ne.current=void 0),Q.clear()});t.useEffect(()=>re,[re]);const oe=e=>{dw.clear(),cw=!0,Z(!0),I&&!ee&&I(e)},ae=_l(e=>{dw.start(800+E,()=>{cw=!1}),Z(!1),_&&ee&&_(e),X.start(z.transitions.duration.shortest,()=>{G.current=!1})}),ie=e=>{G.current&&"touchstart"!==e.type||(U&&U.removeAttribute("title"),$.clear(),Y.clear(),x||cw&&w?$.start(cw?w:x,()=>{oe(e)}):oe(e))},se=e=>{$.clear(),Y.start(E,()=>{ae(e)})},[,le]=t.useState(!1),ue=e=>{kl(e.target)||(le(!1),se(e))},ce=e=>{U||V(e.currentTarget),kl(e.target)&&(le(!0),ie(e))},de=e=>{G.current=!0;const t=B.props;t.onTouchStart&&t.onTouchStart(e)},pe=e=>{de(e),Y.clear(),X.clear(),re(),ne.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",Q.start(S,()=>{document.body.style.WebkitUserSelect=ne.current,ie(e)})},fe=e=>{B.props.onTouchEnd&&B.props.onTouchEnd(e),re(),Y.start(R,()=>{ae(e)})};t.useEffect(()=>{if(ee)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"===e.key&&ae(e)}},[ae,ee]);const he=El(xd(B),V,n);D||0===D||(ee=!1);const me=t.useRef(),ve={},ge="string"===typeof D;h?(ve.title=ee||!ge||g?null:D,ve["aria-describedby"]=ee?te:null):(ve["aria-label"]=ge?D:null,ve["aria-labelledby"]=ee&&!ge?te:null);const ye=u(u(u(u({},ve),L),B.props),{},{className:Qe(L.className,B.props.className),onTouchStart:de,ref:he},C?{onMouseMove:e=>{const t=B.props;t.onMouseMove&&t.onMouseMove(e),pw={x:e.clientX,y:e.clientY},me.current&&me.current.update()}}:{});const be={};b||(ye.onTouchStart=pe,ye.onTouchEnd=fe),g||(ye.onMouseOver=fw(ie,ye.onMouseOver),ye.onMouseLeave=fw(se,ye.onMouseLeave),K||(be.onMouseOver=ie,be.onMouseLeave=se)),v||(ye.onFocus=fw(ce,ye.onFocus),ye.onBlur=fw(ue,ye.onBlur),K||(be.onFocus=ce,be.onBlur=ue));const xe=u(u({},i),{},{isRtl:W,arrow:s,disableInteractive:K,placement:A,PopperComponentProp:P,touch:G.current}),we="function"===typeof M.popper?M.popper(xe):M.popper,Se=t.useMemo(()=>{var e,t;let n=[{name:"arrow",enabled:Boolean(H),options:{element:H,padding:4}}];return null!==(e=N.popperOptions)&&void 0!==e&&e.modifiers&&(n=n.concat(N.popperOptions.modifiers)),null!==we&&void 0!==we&&null!==(t=we.popperOptions)&&void 0!==t&&t.modifiers&&(n=n.concat(we.popperOptions.modifiers)),u(u(u({},N.popperOptions),null===we||void 0===we?void 0:we.popperOptions),{},{modifiers:n})},[H,N.popperOptions,null===we||void 0===we?void 0:we.popperOptions]),Ce=(e=>{const{classes:t,disableInteractive:n,arrow:r,touch:o,placement:a}=e;return ps({popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",o&&"touch","tooltipPlacement".concat(Ms(a.split("-")[0]))],arrow:["arrow"]},ow,t)})(xe),ke="function"===typeof M.transition?M.transition(xe):M.transition,Ee={slots:u({popper:p.Popper,transition:null!==(r=p.Transition)&&void 0!==r?r:j,tooltip:p.Tooltip,arrow:p.Arrow},O),slotProps:{arrow:null!==(o=M.arrow)&&void 0!==o?o:f.arrow,popper:u(u({},N),null!==we&&void 0!==we?we:f.popper),tooltip:null!==(a=M.tooltip)&&void 0!==a?a:f.tooltip,transition:u(u({},F),null!==ke&&void 0!==ke?ke:f.transition)}},[Re,_e]=xl("popper",{elementType:sw,externalForwardedProps:Ee,ownerState:xe,className:Qe(Ce.popper,null===N||void 0===N?void 0:N.className)}),[Ie,Te]=xl("transition",{elementType:op,externalForwardedProps:Ee,ownerState:xe}),[Ae,Pe]=xl("tooltip",{elementType:lw,className:Ce.tooltip,externalForwardedProps:Ee,ownerState:xe}),[Ne,Me]=xl("arrow",{elementType:uw,className:Ce.arrow,externalForwardedProps:Ee,ownerState:xe,ref:q});return(0,m.jsxs)(t.Fragment,{children:[t.cloneElement(B,ye),(0,m.jsx)(Re,u(u(u({as:null!==P&&void 0!==P?P:rw,placement:A,anchorEl:C?{getBoundingClientRect:()=>({top:pw.y,left:pw.x,right:pw.x,bottom:pw.y,width:0,height:0})}:U,popperRef:me,open:!!U&&ee,id:te,transition:!0},be),_e),{},{popperOptions:Se,children:e=>{let{TransitionProps:t}=e;return(0,m.jsx)(Ie,u(u(u({timeout:z.transitions.duration.shorter},t),Te),{},{children:(0,m.jsxs)(Ae,u(u({},Pe),{},{children:[D,s?(0,m.jsx)(Ne,u({},Me)):null]}))}))}}))]})}),mw=hw,vw="/avisos",gw="/avisos-adjuntos",yw={list:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Iv.get(vw+"/",{params:e})},get:e=>Iv.get("".concat(vw,"/").concat(e,"/")),create:e=>Iv.post(vw+"/",e),update:(e,t)=>Iv.put("".concat(vw,"/").concat(e,"/"),t),remove:e=>Iv.delete("".concat(vw,"/").concat(e,"/")),publicar:e=>Iv.post("".concat(vw,"/").concat(e,"/publicar/")),archivar:e=>Iv.post("".concat(vw,"/").concat(e,"/archivar/")),aprobar:e=>Iv.post("".concat(vw,"/").concat(e,"/aprobar/")),rechazar:e=>Iv.post("".concat(vw,"/").concat(e,"/rechazar/")),enviarAprobacion:e=>Iv.post("".concat(vw,"/").concat(e,"/enviar_aprobacion/")),uploadAdjunto:(e,t)=>{const n=new FormData;return n.append("aviso",e),n.append("archivo",t),Iv.post("".concat(gw,"/"),n,{headers:{"Content-Type":"multipart/form-data"}})},deleteAdjunto:e=>Iv.delete("".concat(gw,"/").concat(e,"/"))},bw=e=>{switch(e){case"PUBLICADO":return"success";case"PENDIENTE":return"warning";case"ARCHIVADO":return"default";case"RECHAZADO":return"error";default:return"info"}},xw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:48;if(!e)return!1;const n=new Date(e).getTime();return Date.now()-n<3600*t*1e3};function ww(e){let{maxItems:n=5}=e;const[r,o]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[s,l]=(0,t.useState)(""),u=Qa();return(0,t.useEffect)(()=>{let e=!0;return(async()=>{try{i(!0);const{data:t}=await yw.list({vigentes:1});if(!e)return;o(Array.isArray(t)?t.slice(0,n):[])}catch(Gk){console.error(Gk),e&&l("No se pudieron cargar los avisos.")}finally{e&&i(!1)}})(),()=>{e=!1}},[n]),(0,m.jsx)(Xy,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,m.jsxs)(Jy,{sx:{pb:1},children:[(0,m.jsxs)(db,{direction:"row",alignItems:"center",justifyContent:"space-between",spacing:1,children:[(0,m.jsx)(ul,{variant:"h6",sx:{m:0},children:"Avisos"}),(0,m.jsx)(Qf,{size:"small",onClick:()=>u("/avisos"),children:"Ver todos"})]}),(0,m.jsx)(vb,{sx:{my:1}}),a?(0,m.jsx)(db,{spacing:1,children:[...Array(3)].map((e,t)=>(0,m.jsxs)(db,{direction:"row",spacing:1,alignItems:"center",children:[(0,m.jsx)(Pb,{variant:"rounded",width:64,height:24}),(0,m.jsx)(Pb,{variant:"text",sx:{flex:1}}),(0,m.jsx)(Pb,{variant:"text",width:120})]},t))}):s?(0,m.jsx)(ul,{variant:"body2",color:"error",children:s}):0===r.length?(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"No hay avisos vigentes."}):(0,m.jsx)(db,{spacing:1,children:r.map(e=>(0,m.jsxs)(db,{direction:{xs:"column",sm:"row"},spacing:1,alignItems:{xs:"flex-start",sm:"center"},sx:{border:"1px solid #eee",p:1,borderRadius:1,cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,0.02)"}},onClick:()=>u("/avisos"),children:[(0,m.jsx)(wg,{size:"small",label:e.estado,color:bw(e.estado)}),(0,m.jsx)(ul,{variant:"body2",sx:{flex:1},noWrap:!0,title:e.titulo,children:e.titulo}),(0,m.jsx)(ul,{variant:"caption",color:"text.secondary",sx:{minWidth:120,textAlign:{sm:"right"}},children:e.vence_en?new Date(e.vence_en).toLocaleString():""}),xw(e.fecha_publicacion||e.creado_en)&&(0,m.jsx)(mw,{title:"Reciente",children:(0,m.jsx)(Nu,{size:"small",children:(0,m.jsx)(rb,{fontSize:"inherit"})})})]},e.id))})]})})}const Sw=()=>{const e=Qa(),t={people:(0,m.jsx)(by,{sx:{fontSize:40}}),attach_money:(0,m.jsx)(xy,{sx:{fontSize:40}}),security:(0,m.jsx)(wy,{sx:{fontSize:40}}),notifications:(0,m.jsx)(Sy,{sx:{fontSize:40}})},n=e=>e.casosUso.filter(e=>e.implementado).length;return(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Dashboard - Smart Condominium"}),(0,m.jsx)(ul,{variant:"subtitle1",gutterBottom:!0,sx:{mb:4},children:"Sistema integral de gesti\xf3n de condominios"}),(0,m.jsx)(Hy,{container:!0,spacing:3,sx:{mb:3},children:(0,m.jsx)(Hy,{item:!0,xs:12,md:4,children:(0,m.jsx)(ww,{maxItems:5})})}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:vy.map(r=>{return(0,m.jsx)(Hy,{item:!0,xs:12,md:6,children:(0,m.jsxs)(Xy,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)",boxShadow:6}},children:[(0,m.jsxs)(Jy,{sx:{flexGrow:1},children:[(0,m.jsxs)(Hs,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,m.jsx)(Hs,{sx:{color:"".concat((o=r.id,{"identidad-unidades":"primary","finanzas-cobranza":"secondary","ia-seguridad":"error","operaciones-notificaciones":"success"}[o]||"default"),".main"),mr:2},children:t[r.icono]}),(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"h5",component:"h2",children:r.nombre}),(0,m.jsx)(wg,{label:"".concat(n(r),"/").concat(r.casosUso.length," implementados"),size:"small",color:n(r)===r.casosUso.length?"success":"warning"})]})]}),(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"Casos de uso incluidos:"}),(0,m.jsx)(Hs,{sx:{maxHeight:200,overflow:"auto"},children:r.casosUso.map(e=>(0,m.jsxs)(Hs,{sx:{display:"flex",alignItems:"center",mb:1,opacity:e.implementado?1:.6},children:[(0,m.jsx)(wg,{label:e.id.toUpperCase(),size:"small",color:e.implementado?"primary":"default",variant:e.implementado?"filled":"outlined"}),(0,m.jsxs)(ul,{variant:"body2",sx:{ml:1},children:[e.nombre,!e.implementado&&" (En desarrollo)"]})]},e.id))})]}),(0,m.jsx)(nb,{children:(0,m.jsx)(Qf,{size:"small",endIcon:(0,m.jsx)(Cy,{}),onClick:()=>(t=>{const n=t.casosUso.find(e=>e.implementado);n?e(n.ruta):t.casosUso.length>0&&e(t.casosUso[0].ruta)})(r),disabled:0===n(r),children:"Acceder al Paquete"})})]})},r.id);var o})}),(0,m.jsxs)(Xy,{sx:{mt:4,p:3},children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"Resumen de Implementaci\xf3n"}),(0,m.jsx)(Hy,{container:!0,spacing:2,children:vy.map(e=>{const t=n(e),r=e.casosUso.length,o=Math.round(t/r*100);return(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"body2",gutterBottom:!0,children:e.nombre}),(0,m.jsxs)(Hs,{sx:{display:"flex",alignItems:"center"},children:[(0,m.jsx)(Hs,{sx:{width:"100%",mr:1},children:(0,m.jsx)(Hs,{sx:{width:"".concat(o,"%"),height:8,backgroundColor:"primary.main",borderRadius:4}})}),(0,m.jsxs)(ul,{variant:"body2",color:"text.secondary",children:[o,"%"]})]})]})},e.id)})})]})]})},Cw=Lu((0,m.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),kw=Lu((0,m.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"})),Ew=Lu((0,m.jsx)("path",{d:"M3 18h6v-2H3zM3 6v2h18V6zm0 7h12v-2H3z"}));function Rw(e,n,r,o,a){const[i,s]=t.useState(()=>a&&r?r(e).matches:o?o(e).matches:n);return nt(()=>{if(!r)return;const t=r(e),n=()=>{s(t.matches)};return n(),t.addEventListener("change",n),()=>{t.removeEventListener("change",n)}},[e,r]),i}const _w=u({},r).useSyncExternalStore;function Iw(e,n,r,o,a){const i=t.useCallback(()=>n,[n]),s=t.useMemo(()=>{if(a&&r)return()=>r(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return i},[i,e,o,a,r]),[l,u]=t.useMemo(()=>{if(null===r)return[i,()=>()=>{}];const t=r(e);return[()=>t.matches,e=>(t.addEventListener("change",e),()=>{t.removeEventListener("change",e)})]},[i,r,e]);return _w(u,l,s)}function Tw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t}=e;return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=qe();r&&t&&(r=r[t]||r);const o="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:a=!1,matchMedia:i=(o?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:l=!1}=fs({name:"MuiUseMediaQuery",props:n,theme:r});let u="function"===typeof e?e(r):e;u=u.replace(/^@media( ?)/m,""),u.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join("\n"));return(void 0!==_w?Iw:Rw)(u,a,i,s,l)}}Tw();const Aw=Tw({themeId:Gn});function Pw(e){return ds("MuiTableContainer",e)}zs("MuiTableContainer",["root"]);const Nw=["className","component"],Mw=js("div",{name:"MuiTableContainer",slot:"Root"})({width:"100%",overflowX:"auto"}),Ow=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiTableContainer"}),{className:r,component:o="div"}=n,a=d(n,Nw),i=u(u({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return ps({root:["root"]},Pw,t)})(i);return(0,m.jsx)(Mw,u({ref:t,as:o,className:Qe(s.root,r),ownerState:i},a))});const Dw=t.createContext();function jw(e){return ds("MuiTable",e)}zs("MuiTable",["root","stickyHeader"]);const Fw=["className","component","padding","size","stickyHeader"],Lw=js("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})(Ks(e=>{let{theme:t}=e;return{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":u(u({},t.typography.body2),{},{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"}),variants:[{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{borderCollapse:"separate"}}]}})),Bw="table",zw=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTable"}),{className:o,component:a=Bw,padding:i="normal",size:s="medium",stickyHeader:l=!1}=r,c=d(r,Fw),p=u(u({},r),{},{component:a,padding:i,size:s,stickyHeader:l}),f=(e=>{const{classes:t,stickyHeader:n}=e;return ps({root:["root",n&&"stickyHeader"]},jw,t)})(p),h=t.useMemo(()=>({padding:i,size:s,stickyHeader:l}),[i,s,l]);return(0,m.jsx)(Dw.Provider,{value:h,children:(0,m.jsx)(Lw,u({as:a,role:a===Bw?null:"table",ref:n,className:Qe(f.root,o),ownerState:p},c))})}),Ww=zw;const Uw=t.createContext();function Vw(e){return ds("MuiTableHead",e)}zs("MuiTableHead",["root"]);const Hw=["className","component"],qw=js("thead",{name:"MuiTableHead",slot:"Root"})({display:"table-header-group"}),Gw={variant:"head"},Kw="thead",Xw=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiTableHead"}),{className:r,component:o=Kw}=n,a=d(n,Hw),i=u(u({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return ps({root:["root"]},Vw,t)})(i);return(0,m.jsx)(Uw.Provider,{value:Gw,children:(0,m.jsx)(qw,u({as:o,className:Qe(s.root,r),ref:t,role:o===Kw?null:"rowgroup",ownerState:i},a))})});function $w(e){return ds("MuiTableRow",e)}const Yw=zs("MuiTableRow",["root","selected","hover","head","footer"]),Qw=["className","component","hover","selected"],Jw=js("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})(Ks(e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,["&.".concat(Yw.hover,":hover")]:{backgroundColor:(t.vars||t).palette.action.hover},["&.".concat(Yw.selected)]:{backgroundColor:t.alpha((t.vars||t).palette.primary.main,(t.vars||t).palette.action.selectedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.primary.main,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity))}}}})),Zw="tr",eS=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTableRow"}),{className:o,component:a=Zw,hover:i=!1,selected:s=!1}=r,l=d(r,Qw),c=t.useContext(Uw),p=u(u({},r),{},{component:a,hover:i,selected:s,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),f=(e=>{const{classes:t,selected:n,hover:r,head:o,footer:a}=e;return ps({root:["root",n&&"selected",r&&"hover",o&&"head",a&&"footer"]},$w,t)})(p);return(0,m.jsx)(Jw,u({as:a,ref:n,className:Qe(f.root,o),role:a===Zw?null:"row",ownerState:p},l))}),tS=eS;function nS(e){return ds("MuiTableCell",e)}const rS=zs("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),oS=["align","className","component","padding","scope","size","sortDirection","variant"],aS=js("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(Ms(n.size))],"normal"!==n.padding&&t["padding".concat(Ms(n.padding))],"inherit"!==n.align&&t["align".concat(Ms(n.align))],n.stickyHeader&&t.stickyHeader]}})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.body2),{},{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?"1px solid ".concat(t.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===t.palette.mode?t.lighten(t.alpha(t.palette.divider,1),.88):t.darken(t.alpha(t.palette.divider,1),.68)),textAlign:"left",padding:16,variants:[{props:{variant:"head"},style:{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium}},{props:{variant:"body"},style:{color:(t.vars||t).palette.text.primary}},{props:{variant:"footer"},style:{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)}},{props:{size:"small"},style:{padding:"6px 16px",["&.".concat(rS.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}}},{props:{padding:"checkbox"},style:{width:48,padding:"0 0 0 4px"}},{props:{padding:"none"},style:{padding:0}},{props:{align:"left"},style:{textAlign:"left"}},{props:{align:"center"},style:{textAlign:"center"}},{props:{align:"right"},style:{textAlign:"right",flexDirection:"row-reverse"}},{props:{align:"justify"},style:{textAlign:"justify"}},{props:e=>{let{ownerState:t}=e;return t.stickyHeader},style:{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default}}]})})),iS=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTableCell"}),{align:o="inherit",className:a,component:i,padding:s,scope:l,size:c,sortDirection:p,variant:f}=r,h=d(r,oS),v=t.useContext(Dw),g=t.useContext(Uw),y=g&&"head"===g.variant;let b;b=i||(y?"th":"td");let x=l;"td"===b?x=void 0:!x&&y&&(x="col");const w=f||g&&g.variant,S=u(u({},r),{},{align:o,component:b,padding:s||(v&&v.padding?v.padding:"normal"),size:c||(v&&v.size?v.size:"medium"),sortDirection:p,stickyHeader:"head"===w&&v&&v.stickyHeader,variant:w}),C=(e=>{const{classes:t,variant:n,align:r,padding:o,size:a,stickyHeader:i}=e;return ps({root:["root",n,i&&"stickyHeader","inherit"!==r&&"align".concat(Ms(r)),"normal"!==o&&"padding".concat(Ms(o)),"size".concat(Ms(a))]},nS,t)})(S);let k=null;return p&&(k="asc"===p?"ascending":"descending"),(0,m.jsx)(aS,u({as:b,ref:n,className:Qe(C.root,a),"aria-sort":k,scope:x,ownerState:S},h))}),sS=iS;function lS(e){return ds("MuiTableBody",e)}zs("MuiTableBody",["root"]);const uS=["className","component"],cS=js("tbody",{name:"MuiTableBody",slot:"Root"})({display:"table-row-group"}),dS={variant:"body"},pS="tbody",fS=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiTableBody"}),{className:r,component:o=pS}=n,a=d(n,uS),i=u(u({},n),{},{component:o}),s=(e=>{const{classes:t}=e;return ps({root:["root"]},lS,t)})(i);return(0,m.jsx)(Uw.Provider,{value:dS,children:(0,m.jsx)(cS,u({className:Qe(s.root,r),as:o,ref:t,role:o===pS?null:"rowgroup",ownerState:i},a))})});function hS(e){return ds("MuiPagination",e)}zs("MuiPagination",["root","ul","outlined","text"]);const mS=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function vS(e){return ds("MuiPaginationItem",e)}const gS=zs("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),yS=Lu((0,m.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"})),bS=Lu((0,m.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"})),xS=Lu((0,m.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),wS=Lu((0,m.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),SS=["className","color","component","components","disabled","page","selected","shape","size","slots","slotProps","type","variant"],CS=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t["size".concat(Ms(n.size))],"text"===n.variant&&t["text".concat(Ms(n.color))],"outlined"===n.variant&&t["outlined".concat(Ms(n.color))],"rounded"===n.shape&&t.rounded,"page"===n.type&&t.page,("start-ellipsis"===n.type||"end-ellipsis"===n.type)&&t.ellipsis,("previous"===n.type||"next"===n.type)&&t.previousNext,("first"===n.type||"last"===n.type)&&t.firstLast]},kS=js("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:CS})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.body2),{},{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",["&.".concat(gS.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:{size:"small"},style:{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)}}]})})),ES=js(uu,{name:"MuiPaginationItem",slot:"Root",overridesResolver:CS})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.body2),{},{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,["&.".concat(gS.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(gS.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(gS.selected)]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.hoverOpacity)),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(gS.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette.action.selected,"".concat((t.vars||t).palette.action.selectedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))},["&.".concat(gS.disabled)]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}},variants:[{props:{size:"small"},style:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"}},{props:{size:"large"},style:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)}},{props:{shape:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"outlined"},style:{border:t.vars?"1px solid ".concat(t.alpha(t.vars.palette.common.onBackground,.23)):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(gS.selected)]:{["&.".concat(gS.disabled)]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}}}},{props:{variant:"text"},style:{["&.".concat(gS.selected)]:{["&.".concat(gS.disabled)]:{color:(t.vars||t).palette.action.disabled}}}},...Object.entries(t.palette).filter(Zs(["dark","contrastText"])).map(e=>{let[n]=e;return{props:{variant:"text",color:n},style:{["&.".concat(gS.selected)]:{color:(t.vars||t).palette[n].contrastText,backgroundColor:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:(t.vars||t).palette[n].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n].main}},["&.".concat(gS.focusVisible)]:{backgroundColor:(t.vars||t).palette[n].dark},["&.".concat(gS.disabled)]:{color:(t.vars||t).palette.action.disabled}}}}}),...Object.entries(t.palette).filter(Zs(["light"])).map(e=>{let[n]=e;return{props:{variant:"outlined",color:n},style:{["&.".concat(gS.selected)]:{color:(t.vars||t).palette[n].main,border:"1px solid ".concat(t.alpha((t.vars||t).palette[n].main,.5)),backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.activatedOpacity),"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[n].main,"".concat((t.vars||t).palette.action.activatedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity)),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(gS.focusVisible)]:{backgroundColor:t.alpha((t.vars||t).palette[n].main,"".concat((t.vars||t).palette.action.activatedOpacity," + ").concat((t.vars||t).palette.action.focusOpacity))}}}}})]})})),RS=js("div",{name:"MuiPaginationItem",slot:"Icon"})(Ks(e=>{let{theme:t}=e;return{fontSize:t.typography.pxToRem(20),margin:"0 -8px",variants:[{props:{size:"small"},style:{fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:t.typography.pxToRem(22)}}]}})),_S=t.forwardRef(function(e,t){var n,r,o,a;const i=Bo({props:e,name:"MuiPaginationItem"}),{className:s,color:l="standard",component:c,components:p={},disabled:f=!1,page:h,selected:v=!1,shape:g="circular",size:y="medium",slots:b={},slotProps:x={},type:w="page",variant:S="text"}=i,C=d(i,SS),k=u(u({},i),{},{color:l,disabled:f,selected:v,shape:g,size:y,type:w,variant:S}),E=Xe(),R=(e=>{const{classes:t,color:n,disabled:r,selected:o,size:a,shape:i,type:s,variant:l}=e;return ps({root:["root","size".concat(Ms(a)),l,i,"standard"!==n&&"color".concat(Ms(n)),"standard"!==n&&"".concat(l).concat(Ms(n)),r&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[s]],icon:["icon"]},vS,t)})(k),_={slots:{previous:null!==(n=b.previous)&&void 0!==n?n:p.previous,next:null!==(r=b.next)&&void 0!==r?r:p.next,first:null!==(o=b.first)&&void 0!==o?o:p.first,last:null!==(a=b.last)&&void 0!==a?a:p.last},slotProps:x},[I,T]=xl("previous",{elementType:xS,externalForwardedProps:_,ownerState:k}),[A,P]=xl("next",{elementType:wS,externalForwardedProps:_,ownerState:k}),[N,M]=xl("first",{elementType:yS,externalForwardedProps:_,ownerState:k}),[O,D]=xl("last",{elementType:bS,externalForwardedProps:_,ownerState:k}),j=E?{previous:"next",next:"previous",first:"last",last:"first"}[w]:w,F={previous:I,next:A,first:N,last:O}[j],L={previous:T,next:P,first:M,last:D}[j];return"start-ellipsis"===w||"end-ellipsis"===w?(0,m.jsx)(kS,{ref:t,ownerState:k,className:Qe(R.root,s),children:"\u2026"}):(0,m.jsxs)(ES,u(u({ref:t,ownerState:k,component:c,disabled:f,className:Qe(R.root,s)},C),{},{children:["page"===w&&h,F?(0,m.jsx)(RS,u(u({},L),{},{className:R.icon,as:F})):null]}))}),IS=_S,TS=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],AS=js("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),PS=js("ul",{name:"MuiPagination",slot:"Ul"})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function NS(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}const MS=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiPagination"}),{boundaryCount:r=1,className:o,color:a="standard",count:i=1,defaultPage:s=1,disabled:l=!1,getItemAriaLabel:c=NS,hideNextButton:p=!1,hidePrevButton:f=!1,onChange:h,page:v,renderItem:g=e=>(0,m.jsx)(IS,u({},e)),shape:y="circular",showFirstButton:b=!1,showLastButton:x=!1,siblingCount:w=1,size:S="medium",variant:C="text"}=n,k=d(n,TS),{items:E}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{boundaryCount:t=1,componentName:n="usePagination",count:r=1,defaultPage:o=1,disabled:a=!1,hideNextButton:i=!1,hidePrevButton:s=!1,onChange:l,page:c,showFirstButton:p=!1,showLastButton:f=!1,siblingCount:h=1}=e,m=d(e,mS),[v,g]=df({controlled:c,default:o,name:n,state:"page"}),y=(e,t)=>{c||g(t),l&&l(e,t)},b=(e,t)=>{const n=t-e+1;return Array.from({length:n},(t,n)=>e+n)},x=b(1,Math.min(t,r)),w=b(Math.max(r-t+1,t+1),r),S=Math.max(Math.min(v-h,r-t-2*h-1),t+2),C=Math.min(Math.max(v+h,t+2*h+2),r-t-1),k=[...p?["first"]:[],...s?[]:["previous"],...x,...S>t+2?["start-ellipsis"]:t+1<r-t?[t+1]:[],...b(S,C),...C<r-t-1?["end-ellipsis"]:r-t>t?[r-t]:[],...w,...i?[]:["next"],...f?["last"]:[]],E=e=>{switch(e){case"first":return 1;case"previous":return v-1;case"next":return v+1;case"last":return r;default:return null}};return u({items:k.map(e=>"number"===typeof e?{onClick:t=>{y(t,e)},type:"page",page:e,selected:e===v,disabled:a,"aria-current":e===v?"page":void 0}:{onClick:t=>{y(t,E(e))},type:e,page:E(e),selected:!1,disabled:a||!e.includes("ellipsis")&&("next"===e||"last"===e?v>=r:v<=1)})},m)}(u(u({},n),{},{componentName:"Pagination"})),R=u(u({},n),{},{boundaryCount:r,color:a,count:i,defaultPage:s,disabled:l,getItemAriaLabel:c,hideNextButton:p,hidePrevButton:f,renderItem:g,shape:y,showFirstButton:b,showLastButton:x,siblingCount:w,size:S,variant:C}),_=(e=>{const{classes:t,variant:n}=e;return ps({root:["root",n],ul:["ul"]},hS,t)})(R);return(0,m.jsx)(AS,u(u({"aria-label":"pagination navigation",className:Qe(_.root,o),ownerState:R,ref:t},k),{},{children:(0,m.jsx)(PS,{className:_.ul,ownerState:R,children:E.map((e,t)=>(0,m.jsx)("li",{children:g(u(u({},e),{},{color:a,"aria-label":c(e.type,e.page,e.selected),shape:y,size:S,variant:C}))},t))})}))}),OS=MS;function DS(e){let{page:n=1,pageSize:r=20,search:o="",ordering:a="-fecha",accion:i,metodo:s,status:l,usuario:c,fechaDesde:d,fechaHasta:p}=e;const[f,h]=(0,t.useState)({loading:!1,error:null,data:[],count:0,next:null,previous:null}),m=(0,t.useMemo)(()=>function(e){const t={};return Object.entries(e).forEach(e=>{let[n,r]=e;void 0!==r&&null!==r&&""!==r&&(t[n]=r)}),t}({page:n,page_size:r,search:o,ordering:a,accion:i,metodo:s,status:l,usuario:c,fecha_desde:d,fecha_hasta:p}),[n,r,o,a,i,s,l,c,d,p]);return(0,t.useEffect)(()=>{let e=!1;return(async()=>{h(e=>u(u({},e),{},{loading:!0,error:null}));try{const t=await(async e=>{try{return await Iv.get("bitacora/",{params:e})}catch(Gk){var t,n;throw console.error("GET /bitacora/ FALL\xd3",{baseURL:Iv.defaults.baseURL,fullURL:(Iv.defaults.baseURL||"")+"bitacora/",status:null===(t=Gk.response)||void 0===t?void 0:t.status,data:null===(n=Gk.response)||void 0===n?void 0:n.data,params:e}),Gk}})(m);if(e)return;h({loading:!1,error:null,data:t.data.results||[],count:t.data.count||0,next:t.data.next||null,previous:t.data.previous||null})}catch(t){if(e)return;h(e=>u(u({},e),{},{loading:!1,error:t.message||"Error"}))}})(),()=>{e=!0}},[m]),u(u({},f),{},{queryParams:m})}const jS=[{key:"fecha",label:"Fecha/Hora"},{key:"usuario",label:"Usuario"},{key:"rol",label:"Rol"},{key:"accion",label:"Acci\xf3n"},{key:"entidad",label:"Entidad"},{key:"entidad_id",label:"Entidad ID"},{key:"metodo",label:"M\xe9todo"},{key:"ruta",label:"Ruta"},{key:"status",label:"Status"},{key:"ip",label:"IP"},{key:"user_agent",label:"User Agent"}],FS={rol:{display:{xs:"none",md:"table-cell"}},entidad:{display:{xs:"none",lg:"table-cell"}},entidad_id:{display:{xs:"none",lg:"table-cell"}},ruta:{display:{xs:"none",sm:"table-cell"}},ip:{display:{xs:"none",xl:"table-cell"}},user_agent:{display:{xs:"none",xl:"table-cell"}}};function LS(){const e=qs(),n=Aw(e.breakpoints.down("sm")),[r,o]=(0,t.useState)(1),[a]=(0,t.useState)(20),[i,s]=(0,t.useState)("-fecha"),[l,c]=(0,t.useState)(""),d=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450;const[r,o]=(0,t.useState)(e);return(0,t.useEffect)(()=>{const t=setTimeout(()=>o(e),n);return()=>clearTimeout(t)},[e,n]),r}(l,450),[p,f]=(0,t.useState)(""),[h,v]=(0,t.useState)(""),[g,y]=(0,t.useState)(""),[b,x]=(0,t.useState)(""),[w,S]=(0,t.useState)(""),[C,k]=(0,t.useState)(""),{data:E,count:R,loading:_,error:I}=DS({page:r,pageSize:a,search:d,ordering:i,accion:p,metodo:h,status:g,usuario:b,fechaDesde:w,fechaHasta:C}),T=Math.max(1,Math.ceil((R||0)/a)),A=(0,t.useMemo)(()=>i.replace("-",""),[i]),P=(0,t.useMemo)(()=>i.startsWith("-")?"desc":"asc",[i]);return(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:n?"h5":"h4",gutterBottom:!0,children:"Bit\xe1cora"}),(0,m.jsx)(Js,{sx:{p:n?1.5:2,mb:2},children:(0,m.jsxs)(Hy,{container:!0,spacing:1.5,children:[(0,m.jsx)(Hy,{item:!0,xs:12,md:4,children:(0,m.jsx)(Lf,{size:n?"small":"medium",label:"Buscar (ruta, entidad, user_agent, etc.)",value:l,onChange:e=>{o(1),c(e.target.value)},fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsxs)(fd,{fullWidth:!0,size:n?"small":"medium",children:[(0,m.jsx)(id,{children:"Acci\xf3n"}),(0,m.jsxs)(Nf,{label:"Acci\xf3n",value:p,onChange:e=>{o(1),f(e.target.value)},children:[(0,m.jsx)($g,{value:"",children:"(todas)"}),["LOGIN","LOGOUT","CREATE","READ","UPDATE","DELETE","ACCESO","CERRAR SESI\xd3N","BORRAR","CREAR","ACTUALIZAR"].map(e=>(0,m.jsx)($g,{value:e,children:e},e))]})]})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsxs)(fd,{fullWidth:!0,size:n?"small":"medium",children:[(0,m.jsx)(id,{children:"M\xe9todo"}),(0,m.jsxs)(Nf,{label:"M\xe9todo",value:h,onChange:e=>{o(1),v(e.target.value)},children:[(0,m.jsx)($g,{value:"",children:"(todos)"}),["GET","POST","PUT","PATCH","DELETE"].map(e=>(0,m.jsx)($g,{value:e,children:e},e))]})]})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsx)(Lf,{size:n?"small":"medium",label:"Status",type:"number",value:g,onChange:e=>{o(1),y(e.target.value)},fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsx)(Lf,{size:n?"small":"medium",label:"Usuario",value:b,onChange:e=>{o(1),x(e.target.value)},fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsx)(Lf,{size:n?"small":"medium",label:"Desde",type:"date",InputLabelProps:{shrink:!0},value:w,onChange:e=>{o(1),S(e.target.value)},fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:6,md:2,children:(0,m.jsx)(Lf,{size:n?"small":"medium",label:"Hasta",type:"date",InputLabelProps:{shrink:!0},value:C,onChange:e=>{o(1),k(e.target.value)},fullWidth:!0})}),(0,m.jsxs)(Hy,{item:!0,xs:12,md:"auto",display:"flex",alignItems:"center",gap:1,children:[(0,m.jsx)(Qf,{variant:"outlined",startIcon:(0,m.jsx)(Cw,{}),onClick:()=>{o(1),c(""),f(""),v(""),y(""),x(""),S(""),k(""),s("-fecha")},children:"Limpiar"}),(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kw,{}),onClick:()=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bitacora.csv";if(null===e||void 0===e||!e.length)return;const n=Object.keys(e[0]),r=[n.join(","),...e.map(e=>n.map(t=>{let n=e[t];return null!==n&&void 0!==n||(n=""),n=String(n).replace(/"/g,'""'),(n.includes(",")||n.includes('"')||n.includes("\n"))&&(n='"'.concat(n,'"')),n}).join(","))],o=r.join("\n"),a=new Blob([o],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(a),s=document.createElement("a");s.href=i,s.download=t,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(i)}(E),disabled:!(null!==E&&void 0!==E&&E.length),children:"Exportar CSV"})]})]})}),(0,m.jsx)(Ow,{component:Js,sx:{overflowX:"auto"},children:(0,m.jsxs)(Ww,{size:n?"small":"medium",children:[(0,m.jsx)(Xw,{children:(0,m.jsx)(tS,{children:jS.map(e=>(0,m.jsx)(sS,{sx:u({whiteSpace:"nowrap",cursor:"pointer"},FS[e.key]||{}),onClick:()=>{return t=e.key,o(1),void s(e=>e===t?"-".concat(t):("-".concat(t),t));var t},children:(0,m.jsxs)(Hs,{sx:{display:"inline-flex",alignItems:"center",gap:.5},children:[e.label,(0,m.jsx)(mw,{title:"Ordenar",children:(0,m.jsx)(Nu,{size:"small",children:(0,m.jsx)(Ew,{fontSize:"inherit",color:A===e.key?"primary":"disabled",style:{transform:A===e.key&&"desc"===P?"rotate(180deg)":"none"}})})})]})},e.key))})}),(0,m.jsxs)(fS,{children:[!_&&0===(null===E||void 0===E?void 0:E.length)&&(0,m.jsx)(tS,{children:(0,m.jsx)(sS,{colSpan:jS.length,align:"center",children:"Sin resultados"})}),null===E||void 0===E?void 0:E.map(e=>{var t;return(0,m.jsxs)(tS,{children:[(0,m.jsx)(sS,{children:new Date(e.fecha).toLocaleString()}),(0,m.jsx)(sS,{children:e.usuario||"-"}),(0,m.jsx)(sS,{sx:FS.rol,children:e.rol||"-"}),(0,m.jsx)(sS,{children:e.accion||"-"}),(0,m.jsx)(sS,{sx:FS.entidad,children:e.entidad||"-"}),(0,m.jsx)(sS,{sx:FS.entidad_id,children:e.entidad_id||"-"}),(0,m.jsx)(sS,{children:(0,m.jsx)("span",{translate:"no",children:e.metodo||"-"})}),(0,m.jsx)(sS,{title:e.ruta,sx:u(u({},FS.ruta),{},{maxWidth:280,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),children:e.ruta||"-"}),(0,m.jsx)(sS,{children:null!==(t=e.status)&&void 0!==t?t:"-"}),(0,m.jsx)(sS,{sx:FS.ip,children:e.ip||"-"}),(0,m.jsx)(sS,{title:e.user_agent,sx:u(u({},FS.user_agent),{},{maxWidth:260,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),children:e.user_agent||"-"})]},e.id)}),_&&(0,m.jsx)(tS,{children:(0,m.jsx)(sS,{colSpan:jS.length,children:"Cargando\u2026"})}),I&&(0,m.jsx)(tS,{children:(0,m.jsxs)(sS,{colSpan:jS.length,sx:{color:"error.main"},children:["Error: ",I]})})]})]})}),(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:2},children:[(0,m.jsxs)(ul,{variant:"body2",children:["Total: ",null!==R&&void 0!==R?R:0]}),(0,m.jsx)(OS,{page:r,onChange:(e,t)=>o(t),count:T,color:"primary",showFirstButton:!0,showLastButton:!0})]})]})}function BS(e){return ds("MuiDialog",e)}const zS=zs("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const WS=t.createContext({}),US=["aria-describedby","aria-labelledby","aria-modal","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onClick","onClose","open","PaperComponent","PaperProps","scroll","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],VS=js(bp,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),HS=js(Op,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),qS=js("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t["scroll".concat(Ms(n.scroll))]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),GS=js(Js,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["scrollPaper".concat(Ms(n.scroll))],t["paperWidth".concat(Ms(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(Ks(e=>{let{theme:t}=e;return{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:e=>{let{ownerState:t}=e;return!t.maxWidth},style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(zS.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(e=>"xs"!==e).map(e=>({props:{maxWidth:e},style:{maxWidth:"".concat(t.breakpoints.values[e]).concat(t.breakpoints.unit),["&.".concat(zS.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[e]+64)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{width:"calc(100% - 64px)"}},{props:e=>{let{ownerState:t}=e;return t.fullScreen},style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(zS.paperScrollBody)]:{margin:0,maxWidth:"100%"}}}]}})),KS=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiDialog"}),o=qs(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":i,"aria-labelledby":s,"aria-modal":l=!0,BackdropComponent:c,BackdropProps:p,children:f,className:h,disableEscapeKeyDown:v=!1,fullScreen:g=!1,fullWidth:y=!1,maxWidth:b="sm",onClick:x,onClose:w,open:S,PaperComponent:C=Js,PaperProps:k={},scroll:E="paper",slots:R={},slotProps:_={},TransitionComponent:I=mp,transitionDuration:T=a,TransitionProps:A}=r,P=d(r,US),N=u(u({},r),{},{disableEscapeKeyDown:v,fullScreen:g,fullWidth:y,maxWidth:b,scroll:E}),M=(e=>{const{classes:t,scroll:n,maxWidth:r,fullWidth:o,fullScreen:a}=e;return ps({root:["root"],container:["container","scroll".concat(Ms(n))],paper:["paper","paperScroll".concat(Ms(n)),"paperWidth".concat(Ms(String(r))),o&&"paperFullWidth",a&&"paperFullScreen"]},BS,t)})(N),O=t.useRef(),D=at(s),j=t.useMemo(()=>({titleId:D}),[D]),F={slots:u({transition:I},R),slotProps:u({transition:A,paper:k,backdrop:p},_)},[L,B]=xl("root",{elementType:HS,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:N,className:Qe(M.root,h),ref:n}),[z,W]=xl("backdrop",{elementType:VS,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:N}),[U,V]=xl("paper",{elementType:GS,shouldForwardComponentProp:!0,externalForwardedProps:F,ownerState:N,className:Qe(M.paper,k.className)}),[H,q]=xl("container",{elementType:qS,externalForwardedProps:F,ownerState:N,className:M.container}),[G,K]=xl("transition",{elementType:mp,externalForwardedProps:F,ownerState:N,additionalProps:{appear:!0,in:S,timeout:T,role:"presentation"}});return(0,m.jsx)(L,u(u(u({closeAfterTransition:!0,slots:{backdrop:z},slotProps:{backdrop:u({transitionDuration:T,as:c},W)},disableEscapeKeyDown:v,onClose:w,open:S,onClick:e=>{x&&x(e),O.current&&(O.current=null,w&&w(e,"backdropClick"))}},B),P),{},{children:(0,m.jsx)(G,u(u({},K),{},{children:(0,m.jsx)(H,u(u({onMouseDown:e=>{O.current=e.target===e.currentTarget}},q),{},{children:(0,m.jsx)(U,u(u({as:C,elevation:24,role:"dialog","aria-describedby":i,"aria-labelledby":D,"aria-modal":l},V),{},{children:(0,m.jsx)(WS.Provider,{value:j,children:f})}))}))}))}))}),XS=KS;function $S(e){return ds("MuiDialogTitle",e)}const YS=zs("MuiDialogTitle",["root"]),QS=["className","id"],JS=js(ul,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),ZS=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiDialogTitle"}),{className:o,id:a}=r,i=d(r,QS),s=r,l=(e=>{const{classes:t}=e;return ps({root:["root"]},$S,t)})(s),{titleId:c=a}=t.useContext(WS);return(0,m.jsx)(JS,u({component:"h2",className:Qe(l.root,o),ownerState:s,ref:n,variant:"h6",id:null!==a&&void 0!==a?a:c},i))});function eC(e){return ds("MuiDialogContent",e)}zs("MuiDialogContent",["root","dividers"]);const tC=["className","dividers"],nC=js("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})(Ks(e=>{let{theme:t}=e;return{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:e=>{let{ownerState:t}=e;return t.dividers},style:{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return!t.dividers},style:{[".".concat(YS.root," + &")]:{paddingTop:0}}}]}})),rC=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiDialogContent"}),{className:r,dividers:o=!1}=n,a=d(n,tC),i=u(u({},n),{},{dividers:o}),s=(e=>{const{classes:t,dividers:n}=e;return ps({root:["root",n&&"dividers"]},eC,t)})(i);return(0,m.jsx)(nC,u({className:Qe(s.root,r),ownerState:i,ref:t},a))});function oC(e){return ds("MuiDialogActions",e)}zs("MuiDialogActions",["root","spacing"]);const aC=["className","disableSpacing"],iC=js("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableSpacing},style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),sC=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiDialogActions"}),{className:r,disableSpacing:o=!1}=n,a=d(n,aC),i=u(u({},n),{},{disableSpacing:o}),s=(e=>{const{classes:t,disableSpacing:n}=e;return ps({root:["root",!n&&"spacing"]},oC,t)})(i);return(0,m.jsx)(iC,u({className:Qe(s.root,r),ownerState:i,ref:t},a))});const lC=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:n=null,disableWindowBlurListener:r=!1,onClose:o,open:a,resumeHideDuration:i}=e,s=Vl();t.useEffect(()=>{if(a)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"===e.key&&(null===o||void 0===o||o(e,"escapeKeyDown"))}},[a,o]);const l=Rl((e,t)=>{null===o||void 0===o||o(e,t)}),c=Rl(e=>{o&&null!=e&&s.start(e,()=>{l(null,"timeout")})});t.useEffect(()=>(a&&c(n),s.clear),[a,n,c,s]);const d=s.clear,p=t.useCallback(()=>{null!=n&&c(null!=i?i:.5*n)},[n,i,c]),f=e=>t=>{const n=e.onFocus;null===n||void 0===n||n(t),d()},h=e=>t=>{const n=e.onMouseEnter;null===n||void 0===n||n(t),d()},m=e=>t=>{const n=e.onMouseLeave;null===n||void 0===n||n(t),p()};return t.useEffect(()=>{if(!r&&a)return window.addEventListener("focus",p),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",p),window.removeEventListener("blur",d)}},[r,a,p,d]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=u(u({},hl(e)),hl(t));return u(u(u({role:"presentation"},t),n),{},{onBlur:(r=n,e=>{const t=r.onBlur;null===t||void 0===t||t(e),p()}),onFocus:f(n),onMouseEnter:h(n),onMouseLeave:m(n)});var r},onClickAway:e=>{null===o||void 0===o||o(e,"clickaway")}}};function uC(e){return e.substring(2).toLowerCase()}function cC(e){const{children:n,disableReactTree:r=!1,mouseEvent:o="onClick",onClickAway:a,touchEvent:i="onTouchEnd"}=e,s=t.useRef(!1),l=t.useRef(null),u=t.useRef(!1),c=t.useRef(!1);t.useEffect(()=>(setTimeout(()=>{u.current=!0},0),()=>{u.current=!1}),[]);const d=cl(xd(n),l),p=Rl(e=>{const t=c.current;c.current=!1;const n=Zu(l.current);if(!u.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n))return;if(s.current)return void(s.current=!1);let o;o=e.composedPath?e.composedPath().includes(l.current):!n.documentElement.contains(e.target)||l.current.contains(e.target),o||!r&&t||a(e)}),f=e=>t=>{c.current=!0;const r=n.props[e];r&&r(t)},h={ref:d};return!1!==i&&(h[i]=f(i)),t.useEffect(()=>{if(!1!==i){const e=uC(i),t=Zu(l.current),n=()=>{s.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",n)}}},[p,i]),!1!==o&&(h[o]=f(o)),t.useEffect(()=>{if(!1!==o){const e=uC(o),t=Zu(l.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}},[p,o]),t.cloneElement(n,h)}function dC(e){return ds("MuiSnackbarContent",e)}zs("MuiSnackbarContent",["root","message","action"]);const pC=["action","className","message","role"],fC=js(Js,{name:"MuiSnackbarContent",slot:"Root"})(Ks(e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98;return u(u({},t.typography.body2),{},{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(gr(t.palette.background.default,n)),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:gr(t.palette.background.default,n),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),hC=js("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),mC=js("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),vC=t.forwardRef(function(e,t){const n=Bo({props:e,name:"MuiSnackbarContent"}),{action:r,className:o,message:a,role:i="alert"}=n,s=d(n,pC),l=n,c=(e=>{const{classes:t}=e;return ps({root:["root"],action:["action"],message:["message"]},dC,t)})(l);return(0,m.jsxs)(fC,u(u({role:i,elevation:6,className:Qe(c.root,o),ownerState:l,ref:t},s),{},{children:[(0,m.jsx)(hC,{className:c.message,ownerState:l,children:a}),r?(0,m.jsx)(mC,{className:c.action,ownerState:l,children:r}):null]}))});function gC(e){return ds("MuiSnackbar",e)}zs("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const yC=["onEnter","onExited"],bC=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","slots","slotProps","TransitionComponent","transitionDuration","TransitionProps"],xC=["ownerState"],wC=js("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["anchorOrigin".concat(Ms(n.anchorOrigin.vertical)).concat(Ms(n.anchorOrigin.horizontal))]]}})(Ks(e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical},style:{top:8,[t.breakpoints.up("sm")]:{top:24}}},{props:e=>{let{ownerState:t}=e;return"top"!==t.anchorOrigin.vertical},style:{bottom:8,[t.breakpoints.up("sm")]:{bottom:24}}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-start",[t.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchorOrigin.horizontal},style:{justifyContent:"flex-end",[t.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:e=>{let{ownerState:t}=e;return"center"===t.anchorOrigin.horizontal},style:{[t.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}})),SC=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiSnackbar"}),o=qs(),a={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:i,anchorOrigin:{vertical:s,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:p,className:f,ClickAwayListenerProps:h,ContentProps:v,disableWindowBlurListener:g=!1,message:y,onBlur:b,onClose:x,onFocus:w,onMouseEnter:S,onMouseLeave:C,open:k,resumeHideDuration:E,slots:R={},slotProps:_={},TransitionComponent:I,transitionDuration:T=a,TransitionProps:{onEnter:A,onExited:P}={}}=r,N=d(r.TransitionProps,yC),M=d(r,bC),O=u(u({},r),{},{anchorOrigin:{vertical:s,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:I,transitionDuration:T}),D=(e=>{const{classes:t,anchorOrigin:n}=e;return ps({root:["root","anchorOrigin".concat(Ms(n.vertical)).concat(Ms(n.horizontal))]},gC,t)})(O),{getRootProps:j,onClickAway:F}=lC(u({},O)),[L,B]=t.useState(!0),z={slots:u({transition:I},R),slotProps:u({content:v,clickAwayListener:h,transition:N},_)},[W,U]=xl("root",{ref:n,className:[D.root,f],elementType:wC,getSlotProps:j,externalForwardedProps:u(u({},z),M),ownerState:O}),[V,H]=xl("clickAwayListener",{elementType:cC,externalForwardedProps:z,getSlotProps:e=>({onClickAway:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const a=r[0];null===(t=e.onClickAway)||void 0===t||t.call(e,...r),null!==a&&void 0!==a&&a.defaultMuiPrevented||F(...r)}}),ownerState:O}),{ownerState:q}=H,G=d(H,xC),[K,X]=xl("content",{elementType:vC,shouldForwardComponentProp:!0,externalForwardedProps:z,additionalProps:{message:y,action:i},ownerState:O}),[$,Y]=xl("transition",{elementType:op,externalForwardedProps:z,getSlotProps:e=>({onEnter:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=e.onEnter)||void 0===t||t.call(e,...r),((e,t)=>{B(!1),A&&A(e,t)})(...r)},onExited:function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];null===(t=e.onExited)||void 0===t||t.call(e,...r),(e=>{B(!0),P&&P(e)})(...r)}}),additionalProps:{appear:!0,in:k,timeout:T,direction:"top"===s?"down":"up"},ownerState:O});return!k&&L?null:(0,m.jsx)(V,u(u(u({},G),R.clickAwayListener&&{ownerState:q}),{},{children:(0,m.jsx)(W,u(u({},U),{},{children:(0,m.jsx)($,u(u({},Y),{},{children:p||(0,m.jsx)(K,u({},X))}))}))}))}),CC=SC,kC=Lu((0,m.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"})),EC=Lu((0,m.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"})),RC=Lu((0,m.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"})),_C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Iv.get("/cuotas/",{params:e})},IC=e=>Iv.post("/cuotas/",e),TC=(e,t)=>Iv.put("/cuotas/".concat(e,"/"),t),AC=e=>Iv.delete("/cuotas/".concat(e,"/")),PC=()=>Iv.get("/unidades/"),NC=e=>Iv.post("/unidades/",e),MC=(e,t)=>Iv.put("/unidades/".concat(e,"/"),t),OC=e=>Iv.delete("/unidades/".concat(e,"/")),DC=()=>{const{currentUser:e,userPrivileges:t}=Mv();return{tienePrivilegio:n=>!!e&&(!!e.is_superuser||t.includes(n))}},jC=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)({unidad_habitacional:"",monto:"",tipo:"ordinaria",descripcion:"",fecha_vencimiento:"",estado:"pendiente"}),[p,f]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:h}=DC(),v=(0,t.useCallback)(function(e){f({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),g=(0,t.useCallback)(async()=>{try{const e=await _C();n(e.data)}catch(e){console.error("Error loading cuotas:",e),v("Error al cargar cuotas","error")}},[v]),y=(0,t.useCallback)(async()=>{try{const e=await PC();o(e.data)}catch(e){console.error("Error loading unidades:",e),v("Error al cargar unidades","error")}},[v]);(0,t.useEffect)(()=>{g(),y()},[g,y]);const b=()=>{f(u(u({},p),{},{open:!1}))},x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),d({unidad_habitacional:e.unidad_habitacional,monto:e.monto,tipo:e.tipo,descripcion:e.descripcion||"",fecha_vencimiento:e.fecha_vencimiento,estado:e.estado})):(l(null),d({unidad_habitacional:"",monto:"",tipo:"ordinaria",descripcion:"",fecha_vencimiento:"",estado:"pendiente"})),i(!0)},w=()=>{i(!1)},S=e=>{d(u(u({},c),{},{[e.target.name]:e.target.value}))},C=e=>{switch(e){case"pagada":return"success";case"pendiente":return"warning";case"vencida":return"error";default:return"default"}};return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Cuotas y Expensas"}),h("fees.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>x(),children:"Nueva Cuota"})]}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:e.map(e=>{var t,n,r;return(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsx)(Jy,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(ul,{variant:"h6",gutterBottom:!0,children:[(null===(t=e.unidad_habitacional_info)||void 0===t?void 0:t.torre)||"N/A"," - ",(null===(n=e.unidad_habitacional_info)||void 0===n?void 0:n.piso)||"N/A"," - ",null===(r=e.unidad_habitacional_info)||void 0===r?void 0:r.numero]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Monto: $",e.monto]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Tipo: ",e.tipo]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Vence: ",new Date(e.fecha_vencimiento).toLocaleDateString()]}),(0,m.jsx)(wg,{label:e.estado,color:C(e.estado),size:"small"})]}),(0,m.jsxs)(Hs,{children:[h("fees.edit")&&(0,m.jsx)(Nu,{size:"small",color:"primary",onClick:()=>x(e),children:(0,m.jsx)(EC,{})}),h("fees.delete")&&(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar esta cuota?"))try{await AC(e),v("Cuota eliminada correctamente"),g()}catch(t){console.error("Error deleting cuota:",t),v("Error al eliminar cuota","error")}})(e.id),children:(0,m.jsx)(RC,{})})]})]})})})},e.id)})}),h("fees.create")||h("fees.edit")?(0,m.jsxs)(XS,{open:a,onClose:w,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:s?"Editar Cuota":"Crear Cuota"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s?(await TC(s.id,c),v("Cuota actualizada correctamente")):(await IC(c),v("Cuota creada correctamente")),g(),w()}catch(t){console.error("Error saving cuota:",t),v("Error al guardar cuota","error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,m.jsx)(Lf,{label:"Unidad Habitacional",name:"unidad_habitacional",value:c.unidad_habitacional,onChange:S,select:!0,required:!0,fullWidth:!0,children:r.map(e=>(0,m.jsxs)($g,{value:e.id,children:[e.torre," - ",e.piso," - ",e.numero]},e.id))}),(0,m.jsx)(Lf,{label:"Monto",name:"monto",type:"number",value:c.monto,onChange:S,required:!0,fullWidth:!0,inputProps:{step:"0.01"}}),(0,m.jsxs)(Lf,{label:"Tipo",name:"tipo",value:c.tipo,onChange:S,select:!0,required:!0,fullWidth:!0,children:[(0,m.jsx)($g,{value:"ordinaria",children:"Ordinaria"}),(0,m.jsx)($g,{value:"extraordinaria",children:"Extraordinaria"}),(0,m.jsx)($g,{value:"multa",children:"Multa"})]}),(0,m.jsx)(Lf,{label:"Fecha de Vencimiento",name:"fecha_vencimiento",type:"date",value:c.fecha_vencimiento,onChange:S,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}}),(0,m.jsxs)(Lf,{label:"Estado",name:"estado",value:c.estado,onChange:S,select:!0,required:!0,fullWidth:!0,children:[(0,m.jsx)($g,{value:"pendiente",children:"Pendiente"}),(0,m.jsx)($g,{value:"pagada",children:"Pagada"}),(0,m.jsx)($g,{value:"vencida",children:"Vencida"})]}),(0,m.jsx)(Lf,{label:"Descripci\xf3n",name:"descripcion",value:c.descripcion,onChange:S,multiline:!0,rows:3,fullWidth:!0})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:w,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:s?"Actualizar":"Crear"})]})]})]}):null,(0,m.jsx)(CC,{open:p.open,autoHideDuration:6e3,onClose:b,children:(0,m.jsx)(Qu,{onClose:b,severity:p.severity,children:p.message})})]})},FC=Lu((0,m.jsx)("path",{d:"M17 12h-5v5h5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1zm3 18H5V8h14z"})),LC=Lu((0,m.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"})),BC=Lu((0,m.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}));function zC(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const WC=["onChange"],UC={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const VC=Lu((0,m.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"})),HC=Lu((0,m.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}));function qC(e){return ds("MuiTabScrollButton",e)}const GC=zs("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),KC=["className","slots","slotProps","direction","orientation","disabled"],XC=js(uu,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})({width:40,flexShrink:0,opacity:.8,["&.".concat(GC.disabled)]:{opacity:0},variants:[{props:{orientation:"vertical"},style:{width:"100%",height:40,"& svg":{transform:"var(--TabScrollButton-svgRotate)"}}}]}),$C=t.forwardRef(function(e,t){var n,r;const o=Bo({props:e,name:"MuiTabScrollButton"}),{className:a,slots:i={},slotProps:s={},direction:l,orientation:c,disabled:p}=o,f=d(o,KC),h=Xe(),v=u({isRtl:h},o),g=(e=>{const{classes:t,orientation:n,disabled:r}=e;return ps({root:["root",n,r&&"disabled"]},qC,t)})(v),y=null!==(n=i.StartScrollButtonIcon)&&void 0!==n?n:VC,b=null!==(r=i.EndScrollButtonIcon)&&void 0!==r?r:HC,x=Cd({elementType:y,externalSlotProps:s.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v}),w=Cd({elementType:b,externalSlotProps:s.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:v});return(0,m.jsx)(XC,u(u({component:"div",className:Qe(g.root,a),ref:t,role:null,ownerState:v,tabIndex:null},f),{},{style:u(u({},f.style),"vertical"===c&&{"--TabScrollButton-svgRotate":"rotate(".concat(h?-90:90,"deg)")}),children:"left"===l?(0,m.jsx)(y,u({},x)):(0,m.jsx)(b,u({},w))}))});function YC(e){return ds("MuiTabs",e)}const QC=zs("MuiTabs",["root","vertical","list","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),JC=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],ZC=["onChange"],ek=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,tk=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,nk=(e,t,n)=>{let r=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(r)return;r=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},rk=js("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(QC.scrollButtons)]:t.scrollButtons},{["& .".concat(QC.scrollButtons)]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(Ks(e=>{let{theme:t}=e;return{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.scrollButtonsHideMobile},style:{["& .".concat(QC.scrollButtons)]:{[t.breakpoints.down("sm")]:{display:"none"}}}}]}})),ok=js("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap",variants:[{props:e=>{let{ownerState:t}=e;return t.fixed},style:{overflowX:"hidden",width:"100%"}},{props:e=>{let{ownerState:t}=e;return t.hideScrollbar},style:{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}},{props:e=>{let{ownerState:t}=e;return t.scrollableX},style:{overflowX:"auto",overflowY:"hidden"}},{props:e=>{let{ownerState:t}=e;return t.scrollableY},style:{overflowY:"auto",overflowX:"hidden"}}]}),ak=js("div",{name:"MuiTabs",slot:"List",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.list,t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})({display:"flex",variants:[{props:e=>{let{ownerState:t}=e;return t.vertical},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.centered},style:{justifyContent:"center"}}]}),ik=js("span",{name:"MuiTabs",slot:"Indicator"})(Ks(e=>{let{theme:t}=e;return{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create(),variants:[{props:{indicatorColor:"primary"},style:{backgroundColor:(t.vars||t).palette.primary.main}},{props:{indicatorColor:"secondary"},style:{backgroundColor:(t.vars||t).palette.secondary.main}},{props:e=>{let{ownerState:t}=e;return t.vertical},style:{height:"100%",width:2,right:0}}]}})),sk=js(function(e){const{onChange:n}=e,r=d(e,WC),o=t.useRef(),a=t.useRef(null),i=()=>{o.current=a.current.offsetHeight-a.current.clientHeight};return cc(()=>{const e=Bd(()=>{const e=o.current;i(),e!==o.current&&n(o.current)}),t=Pd(a.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[n]),t.useEffect(()=>{i(),n(o.current)},[n]),(0,m.jsx)("div",u(u({style:UC},r),{},{ref:a}))})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),lk={};const uk=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTabs"}),o=qs(),a=Xe(),{"aria-label":i,"aria-labelledby":s,action:l,centered:c=!1,children:p,className:f,component:h="div",allowScrollButtonsMobile:v=!1,indicatorColor:g="primary",onChange:y,orientation:b="horizontal",ScrollButtonComponent:x,scrollButtons:w="auto",selectionFollowsFocus:S,slots:C={},slotProps:k={},TabIndicatorProps:E={},TabScrollButtonProps:R={},textColor:_="primary",value:I,variant:T="standard",visibleScrollbar:A=!1}=r,P=d(r,JC),N="scrollable"===T,M="vertical"===b,O=M?"scrollTop":"scrollLeft",D=M?"top":"left",j=M?"bottom":"right",F=M?"clientHeight":"clientWidth",L=M?"height":"width",B=u(u({},r),{},{component:h,allowScrollButtonsMobile:v,indicatorColor:g,orientation:b,vertical:M,scrollButtons:w,textColor:_,variant:T,visibleScrollbar:A,fixed:!N,hideScrollbar:N&&!A,scrollableX:N&&!M,scrollableY:N&&M,centered:c&&!N,scrollButtonsHideMobile:!v}),z=(e=>{const{vertical:t,fixed:n,hideScrollbar:r,scrollableX:o,scrollableY:a,centered:i,scrollButtonsHideMobile:s,classes:l}=e;return ps({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",r&&"hideScrollbar",o&&"scrollableX",a&&"scrollableY"],list:["list","flexContainer",t&&"flexContainerVertical",t&&"vertical",i&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[r&&"hideScrollbar"]},YC,l)})(B),W=Cd({elementType:C.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:B}),U=Cd({elementType:C.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:B});const[V,H]=t.useState(!1),[q,G]=t.useState(lk),[K,X]=t.useState(!1),[$,Y]=t.useState(!1),[Q,J]=t.useState(!1),[Z,ee]=t.useState({overflow:"hidden",scrollbarWidth:0}),te=new Map,ne=t.useRef(null),re=t.useRef(null),oe={slots:C,slotProps:u({indicator:E,scrollButton:R},k)},ae=()=>{const e=ne.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==I){const e=re.current.children;if(e.length>0){const t=e[te.get(I)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ie=_l(()=>{const{tabsMeta:e,tabMeta:t}=ae();let n,r=0;M?(n="top",t&&e&&(r=t.top-e.top+e.scrollTop)):(n=a?"right":"left",t&&e&&(r=(a?-1:1)*(t[n]-e[n]+e.scrollLeft)));const o={[n]:r,[L]:t?t[L]:0};if("number"!==typeof q[n]||"number"!==typeof q[L])G(o);else{const e=Math.abs(q[n]-o[n]),t=Math.abs(q[L]-o[L]);(e>=1||t>=1)&&G(o)}}),se=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:a=zC,duration:i=300}=r;let s=null;const l=t[e];let u=!1;const c=()=>{u=!0},d=r=>{if(u)return void o(new Error("Animation cancelled"));null===s&&(s=r);const c=Math.min(1,(r-s)/i);t[e]=a(c)*(n-l)+l,c>=1?requestAnimationFrame(()=>{o(null)}):requestAnimationFrame(d)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(d)}(O,ne.current,e,{duration:o.transitions.duration.standard}):ne.current[O]=e},le=e=>{let t=ne.current[O];t+=M?e:e*(a?-1:1),se(t)},ue=()=>{const e=ne.current[F];let t=0;const n=Array.from(re.current.children);for(let r=0;r<n.length;r+=1){const o=n[r];if(t+o[F]>e){0===r&&(t=e);break}t+=o[F]}return t},ce=()=>{le(-1*ue())},de=()=>{le(ue())},[pe,fe]=xl("scrollbar",{className:Qe(z.scrollableX,z.hideScrollbar),elementType:sk,shouldForwardComponentProp:!0,externalForwardedProps:oe,ownerState:B}),{onChange:he}=fe,me=d(fe,ZC),ve=t.useCallback(e=>{null===he||void 0===he||he(e),ee({overflow:null,scrollbarWidth:e})},[he]),[ge,ye]=xl("scrollButtons",{className:Qe(z.scrollButtons,R.className),elementType:$C,externalForwardedProps:oe,ownerState:B,additionalProps:{orientation:b,slots:{StartScrollButtonIcon:C.startScrollButtonIcon||C.StartScrollButtonIcon,EndScrollButtonIcon:C.endScrollButtonIcon||C.EndScrollButtonIcon},slotProps:{startScrollButtonIcon:W,endScrollButtonIcon:U}}}),be=_l(e=>{const{tabsMeta:t,tabMeta:n}=ae();if(n&&t)if(n[D]<t[D]){const r=t[O]+(n[D]-t[D]);se(r,{animation:e})}else if(n[j]>t[j]){const r=t[O]+(n[j]-t[j]);se(r,{animation:e})}}),xe=_l(()=>{N&&!1!==w&&J(!Q)});t.useEffect(()=>{const e=Bd(()=>{ne.current&&ie()});let t;const n=n=>{n.forEach(e=>{e.removedNodes.forEach(e=>{var n;null===(n=t)||void 0===n||n.unobserve(e)}),e.addedNodes.forEach(e=>{var n;null===(n=t)||void 0===n||n.observe(e)})}),e(),xe()},r=Pd(ne.current);let o;return r.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(re.current.children).forEach(e=>{t.observe(e)})),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(re.current,{childList:!0})),()=>{var n,a;e.clear(),r.removeEventListener("resize",e),null===(n=o)||void 0===n||n.disconnect(),null===(a=t)||void 0===a||a.disconnect()}},[ie,xe]),t.useEffect(()=>{const e=Array.from(re.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&N&&!1!==w){const n=e[0],r=e[t-1],o={root:ne.current,threshold:.99},a=new IntersectionObserver(e=>{X(!e[0].isIntersecting)},o);a.observe(n);const i=new IntersectionObserver(e=>{Y(!e[0].isIntersecting)},o);return i.observe(r),()=>{a.disconnect(),i.disconnect()}}},[N,w,Q,null===p||void 0===p?void 0:p.length]),t.useEffect(()=>{H(!0)},[]),t.useEffect(()=>{ie()}),t.useEffect(()=>{be(lk!==q)},[be,q]),t.useImperativeHandle(l,()=>({updateIndicator:ie,updateScrollButtons:xe}),[ie,xe]);const[we,Se]=xl("indicator",{className:Qe(z.indicator,E.className),elementType:ik,externalForwardedProps:oe,ownerState:B,additionalProps:{style:q}}),Ce=(0,m.jsx)(we,u({},Se));let ke=0;const Ee=t.Children.map(p,e=>{if(!t.isValidElement(e))return null;const n=void 0===e.props.value?ke:e.props.value;te.set(n,ke);const r=n===I;return ke+=1,t.cloneElement(e,u({fullWidth:"fullWidth"===T,indicator:r&&!V&&Ce,selected:r,selectionFollowsFocus:S,onChange:y,textColor:_,value:n},1!==ke||!1!==I||e.props.tabIndex?{}:{tabIndex:0}))}),Re=(()=>{const e={};e.scrollbarSizeListener=N?(0,m.jsx)(pe,u(u({},me),{},{onChange:ve})):null;const t=N&&("auto"===w&&(K||$)||!0===w);return e.scrollButtonStart=t?(0,m.jsx)(ge,u({direction:a?"right":"left",onClick:ce,disabled:!K},ye)):null,e.scrollButtonEnd=t?(0,m.jsx)(ge,u({direction:a?"left":"right",onClick:de,disabled:!$},ye)):null,e})(),[_e,Ie]=xl("root",{ref:n,className:Qe(z.root,f),elementType:rk,externalForwardedProps:u(u(u({},oe),P),{},{component:h}),ownerState:B}),[Te,Ae]=xl("scroller",{ref:ne,className:z.scroller,elementType:ok,externalForwardedProps:oe,ownerState:B,additionalProps:{style:{overflow:Z.overflow,[M?"margin".concat(a?"Left":"Right"):"marginBottom"]:A?void 0:-Z.scrollbarWidth}}}),[Pe,Ne]=xl("list",{ref:re,className:Qe(z.list,z.flexContainer),elementType:ak,externalForwardedProps:oe,ownerState:B,getSlotProps:e=>u(u({},e),{},{onKeyDown:t=>{var n;(e=>{if(e.altKey||e.shiftKey||e.ctrlKey||e.metaKey)return;const t=re.current,n=wd(t).activeElement;if("tab"!==n.getAttribute("role"))return;let r="horizontal"===b?"ArrowLeft":"ArrowUp",o="horizontal"===b?"ArrowRight":"ArrowDown";switch("horizontal"===b&&a&&(r="ArrowRight",o="ArrowLeft"),e.key){case r:e.preventDefault(),nk(t,n,tk);break;case o:e.preventDefault(),nk(t,n,ek);break;case"Home":e.preventDefault(),nk(t,null,ek);break;case"End":e.preventDefault(),nk(t,null,tk)}})(t),null===(n=e.onKeyDown)||void 0===n||n.call(e,t)}})});return(0,m.jsxs)(_e,u(u({},Ie),{},{children:[Re.scrollButtonStart,Re.scrollbarSizeListener,(0,m.jsxs)(Te,u(u({},Ae),{},{children:[(0,m.jsx)(Pe,u(u({"aria-label":i,"aria-labelledby":s,"aria-orientation":"vertical"===b?"vertical":null,role:"tablist"},Ne),{},{children:Ee})),V&&Ce]})),Re.scrollButtonEnd]}))}),ck=uk;function dk(e){return ds("MuiTab",e)}const pk=zs("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper","icon"]),fk=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],hk=js(uu,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat(Ms(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{["& .".concat(pk.iconWrapper)]:t.iconWrapper},{["& .".concat(pk.icon)]:t.icon}]}})(Ks(e=>{let{theme:t}=e;return u(u({},t.typography.button),{},{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center",lineHeight:1.25,variants:[{props:e=>{let{ownerState:t}=e;return t.label&&("top"===t.iconPosition||"bottom"===t.iconPosition)},style:{flexDirection:"column"}},{props:e=>{let{ownerState:t}=e;return t.label&&"top"!==t.iconPosition&&"bottom"!==t.iconPosition},style:{flexDirection:"row"}},{props:e=>{let{ownerState:t}=e;return t.icon&&t.label},style:{minHeight:72,paddingTop:9,paddingBottom:9}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"top"===n},style:{["& > .".concat(pk.icon)]:{marginBottom:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"bottom"===n},style:{["& > .".concat(pk.icon)]:{marginTop:6}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"start"===n},style:{["& > .".concat(pk.icon)]:{marginRight:t.spacing(1)}}},{props:e=>{let{ownerState:t,iconPosition:n}=e;return t.icon&&t.label&&"end"===n},style:{["& > .".concat(pk.icon)]:{marginLeft:t.spacing(1)}}},{props:{textColor:"inherit"},style:{color:"inherit",opacity:.6,["&.".concat(pk.selected)]:{opacity:1},["&.".concat(pk.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}}},{props:{textColor:"primary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(pk.selected)]:{color:(t.vars||t).palette.primary.main},["&.".concat(pk.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:{textColor:"secondary"},style:{color:(t.vars||t).palette.text.secondary,["&.".concat(pk.selected)]:{color:(t.vars||t).palette.secondary.main},["&.".concat(pk.disabled)]:{color:(t.vars||t).palette.text.disabled}}},{props:e=>{let{ownerState:t}=e;return t.fullWidth},style:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"}},{props:e=>{let{ownerState:t}=e;return t.wrapped},style:{fontSize:t.typography.pxToRem(12)}}]})})),mk=t.forwardRef(function(e,n){const r=Bo({props:e,name:"MuiTab"}),{className:o,disabled:a=!1,disableFocusRipple:i=!1,fullWidth:s,icon:l,iconPosition:c="top",indicator:p,label:f,onChange:h,onClick:v,onFocus:g,selected:y,selectionFollowsFocus:b,textColor:x="inherit",value:w,wrapped:S=!1}=r,C=d(r,fk),k=u(u({},r),{},{disabled:a,disableFocusRipple:i,selected:y,icon:!!l,iconPosition:c,label:!!f,fullWidth:s,textColor:x,wrapped:S}),E=(e=>{const{classes:t,textColor:n,fullWidth:r,wrapped:o,icon:a,label:i,selected:s,disabled:l}=e;return ps({root:["root",a&&i&&"labelIcon","textColor".concat(Ms(n)),r&&"fullWidth",o&&"wrapped",s&&"selected",l&&"disabled"],icon:["iconWrapper","icon"]},dk,t)})(k),R=l&&f&&t.isValidElement(l)?t.cloneElement(l,{className:Qe(E.icon,l.props.className)}):l;return(0,m.jsxs)(hk,u(u({focusRipple:!i,className:Qe(E.root,o),ref:n,role:"tab","aria-selected":y,disabled:a,onClick:e=>{!y&&h&&h(e,w),v&&v(e)},onFocus:e=>{b&&!y&&h&&h(e,w),g&&g(e)},ownerState:k,tabIndex:y?0:-1},C),{},{children:["top"===c||"start"===c?(0,m.jsxs)(t.Fragment,{children:[R,f]}):(0,m.jsxs)(t.Fragment,{children:[f,R]}),p]}))}),vk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Iv.get("/invitados/",{params:e})},gk=e=>Iv.post("/invitados/",e),yk=(e,t)=>Iv.put("/invitados/".concat(e,"/"),t),bk=e=>Iv.delete("/invitados/".concat(e,"/")),xk=e=>Iv.post("/invitados/".concat(e,"/aprobar/")),wk=(e,t)=>Iv.post("/invitados/".concat(e,"/rechazar/"),{observaciones:t}),Sk=["children","value","index"],Ck=e=>{let{children:t,value:n,index:r}=e,o=d(e,Sk);return(0,m.jsx)("div",u(u({role:"tabpanel",hidden:n!==r,id:"tabpanel-".concat(r),"aria-labelledby":"tab-".concat(r)},o),{},{children:n===r&&(0,m.jsx)(Hs,{sx:{p:3},children:t})}))},kk=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[p,f]=(0,t.useState)(0),[h,v]=(0,t.useState)(""),[g,y]=(0,t.useState)({nombre:"",apellido:"",ci:"",email:"",telefono:"",tipo_evento:"reunion",descripcion_evento:"",fecha_evento:"",hora_inicio:"18:00",hora_fin:"20:00",numero_invitados:1}),[b,x]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:w}=DC(),{currentUser:S}=Mv(),C=(0,t.useCallback)(function(e){x({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),k=(0,t.useCallback)(async()=>{try{let e={};1===p&&(e.estado="pendiente"),2===p&&(e.estado="aprobado"),3===p&&(e.estado="rechazado");const t=await vk(e);n(t.data)}catch(e){console.error("Error loading invitados:",e),C("Error al cargar invitados","error")}},[p,C]);(0,t.useEffect)(()=>{k()},[k]);const E=()=>{x(u(u({},b),{},{open:!1}))},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),y({nombre:e.nombre,apellido:e.apellido,ci:e.ci,email:e.email||"",telefono:e.telefono||"",tipo_evento:e.tipo_evento,descripcion_evento:e.descripcion_evento||"",fecha_evento:e.fecha_evento,hora_inicio:e.hora_inicio,hora_fin:e.hora_fin,numero_invitados:e.numero_invitados})):(l(null),y({nombre:"",apellido:"",ci:"",email:"",telefono:"",tipo_evento:"reunion",descripcion_evento:"",fecha_evento:"",hora_inicio:"18:00",hora_fin:"20:00",numero_invitados:1})),o(!0)},_=()=>{o(!1)},I=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];d(e),v(""),i(t)},T=()=>{i(!1),d(null),v("")},A=e=>{y(u(u({},g),{},{[e.target.name]:e.target.value}))},P=e=>{switch(e){case"aprobado":return"success";case"pendiente":return"warning";case"rechazado":return"error";default:return"default"}},N=e=>({cumpleanos:"Cumplea\xf1os",reunion:"Reuni\xf3n",fiesta:"Fiesta",otro:"Otro"}[e]||e),M=e=>S.is_superuser||e.residente===S.id;return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Invitados"}),w("guests.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>R(),children:"Nuevo Invitado"})]}),(0,m.jsx)(Hs,{sx:{borderBottom:1,borderColor:"divider"},children:(0,m.jsxs)(ck,{value:p,onChange:(e,t)=>{f(t)},children:[(0,m.jsx)(mk,{label:"Todos"}),(0,m.jsx)(mk,{label:"Pendientes"}),(0,m.jsx)(mk,{label:"Aprobados"}),(0,m.jsx)(mk,{label:"Rechazados"})]})}),(0,m.jsx)(Ck,{value:p,index:0,children:(0,m.jsx)(Hy,{container:!0,spacing:3,children:e.map(e=>(0,m.jsx)(Hy,{item:!0,xs:12,md:6,children:(0,m.jsx)(Xy,{children:(0,m.jsx)(Jy,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{sx:{flexGrow:1},children:[(0,m.jsxs)(ul,{variant:"h6",gutterBottom:!0,children:[e.nombre," ",e.apellido]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["CI: ",e.ci," | Tel: ",e.telefono||"N/A"]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:[(0,m.jsx)(FC,{sx:{fontSize:16,verticalAlign:"middle",mr:.5}}),new Date(e.fecha_evento).toLocaleDateString()," \u2022",e.hora_inicio," - ",e.hora_fin]}),(0,m.jsxs)(ul,{variant:"body2",gutterBottom:!0,children:["Evento: ",N(e.tipo_evento)]}),e.descripcion_evento&&(0,m.jsx)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e.descripcion_evento}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:1,mt:1},children:[(0,m.jsx)(wg,{label:e.estado,color:P(e.estado),size:"small"}),(0,m.jsx)(wg,{label:"".concat(e.numero_invitados," invitados"),variant:"outlined",size:"small"})]}),e.observaciones&&(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",sx:{mt:1,fontStyle:"italic"},children:["Observaciones: ",e.observaciones]})]}),(0,m.jsxs)(Hs,{children:[M(e)&&w("guests.edit")&&(0,m.jsx)(Nu,{size:"small",color:"primary",onClick:()=>R(e),children:(0,m.jsx)(EC,{})}),M(e)&&w("guests.delete")&&(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar este invitado?"))try{await bk(e),C("Invitado eliminado correctamente"),k()}catch(t){console.error("Error deleting invitado:",t),C("Error al eliminar invitado","error")}})(e.id),children:(0,m.jsx)(RC,{})}),S.is_superuser&&"pendiente"===e.estado&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Nu,{size:"small",color:"success",onClick:()=>I(e,!0),children:(0,m.jsx)(LC,{})}),(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>I(e,!1),children:(0,m.jsx)(BC,{})})]})]})]})})})},e.id))})}),(0,m.jsxs)(XS,{open:r,onClose:_,maxWidth:"md",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:s?"Editar Invitado":"Nuevo Invitado"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{s?(await yk(s.id,g),C("Invitado actualizado correctamente")):(await gk(g),C("Invitado creado correctamente")),k(),_()}catch(r){var t,n;console.error("Error saving invitado:",(null===(t=r.response)||void 0===t?void 0:t.data)||r.message),C("Error al guardar invitado: "+JSON.stringify((null===(n=r.response)||void 0===n?void 0:n.data)||r.message),"error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hy,{container:!0,spacing:2,sx:{mt:1},children:[(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"Nombre",name:"nombre",value:g.nombre,onChange:A,required:!0,fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"Apellido",name:"apellido",value:g.apellido,onChange:A,required:!0,fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"C\xe9dula de Identidad",name:"ci",value:g.ci,onChange:A,required:!0,fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"Tel\xe9fono",name:"telefono",value:g.telefono,onChange:A,fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:12,children:(0,m.jsx)(Lf,{label:"Email",name:"email",type:"email",value:g.email,onChange:A,fullWidth:!0})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsxs)(fd,{fullWidth:!0,children:[(0,m.jsx)(id,{children:"Tipo de Evento"}),(0,m.jsxs)(Nf,{name:"tipo_evento",value:g.tipo_evento,onChange:A,label:"Tipo de Evento",children:[(0,m.jsx)($g,{value:"cumpleanos",children:"Cumplea\xf1os"}),(0,m.jsx)($g,{value:"reunion",children:"Reuni\xf3n"}),(0,m.jsx)($g,{value:"fiesta",children:"Fiesta"}),(0,m.jsx)($g,{value:"otro",children:"Otro"})]})]})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"N\xfamero de Invitados",name:"numero_invitados",type:"number",value:g.numero_invitados,onChange:A,required:!0,fullWidth:!0,inputProps:{min:1}})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,children:(0,m.jsx)(Lf,{label:"Fecha del Evento",name:"fecha_evento",type:"date",value:g.fecha_evento,onChange:A,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:3,children:(0,m.jsx)(Lf,{label:"Hora Inicio",name:"hora_inicio",type:"time",value:g.hora_inicio,onChange:A,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:3,children:(0,m.jsx)(Lf,{label:"Hora Fin",name:"hora_fin",type:"time",value:g.hora_fin,onChange:A,required:!0,fullWidth:!0,InputLabelProps:{shrink:!0}})}),(0,m.jsx)(Hy,{item:!0,xs:12,children:(0,m.jsx)(Lf,{label:"Descripci\xf3n del Evento",name:"descripcion_evento",value:g.descripcion_evento,onChange:A,multiline:!0,rows:3,fullWidth:!0})})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:_,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:s?"Actualizar":"Crear"})]})]})]}),(0,m.jsxs)(XS,{open:!!a,onClose:T,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:a?"Aprobar Invitado":"Rechazar Invitado"}),(0,m.jsx)(rC,{children:c&&(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{gutterBottom:!0,children:a?"\xbfEst\xe1 seguro de aprobar este invitado?":"\xbfEst\xe1 seguro de rechazar este invitado?"}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Invitado: ",c.nombre," ",c.apellido]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",children:["Evento: ",N(c.tipo_evento)," el ",new Date(c.fecha_evento).toLocaleDateString()]}),!a&&(0,m.jsx)(Lf,{label:"Observaciones (opcional)",name:"observaciones",value:h,onChange:e=>v(e.target.value),multiline:!0,rows:3,fullWidth:!0,sx:{mt:2}})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:T,children:"Cancelar"}),(0,m.jsx)(Qf,{onClick:a?async()=>{try{await xk(c.id),C("Invitado aprobado correctamente"),k(),T()}catch(e){console.error("Error approving invitado:",e),C("Error al aprobar invitado","error")}}:async()=>{try{await wk(c.id,h),C("Invitado rechazado correctamente"),k(),T()}catch(e){console.error("Error rejecting invitado:",e),C("Error al rechazar invitado","error")}},variant:"contained",color:a?"success":"error",children:a?"Aprobar":"Rechazar"})]})]}),(0,m.jsx)(CC,{open:b.open,autoHideDuration:6e3,onClose:E,children:(0,m.jsx)(Qu,{onClose:E,severity:b.severity,children:b.message})})]})},Ek=()=>Iv.get("/privilegios/"),Rk=e=>Iv.post("/privilegios/",e),_k=(e,t)=>Iv.put("/privilegios/".concat(e,"/"),t),Ik=e=>Iv.delete("/privilegios/".concat(e,"/")),Tk=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!1),[a,i]=(0,t.useState)(null),[s,l]=(0,t.useState)({nombre:"",descripcion:"",codigo:""}),[c,d]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:p}=DC(),f=(0,t.useCallback)(function(e){d({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),h=(0,t.useCallback)(async()=>{try{const e=await Ek();n(e.data)}catch(e){console.error("Error loading privileges:",e),f("Error al cargar privilegios","error")}},[f]);(0,t.useEffect)(()=>{h()},[h]);const v=()=>{d(u(u({},c),{},{open:!1}))},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(i(e),l({nombre:e.nombre,descripcion:e.descripcion||"",codigo:e.codigo})):(i(null),l({nombre:"",descripcion:"",codigo:""})),o(!0)},y=()=>{o(!1)},b=e=>{l(u(u({},s),{},{[e.target.name]:e.target.value}))};return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Privilegios"}),p("privileges.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>g(),children:"Nuevo Privilegio"})]}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:e.map(e=>(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsx)(Jy,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:e.nombre}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["C\xf3digo: ",e.codigo]}),(0,m.jsx)(ul,{variant:"body2",color:"textSecondary",children:e.descripcion||"Sin descripci\xf3n"})]}),(0,m.jsxs)(Hs,{children:[p("privileges.edit")&&(0,m.jsx)(Nu,{size:"small",color:"primary",onClick:()=>g(e),children:(0,m.jsx)(EC,{})}),p("privileges.delete")&&(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar este privilegio?"))try{await Ik(e),f("Privilegio eliminado correctamente"),h()}catch(t){console.error("Error deleting privilege:",t),f("Error al eliminar privilegio","error")}})(e.id),children:(0,m.jsx)(RC,{})})]})]})})})},e.id))}),p("privileges.create")||p("privileges.edit")?(0,m.jsxs)(XS,{open:r,onClose:y,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:a?"Editar Privilegio":"Crear Privilegio"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{a?(await _k(a.id,s),f("Privilegio actualizado correctamente")):(await Rk(s),f("Privilegio creado correctamente")),h(),y()}catch(t){console.error("Error saving privilege:",t),f("Error al guardar privilegio","error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,m.jsx)(Lf,{label:"Nombre",name:"nombre",value:s.nombre,onChange:b,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"C\xf3digo",name:"codigo",value:s.codigo,onChange:b,required:!0,fullWidth:!0,helperText:"C\xf3digo \xfanico para identificar el privilegio en el sistema"}),(0,m.jsx)(Lf,{label:"Descripci\xf3n",name:"descripcion",value:s.descripcion,onChange:b,multiline:!0,rows:3,fullWidth:!0})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:y,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:a?"Actualizar":"Crear"})]})]})]}):null,(0,m.jsx)(CC,{open:c.open,autoHideDuration:6e3,onClose:v,children:(0,m.jsx)(Qu,{onClose:v,severity:c.severity,children:c.message})})]})},Ak=(e,t)=>Iv.post("/rostros/procesar_acceso_automatico/",{embedding:JSON.stringify(e),imagen:t}),Pk=()=>Iv.get("/rostros/estadisticas/"),Nk=()=>Iv.get("/configuracion-reconocimiento/obtener_configuracion/"),Mk=(e,t,n)=>Iv.post("/rostros/registrar_rostro/",{usuario_id:e,embedding:JSON.stringify(t),imagen:n}),Ok=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;return Iv.post("/rostros/reconocer_rostro/",{embedding:JSON.stringify(e),umbral:t})},Dk=()=>Iv.get("/rostros/"),jk=e=>Iv.delete("/rostros/".concat(e,"/")),Fk=(e,t,n,r)=>Iv.post("/accesos/registrar_acceso/",{usuario_id:e,tipo_acceso:t,confianza:n,imagen:r}),Lk=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Iv.get("/accesos/",{params:e})},Bk=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:a}=DC();(0,t.useEffect)(()=>{i()},[]);const i=async()=>{try{const e=await Dk();n(e.data)}catch(e){console.error("Error cargando rostros:",e),s("Error al cargar los rostros","error")}},s=function(e){o({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},l=()=>{o(u(u({},r),{},{open:!1}))};return(0,m.jsxs)(Hs,{sx:{p:3},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Rostros Registrados"}),(0,m.jsx)(ul,{variant:"body1",gutterBottom:!0,children:"Administre los rostros registrados en el sistema de reconocimiento facial."}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:e.map(e=>(0,m.jsx)(Hy,{item:!0,xs:12,md:6,lg:4,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(ul,{variant:"h6",gutterBottom:!0,children:[e.usuario_info.first_name," ",e.usuario_info.last_name]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["CI: ",e.usuario_info.ci]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",children:["Registrado: ",new Date(e.fecha_registro).toLocaleDateString()]}),(0,m.jsx)(Hs,{sx:{mt:1},children:(0,m.jsx)(wg,{label:e.esta_activo?"Activo":"Inactivo",color:e.esta_activo?"success":"default",size:"small"})})]}),(0,m.jsx)(Hs,{children:a("facial.delete")&&(0,m.jsx)(Nu,{color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de eliminar este registro de rostro?"))try{await jk(e),s("Rostro eliminado correctamente","success"),i()}catch(t){console.error("Error eliminando rostro:",t),s("Error al eliminar el rostro","error")}})(e.id),size:"small",children:(0,m.jsx)(RC,{})})})]}),e.imagen_referencia&&(0,m.jsx)(Hs,{sx:{mt:2,textAlign:"center"},children:(0,m.jsx)("img",{src:e.imagen_referencia,alt:"Rostro de ".concat(e.usuario_info.first_name),style:{maxWidth:"100%",maxHeight:"200px",border:"1px solid #ddd",borderRadius:"4px"}})})]})})},e.id))}),0===e.length&&(0,m.jsx)(Hs,{sx:{textAlign:"center",py:4},children:(0,m.jsx)(ul,{variant:"body1",color:"text.secondary",children:"No hay rostros registrados en el sistema."})}),(0,m.jsx)(CC,{open:r.open,autoHideDuration:6e3,onClose:l,children:(0,m.jsx)(Qu,{onClose:l,severity:r.severity,children:r.message})})]})},zk=Lu((0,m.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"})),Wk=Lu((0,m.jsx)("path",{d:"M1 21h22L12 2zm12-3h-2v-2h2zm0-4h-2v-4h2z"})),Uk=Lu((0,m.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"})),Vk=Lu((0,m.jsx)("path",{d:"M8 5v14l11-7z"})),Hk=Lu((0,m.jsx)("path",{d:"M6 6h12v12H6z"}));var qk=function(e,t){return(qk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function Gk(e,t){function n(){this.constructor=e}qk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function Kk(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(i,s)}l((r=r.apply(e,t||[])).next())})}function Xk(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var $k=function(){function e(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.populateURLFlags()}return e.prototype.setPlatform=function(e,t){null!=this.platform&&console.warn("Platform "+this.platformName+" has already been set. Overwriting the platform with "+t+"."),this.platformName=e,this.platform=t},e.prototype.registerFlag=function(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){var r=this.urlFlags[e];console.warn("Setting feature override from URL "+e+": "+r+"."),this.set(e,r)}},e.prototype.get=function(e){return e in this.flags||(this.flags[e]=this.evaluateFlag(e)),this.flags[e]},e.prototype.getNumber=function(e){return this.get(e)},e.prototype.getBool=function(e){return this.get(e)},e.prototype.getFlags=function(){return this.flags},Object.defineProperty(e.prototype,"features",{get:function(){return this.flags},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){if(null==this.flagRegistry[e])throw new Error("Cannot set flag "+e+" as it has not been registered.");this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)},e.prototype.evaluateFlag=function(e){if(null==this.flagRegistry[e])throw new Error("Cannot evaluate flag '"+e+"': no evaluation function found.");return this.flagRegistry[e].evaluationFn()},e.prototype.setFlags=function(e){this.flags=Object.assign({},e)},e.prototype.reset=function(){this.flags={},this.urlFlags={},this.populateURLFlags()},e.prototype.populateURLFlags=function(){var e=this;if(void 0!==this.global&&void 0!==this.global.location&&void 0!==this.global.location.search){var t,n,r=(t=this.global.location.search,n={},t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(n,t[0],t[1]),t.join("=")}),n);"tfjsflags"in r&&r.tfjsflags.split(",").forEach(function(t){var n=t.split(":"),r=n[0],o=n[1];e.urlFlags[r]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error("Could not parse value flag value "+t+" for flag "+e+".")}(r,o)})}},e}();function Yk(){return Qk}var Qk=null,Jk=new Map,Zk=new Map;function eE(e,t){var n=oE(e,t);return Jk.get(n)}function tE(e){for(var t=Jk.entries(),n=[];;){var r=t.next(),o=r.done,a=r.value;if(o)break;var i=a[0],s=a[1];i.split("_")[0]===e&&n.push(s)}return n}function nE(e){var t=e.kernelName,n=e.backendName,r=oE(t,n);if(Jk.has(r))throw new Error("The kernel '"+t+"' for backend '"+n+"' is already registered");Jk.set(r,e)}function rE(e){var t=e.kernelName;Zk.has(t)&&console.warn("Overriding the gradient for '"+t+"'"),Zk.set(t,e)}function oE(e,t){return t+"_"+e}function aE(e){for(var t=e.length,n=0,r=0;t>0;)r=Math.random()*t|0,n=e[--t],e[t]=e[r],e[r]=n}function iE(e,t,n){return Math.max(e,Math.min(t,n))}function sE(e){return e%2==0?e:e+1}function lE(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}function uE(e,t){if(!e)throw new Error("string"==typeof t?t:t())}function cE(e,t,n){void 0===n&&(n=""),uE(hE(e,t),function(){return n+" Shapes "+e+" and "+t+" must match"})}function dE(e){uE(null!=e,function(){return"The input to the tensor constructor must be a non-null value."})}function pE(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=!1),null==t&&(t=[]),Array.isArray(e)||IE(e)&&!n)for(var r=0;r<e.length;++r)pE(e[r],t,n);else t.push(e);return t}function fE(e){if(0===e.length)return 1;for(var t=e[0],n=1;n<e.length;n++)t*=e[n];return t}function hE(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function mE(e){return e%1==0}function vE(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;var t=Math.exp(2*e);return(t-1)/(t+1)}function gE(e){var t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function yE(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function bE(e,t,n){return void 0===t&&(t=function(e){return 0}),new Promise(function(r,o){var a=0,i=function(){if(e())r();else{a++;var s=t(a);null!=n&&a>=n?o():setTimeout(i,s)}};i()})}function xE(e,t){for(var n=1,r=-1,o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error("Shapes can only have 1 implicit size. Found -1 at dim "+r+" and dim "+o);r=o}else if(e[o]<0)throw Error("Shapes can not be < 0. Found "+e[o]+" at dim "+o);if(-1===r){if(t>0&&t!==n)throw Error("Size("+t+") must match the product of shape "+e);return e}if(0===n)throw Error("Cannot infer the missing size in ["+e+"] when there are 0 elements");if(t%n!=0)throw Error("The implicit shape can't be a fractional number. Got "+t+" / "+n);var a=e.slice();return a[r]=t/n,a}function wE(e,t){var n=t.length;return uE((e=null==e?t.map(function(e,t){return t}):[].concat(e)).every(function(e){return e>=-n&&e<n}),function(){return"All values in axis param must be in range [-"+n+", "+n+") but got axis "+e}),uE(e.every(function(e){return mE(e)}),function(){return"All values in axis param must be integers but got axis "+e}),e.map(function(e){return e<0?n+e:e})}function SE(e,t){for(var n=[],r=[],o=null!=t&&Array.isArray(t)&&0===t.length,a=null==t||o?null:wE(t,e).sort(),i=0,s=0;s<e.length;++s){if(null!=a){if(a[i]===s&&1!==e[s])throw new Error("Can't squeeze axis "+s+" since its dim '"+e[s]+"' is not 1");(null==a[i]||a[i]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),a[i]<=s&&i++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function CE(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error("Unknown data type "+e);n=new Uint8Array(t)}return n}function kE(e,t){var n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error("Unknown data type "+e);n=new Array(t)}return n}function EE(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(isNaN(r)||!isFinite(r))throw Error("A tensor of type "+t+" being uploaded contains "+r+".")}}function RE(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function _E(e,t){return"complex64"!==t&&("float32"!==t||"complex64"===e)&&("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)}function IE(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array}function TE(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error("Unknown dtype "+e)}function AE(e){if(null==e)return 0;var t=0;return e.forEach(function(e){return t+=e.length}),t}function PE(e){return"string"==typeof e||e instanceof String}function NE(e){return"boolean"==typeof e}function ME(e){return"number"==typeof e}function OE(e){return Array.isArray(e)?OE(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array?"int32":ME(e)?"float32":PE(e)?"string":NE(e)?"bool":"float32"}function DE(e){return!!(e&&e.constructor&&e.call&&e.apply)}function jE(e,t){for(var n=t;n<e;++n)if(e%n==0)return n;return e}function FE(e){var t=e.length;if(t<2)return[];var n=new Array(t-1);n[t-2]=e[t-1];for(var r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function LE(e,t,n){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=pE(e)),n&&EE(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){for(var r=new Uint8Array(e.length),o=0;o<r.length;++o)0!==Math.round(e[o])&&(r[o]=1);return r}throw new Error("Unknown data type "+t)}function BE(e,t){if(0===e.length)return t[0];var n=e.reduce(function(e,t){return e*t});if(0===n)return[];if(n!==t.length)throw new Error("["+e+"] does not match the input size.");return function e(t,n,r){var o=new Array;if(1===n.length)for(var a=n[0],i=0;i<a;i++)o[i]=r[t+i];else{a=n[0];var s=n.slice(1),l=s.reduce(function(e,t){return e*t});for(i=0;i<a;i++)o[i]=e(t+i*l,s,r)}return o}(0,e,t)}function zE(e,t){for(var n=WE(e,t),r=0;r<n.length;r++)n[r]=1;return n}function WE(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error("Unknown data type "+t)}function UE(){return Yk().platform.now()}function VE(e){e.forEach(function(t){uE(Number.isInteger(t)&&t>=0,function(){return"Tensor must have a shape comprised of positive integers but got shape ["+e+"]."})})}function HE(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",Yk().platform.encode(e,t)}function qE(e,t){return void 0===t&&(t="utf-8"),t=t||"utf-8",Yk().platform.decode(e,t)}function GE(e,t,n){if(0===t)return 0;if(1===t)return e[0];for(var r=e[e.length-1],o=0;o<e.length-1;++o)r+=n[o]*e[o];return r}function KE(e,t,n){if(0===t)return[];if(1===t)return[e];for(var r=new Array(t),o=0;o<r.length-1;++o)r[o]=Math.floor(e/n[o]),e-=r[o]*n[o];return r[r.length-1]=e,r}Object.freeze({shuffle:aE,clamp:iE,nearestLargerEven:sE,sum:lE,randUniform:function(e,t){var n=Math.random();return t*n+(1-n)*e},distSquared:function(e,t){for(var n=0,r=0;r<e.length;r++){var o=Number(e[r])-Number(t[r]);n+=o*o}return n},assert:uE,assertShapesMatch:cE,assertNonNull:dE,flatten:pE,sizeFromShape:fE,isScalarShape:function(e){return 0===e.length},arraysEqual:hE,isInt:mE,tanh:vE,sizeToSquarishShape:gE,createShuffledIndices:function(e){for(var t=new Uint32Array(e),n=0;n<e;++n)t[n]=n;return aE(t),t},rightPad:yE,repeatedTry:bE,inferFromImplicitShape:xE,parseAxisParam:wE,squeezeShape:SE,getTypedArrayFromDType:CE,getArrayFromDType:kE,checkConversionForErrors:EE,isValidDtype:RE,hasEncodingLoss:_E,isTypedArray:IE,bytesPerElement:TE,bytesFromStringArray:AE,isString:PE,isBoolean:NE,isNumber:ME,inferDtype:OE,isFunction:DE,nearestDivisor:jE,computeStrides:FE,toTypedArray:LE,toNestedArray:BE,makeOnesTypedArray:zE,makeZerosTypedArray:WE,now:UE,assertNonNegativeIntegerDimensions:VE,fetch:function(e,t){return Yk().platform.fetch(e,t)},encodeString:HE,decodeString:qE,locToIndex:GE,indexToLoc:KE});var XE=function(){function e(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new $E)}return e.prototype.profileKernel=function(e,t,n){var r,o=this,a=this.backendTimer.time(function(){r=n()});return r.forEach(function(n){n.data().then(function(r){!function(e,t,n){if("float32"!==t)return!1;for(var r=0;r<e.length;r++){var o=e[r];if(isNaN(o)||!isFinite(o))return console.warn("Found "+o+" in the result of '"+n+"'"),!0}}(r,n.dtype,e),a.then(function(a){var i="";null!=a.getExtraProfileInfo&&(i=a.getExtraProfileInfo()),o.logger.logKernelProfile(e,n,r,a.kernelMs,t,i)})})}),r},e}(),$E=function(){function e(){}return e.prototype.logKernelProfile=function(e,t,n,r,o,a){var i="number"==typeof r?yE(r+"ms",9):r.error,s=yE(e,25),l=t.rank,u=t.size,c=yE(t.shape.toString(),14),d="";for(var p in o){var f=o[p].shape||t.shape,h=f.length;d+=p+": "+h+"D "+(h>0?f:"")+" "}console.log("%c"+s+"\t%c"+i+"\t%c"+l+"D "+c+"\t%c"+u+"\t%c"+d+"\t%c"+a,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")},e}();function YE(e,t,n){return yE(Array.isArray(e)?parseFloat(e[0].toFixed(7))+" + "+parseFloat(e[1].toFixed(7))+"j":PE(e)?"'"+e+"'":"bool"===n?QE(e):parseFloat(e.toFixed(7)).toString(),t)}function QE(e){return 0===e?"false":"true"}function JE(e){for(var t=[],n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var ZE=function(){function e(e,t,n){var r=this;if(this.dtype=t,this.shape=e.slice(),this.size=fE(e),null!=n){var o=n.length;uE(o===this.size,function(){return"Length of values '"+o+"' does not match the size inferred by the shape '"+r.size+"'."})}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||kE(t,this.size),this.strides=FE(e)}return e.prototype.set=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];0===n.length&&(n=[0]),uE(n.length===this.rank,function(){return"The number of provided coordinates ("+n.length+") must match the rank ("+t.rank+")"});var o=this.locToIndex(n);this.values[o]=e},e.prototype.get=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0===e.length&&(e=[0]);for(var n=0,r=0,o=e;r<o.length;r++){var a=o[r];if(a<0||a>=this.shape[n]){var i="Requested out of range element at "+e+".   Buffer shape="+this.shape;throw new Error(i)}n++}for(var s=e[e.length-1],l=0;l<e.length-1;++l)s+=this.strides[l]*e[l];return this.values[s]},e.prototype.locToIndex=function(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];for(var t=e[e.length-1],n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t},e.prototype.indexToLoc=function(e){if(0===this.rank)return[];if(1===this.rank)return[e];for(var t=new Array(this.shape.length),n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.toTensor=function(){return eR().makeTensor(this.values,this.shape,this.dtype)},e}(),eR=null,tR=null,nR=null,rR=function(){function e(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=fE(e),this.strides=FE(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}return e.prototype.flatten=function(){return this.throwIfDisposed(),this.as1D()},e.prototype.asScalar=function(){return this.throwIfDisposed(),uE(1===this.size,function(){return"The array must have only 1 element."}),this.reshape([])},e.prototype.as1D=function(){return this.throwIfDisposed(),this.reshape([this.size])},e.prototype.as2D=function(e,t){return this.throwIfDisposed(),this.reshape([e,t])},e.prototype.as3D=function(e,t,n){return this.throwIfDisposed(),this.reshape([e,t,n])},e.prototype.as4D=function(e,t,n,r){return this.throwIfDisposed(),this.reshape([e,t,n,r])},e.prototype.as5D=function(e,t,n,r,o){return this.throwIfDisposed(),this.reshape([e,t,n,r,o])},e.prototype.asType=function(e){return this.throwIfDisposed(),tR.cast(this,e)},Object.defineProperty(e.prototype,"rank",{get:function(){return this.shape.length},enumerable:!0,configurable:!0}),e.prototype.buffer=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,tR.buffer(this.shape,this.dtype,e)]}})})},e.prototype.bufferSync=function(){return tR.buffer(this.shape,this.dtype,this.dataSync())},e.prototype.array=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return[4,this.data()];case 1:return e=t.sent(),[2,BE(this.shape,e)]}})})},e.prototype.arraySync=function(){return BE(this.shape,this.dataSync())},e.prototype.data=function(){return Kk(this,void 0,void 0,function(){var e,t;return Xk(this,function(n){switch(n.label){case 0:return this.throwIfDisposed(),e=eR().read(this.dataId),"string"!==this.dtype?[3,2]:[4,e];case 1:t=n.sent();try{return[2,t.map(function(e){return qE(e)})]}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}case 2:return[2,e]}})})},e.prototype.dataSync=function(){this.throwIfDisposed();var e=eR().readSync(this.dataId);if("string"===this.dtype)try{return e.map(function(e){return qE(e)})}catch(e){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e},e.prototype.bytes=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return this.throwIfDisposed(),[4,eR().read(this.dataId)];case 1:return e=t.sent(),"string"===this.dtype?[2,e]:[2,new Uint8Array(e.buffer)]}})})},e.prototype.dispose=function(){this.isDisposed||(eR().disposeTensor(this),this.isDisposedInternal=!0)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.isDisposedInternal},enumerable:!0,configurable:!0}),e.prototype.throwIfDisposed=function(){if(this.isDisposed)throw new Error("Tensor is disposed.")},e.prototype.toFloat=function(){return this.asType("float32")},e.prototype.toInt=function(){return this.asType("int32")},e.prototype.toBool=function(){return this.asType("bool")},e.prototype.print=function(e){return void 0===e&&(e=!1),tR.print(this,e)},e.prototype.reshape=function(e){return this.throwIfDisposed(),tR.reshape(this,e)},e.prototype.reshapeAs=function(e){return this.throwIfDisposed(),this.reshape(e.shape)},e.prototype.expandDims=function(e){return void 0===e&&(e=0),tR.expandDims(this,e)},e.prototype.cumsum=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=!1),void 0===n&&(n=!1),tR.cumsum(this,e,t,n)},e.prototype.squeeze=function(e){return this.throwIfDisposed(),tR.squeeze(this,e)},e.prototype.clone=function(){return this.throwIfDisposed(),tR.clone(this)},e.prototype.oneHot=function(e,t,n){return this.throwIfDisposed(),tR.oneHot(this,e,t,n)},e.prototype.toString=function(e){return void 0===e&&(e=!1),function(e,t,n,r){var o=FE(t),a=function(e,t,n,r){var o=fE(t),a=r[r.length-1],i=new Array(a).fill(0),s=t.length,l="complex64"===n?JE(e):e;if(s>1)for(var u=0;u<o/a;u++)for(var c=u*a,d=0;d<a;d++)i[d]=Math.max(i[d],YE(l[c+d],0,n).length);return i}(e,t,n,o),i=t.length,s=function e(t,n,r,o,a,i){void 0===i&&(i=!0);var s="complex64"===r?2:1,l=n[0],u=n.length;if(0===u)return"complex64"===r?[YE(JE(t)[0],0,r)]:"bool"===r?[QE(t[0])]:[t[0].toString()];if(1===u){if(l>20){var c=3*s,d=Array.from(t.slice(0,c)),p=Array.from(t.slice((l-3)*s,l*s));return"complex64"===r&&(d=JE(d),p=JE(p)),["["+d.map(function(e,t){return YE(e,a[t],r)}).join(", ")+", ..., "+p.map(function(e,t){return YE(e,a[l-3+t],r)}).join(", ")+"]"]}return["["+("complex64"===r?JE(t):Array.from(t)).map(function(e,t){return YE(e,a[t],r)}).join(", ")+"]"]}var f=n.slice(1),h=o.slice(1),m=o[0]*s,v=[];if(l>20){for(var g=0;g<3;g++){var y=(b=g*m)+m;v.push.apply(v,e(t.slice(b,y),f,r,h,a,!1))}for(v.push("..."),g=l-3;g<l;g++)y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),f,r,h,a,g===l-1))}else for(g=0;g<l;g++){var b;y=(b=g*m)+m,v.push.apply(v,e(t.slice(b,y),f,r,h,a,g===l-1))}var x=2===u?",":"";for(v[0]="["+v[0]+x,g=1;g<v.length-1;g++)v[g]=" "+v[g]+x;var w=",\n";for(g=2;g<u;g++)w+="\n";return v[v.length-1]=" "+v[v.length-1]+"]"+(i?"":w),v}(e,t,n,o,a),l=["Tensor"];return r&&(l.push("  dtype: "+n),l.push("  rank: "+i),l.push("  shape: ["+t+"]"),l.push("  values:")),l.push(s.map(function(e){return"    "+e}).join("\n")),l.join("\n")}(this.dataSync(),this.shape,this.dtype,e)},e.prototype.tile=function(e){return this.throwIfDisposed(),tR.tile(this,e)},e.prototype.gather=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),tR.gather(this,e,t)},e.prototype.matMul=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),this.throwIfDisposed(),tR.matMul(this,e,t,n)},e.prototype.dot=function(e){return this.throwIfDisposed(),tR.dot(this,e)},e.prototype.norm=function(e,t,n){return void 0===e&&(e="euclidean"),void 0===t&&(t=null),void 0===n&&(n=!1),this.throwIfDisposed(),tR.norm(this,e,t,n)},e.prototype.slice=function(e,t){return this.throwIfDisposed(),tR.slice(this,e,t)},e.prototype.reverse=function(e){return this.throwIfDisposed(),tR.reverse(this,e)},e.prototype.concat=function(t,n){return void 0===n&&(n=0),this.throwIfDisposed(),t instanceof e&&(t=[t]),tR.concat([this].concat(t),n)},e.prototype.split=function(e,t){return void 0===t&&(t=0),this.throwIfDisposed(),tR.split(this,e,t)},e.prototype.stack=function(e,t){return void 0===t&&(t=0),tR.stack([this,e],t)},e.prototype.unstack=function(e){return void 0===e&&(e=0),tR.unstack(this,e)},e.prototype.pad=function(e,t){return void 0===t&&(t=0),tR.pad(this,e,t)},e.prototype.batchNormalization=function(e,t,n,r,o){return void 0===n&&(n=.001),nR("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon"),this.batchNorm(e,t,o,r,n)},e.prototype.batchNorm=function(e,t,n,r,o){return void 0===o&&(o=.001),this.throwIfDisposed(),tR.batchNorm(this,e,t,n,r,o)},e.prototype.all=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.all(this,e,t)},e.prototype.any=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.any(this,e,t)},e.prototype.logSumExp=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.logSumExp(this,e,t)},e.prototype.sum=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.sum(this,e,t)},e.prototype.prod=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.prod(this,e,t)},e.prototype.mean=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.mean(this,e,t)},e.prototype.min=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.min(this,e,t)},e.prototype.max=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=!1),this.throwIfDisposed(),tR.max(this,e,t)},e.prototype.argMin=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),tR.argMin(this,e)},e.prototype.argMax=function(e){return void 0===e&&(e=null),this.throwIfDisposed(),tR.argMax(this,e)},e.prototype.cast=function(e){return this.throwIfDisposed(),tR.cast(this,e)},e.prototype.add=function(e){return this.throwIfDisposed(),tR.add(this,e)},e.prototype.addStrict=function(e){return this.throwIfDisposed(),tR.addStrict(this,e)},e.prototype.atan2=function(e){return this.throwIfDisposed(),tR.atan2(this,e)},e.prototype.sub=function(e){return this.throwIfDisposed(),tR.sub(this,e)},e.prototype.subStrict=function(e){return this.throwIfDisposed(),tR.subStrict(this,e)},e.prototype.pow=function(e){return this.throwIfDisposed(),tR.pow(this,e)},e.prototype.powStrict=function(e){return this.throwIfDisposed(),tR.powStrict(this,e)},e.prototype.mul=function(e){return this.throwIfDisposed(),tR.mul(this,e)},e.prototype.mulStrict=function(e){return this.throwIfDisposed(),tR.mulStrict(this,e)},e.prototype.div=function(e){return this.throwIfDisposed(),tR.div(this,e)},e.prototype.divNoNan=function(e){return this.throwIfDisposed(),tR.divNoNan(this,e)},e.prototype.floorDiv=function(e){return this.throwIfDisposed(),tR.floorDiv(this,e)},e.prototype.divStrict=function(e){return this.throwIfDisposed(),tR.divStrict(this,e)},e.prototype.minimum=function(e){return this.throwIfDisposed(),tR.minimum(this,e)},e.prototype.minimumStrict=function(e){return this.throwIfDisposed(),tR.minimumStrict(this,e)},e.prototype.maximum=function(e){return this.throwIfDisposed(),tR.maximum(this,e)},e.prototype.maximumStrict=function(e){return this.throwIfDisposed(),tR.maximumStrict(this,e)},e.prototype.mod=function(e){return this.throwIfDisposed(),tR.mod(this,e)},e.prototype.modStrict=function(e){return this.throwIfDisposed(),tR.modStrict(this,e)},e.prototype.squaredDifferenceStrict=function(e){return this.throwIfDisposed(),tR.squaredDifferenceStrict(this,e)},e.prototype.transpose=function(e){return this.throwIfDisposed(),tR.transpose(this,e)},e.prototype.notEqual=function(e){return this.throwIfDisposed(),tR.notEqual(this,e)},e.prototype.notEqualStrict=function(e){return this.throwIfDisposed(),tR.notEqualStrict(this,e)},e.prototype.less=function(e){return this.throwIfDisposed(),tR.less(this,e)},e.prototype.lessStrict=function(e){return this.throwIfDisposed(),tR.lessStrict(this,e)},e.prototype.equal=function(e){return this.throwIfDisposed(),tR.equal(this,e)},e.prototype.equalStrict=function(e){return this.throwIfDisposed(),tR.equalStrict(this,e)},e.prototype.lessEqual=function(e){return this.throwIfDisposed(),tR.lessEqual(this,e)},e.prototype.lessEqualStrict=function(e){return this.throwIfDisposed(),tR.lessEqualStrict(this,e)},e.prototype.greater=function(e){return this.throwIfDisposed(),tR.greater(this,e)},e.prototype.greaterStrict=function(e){return this.throwIfDisposed(),tR.greaterStrict(this,e)},e.prototype.greaterEqual=function(e){return this.throwIfDisposed(),tR.greaterEqual(this,e)},e.prototype.greaterEqualStrict=function(e){return this.throwIfDisposed(),tR.greaterEqualStrict(this,e)},e.prototype.logicalAnd=function(e){return this.throwIfDisposed(),tR.logicalAnd(this,e)},e.prototype.logicalOr=function(e){return this.throwIfDisposed(),tR.logicalOr(this,e)},e.prototype.logicalNot=function(){return this.throwIfDisposed(),tR.logicalNot(this)},e.prototype.logicalXor=function(e){return this.throwIfDisposed(),tR.logicalXor(this,e)},e.prototype.where=function(e,t){return this.throwIfDisposed(),tR.where(e,this,t)},e.prototype.neg=function(){return this.throwIfDisposed(),tR.neg(this)},e.prototype.ceil=function(){return this.throwIfDisposed(),tR.ceil(this)},e.prototype.floor=function(){return this.throwIfDisposed(),tR.floor(this)},e.prototype.sign=function(){return this.throwIfDisposed(),tR.sign(this)},e.prototype.isNaN=function(){return this.throwIfDisposed(),tR.isNaN(this)},e.prototype.isInf=function(){return this.throwIfDisposed(),tR.isInf(this)},e.prototype.isFinite=function(){return this.throwIfDisposed(),tR.isFinite(this)},e.prototype.exp=function(){return this.throwIfDisposed(),tR.exp(this)},e.prototype.expm1=function(){return this.throwIfDisposed(),tR.expm1(this)},e.prototype.log=function(){return this.throwIfDisposed(),tR.log(this)},e.prototype.log1p=function(){return this.throwIfDisposed(),tR.log1p(this)},e.prototype.sqrt=function(){return this.throwIfDisposed(),tR.sqrt(this)},e.prototype.rsqrt=function(){return this.throwIfDisposed(),tR.rsqrt(this)},e.prototype.square=function(){return this.throwIfDisposed(),tR.square(this)},e.prototype.reciprocal=function(){return this.throwIfDisposed(),tR.reciprocal(this)},e.prototype.abs=function(){return this.throwIfDisposed(),tR.abs(this)},e.prototype.clipByValue=function(e,t){return this.throwIfDisposed(),tR.clipByValue(this,e,t)},e.prototype.relu=function(){return this.throwIfDisposed(),tR.relu(this)},e.prototype.relu6=function(){return this.throwIfDisposed(),tR.relu6(this)},e.prototype.elu=function(){return this.throwIfDisposed(),tR.elu(this)},e.prototype.selu=function(){return this.throwIfDisposed(),tR.selu(this)},e.prototype.leakyRelu=function(e){return void 0===e&&(e=.2),this.throwIfDisposed(),tR.leakyRelu(this,e)},e.prototype.prelu=function(e){return this.throwIfDisposed(),tR.prelu(this,e)},e.prototype.sigmoid=function(){return this.throwIfDisposed(),tR.sigmoid(this)},e.prototype.logSigmoid=function(){return this.throwIfDisposed(),tR.logSigmoid(this)},e.prototype.softplus=function(){return this.throwIfDisposed(),tR.softplus(this)},e.prototype.zerosLike=function(){return this.throwIfDisposed(),tR.zerosLike(this)},e.prototype.onesLike=function(){return this.throwIfDisposed(),tR.onesLike(this)},e.prototype.sin=function(){return this.throwIfDisposed(),tR.sin(this)},e.prototype.cos=function(){return this.throwIfDisposed(),tR.cos(this)},e.prototype.tan=function(){return this.throwIfDisposed(),tR.tan(this)},e.prototype.asin=function(){return this.throwIfDisposed(),tR.asin(this)},e.prototype.acos=function(){return this.throwIfDisposed(),tR.acos(this)},e.prototype.atan=function(){return this.throwIfDisposed(),tR.atan(this)},e.prototype.sinh=function(){return this.throwIfDisposed(),tR.sinh(this)},e.prototype.cosh=function(){return this.throwIfDisposed(),tR.cosh(this)},e.prototype.tanh=function(){return this.throwIfDisposed(),tR.tanh(this)},e.prototype.asinh=function(){return this.throwIfDisposed(),tR.asinh(this)},e.prototype.acosh=function(){return this.throwIfDisposed(),tR.acosh(this)},e.prototype.atanh=function(){return this.throwIfDisposed(),tR.atanh(this)},e.prototype.erf=function(){return this.throwIfDisposed(),tR.erf(this)},e.prototype.round=function(){return this.throwIfDisposed(),tR.round(this)},e.prototype.step=function(e){return void 0===e&&(e=0),this.throwIfDisposed(),tR.step(this,e)},e.prototype.softmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),tR.softmax(this,e)},e.prototype.logSoftmax=function(e){return void 0===e&&(e=-1),this.throwIfDisposed(),tR.logSoftmax(this,e)},e.prototype.resizeBilinear=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),tR.image.resizeBilinear(this,e,t)},e.prototype.resizeNearestNeighbor=function(e,t){return void 0===t&&(t=!1),this.throwIfDisposed(),tR.image.resizeNearestNeighbor(this,e,t)},e.prototype.conv1d=function(e,t,n,r,o,a){return void 0===r&&(r="NWC"),void 0===o&&(o=1),this.throwIfDisposed(),tR.conv1d(this,e,t,n,r,o,a)},e.prototype.conv2d=function(e,t,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),tR.conv2d(this,e,t,n,r,o,a)},e.prototype.conv2dTranspose=function(e,t,n,r,o){return this.throwIfDisposed(),tR.conv2dTranspose(this,e,t,n,r,o)},e.prototype.depthwiseConv2D=function(e,t,n,r,o,a){return void 0===r&&(r="NHWC"),void 0===o&&(o=[1,1]),this.throwIfDisposed(),tR.depthwiseConv2d(this,e,t,n,r,o,a)},e.prototype.separableConv2d=function(e,t,n,r,o,a){return void 0===o&&(o=[1,1]),void 0===a&&(a="NHWC"),this.throwIfDisposed(),tR.separableConv2d(this,e,t,n,r,o,a)},e.prototype.avgPool=function(e,t,n,r){return this.throwIfDisposed(),tR.avgPool(this,e,t,n,r)},e.prototype.maxPool=function(e,t,n,r){return this.throwIfDisposed(),tR.maxPool(this,e,t,n,r)},e.prototype.localResponseNormalization=function(e,t,n,r){return void 0===e&&(e=5),void 0===t&&(t=1),void 0===n&&(n=1),void 0===r&&(r=.5),tR.localResponseNormalization(this,e,t,n,r)},e.prototype.pool=function(e,t,n,r,o){return this.throwIfDisposed(),tR.pool(this,e,t,n,r,o)},e.prototype.variable=function(e,t,n){return void 0===e&&(e=!0),this.throwIfDisposed(),eR().makeVariable(this,e,t,n)},e.prototype.unsortedSegmentSum=function(e,t){return this.throwIfDisposed(),tR.unsortedSegmentSum(this,e,t)},e.prototype.batchToSpaceND=function(e,t){return this.throwIfDisposed(),tR.batchToSpaceND(this,e,t)},e.prototype.spaceToBatchND=function(e,t){return this.throwIfDisposed(),tR.spaceToBatchND(this,e,t)},e.prototype.topk=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=!0),this.throwIfDisposed(),tR.topk(this,e,t)},e.prototype.stridedSlice=function(e,t,n,r,o,a,i,s){return void 0===r&&(r=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),this.throwIfDisposed(),tR.stridedSlice(this,e,t,n,r,o,a,i,s)},e.prototype.depthToSpace=function(e,t){return this.throwIfDisposed(),tR.depthToSpace(this,e,t)},e.prototype.fft=function(){return this.throwIfDisposed(),tR.spectral.fft(this)},e.prototype.ifft=function(){return this.throwIfDisposed(),tR.spectral.ifft(this)},e.prototype.rfft=function(){return this.throwIfDisposed(),tR.spectral.rfft(this)},e.prototype.irfft=function(){return this.throwIfDisposed(),tR.spectral.irfft(this)},e}();Object.defineProperty(rR,Symbol.hasInstance,{value:function(e){return!!e&&null!=e.dataId&&null!=e.shape&&null!=e.dtype}});var oR,aR,iR,sR,lR,uR=function(e){function t(t,n,r,o){var a=e.call(this,t.shape,t.dtype,t.dataId,o)||this;return a.trainable=n,a.name=r,a}return Gk(t,e),t.prototype.assign=function(e){if(e.dtype!==this.dtype)throw new Error("dtype of the new value ("+e.dtype+") and previous value ("+this.dtype+") must match");if(!hE(e.shape,this.shape))throw new Error("shape of the new value ("+e.shape+") and previous value ("+this.shape+") must match");eR().disposeTensor(this),this.dataId=e.dataId,eR().incRef(this,null)},t.prototype.dispose=function(){eR().disposeVariable(this),this.isDisposedInternal=!0},t}(rR);Object.defineProperty(uR,Symbol.hasInstance,{value:function(e){return e instanceof rR&&null!=e.assign&&e.assign instanceof Function}}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(oR||(oR={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(aR||(aR={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(iR||(iR={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(sR||(sR={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(lR||(lR={}));var cR={float32:sR,int32:aR,bool:iR,complex64:lR};function dR(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error("Can not upcast "+e+" with "+t)}return cR[e][t]}function pR(e){return dR(e,"int32")}function fR(e,t){if(e.dtype===t.dtype)return[e,t];var n=dR(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function hR(e,t){uE(e.dtype===t.dtype,function(){return"The dtypes of the first("+e.dtype+") and second("+t.dtype+") input must match"})}function mR(e){var t=[];return function e(t,n,r){if(null!=t)if(t instanceof rR)n.push(t);else if(o=t,Array.isArray(o)||"object"==typeof o){var o,a=t;for(var i in a){var s=a[i];r.has(s)||(r.add(s),e(s,n,r))}}}(e,t,new Set),t}Object.freeze({makeTypesMatch:fR,assertTypesMatch:hR,isTensorInList:function(e,t){return t.some(function(t){return t.id===e.id})},getTensorsInContainer:mR});var vR,gR=function(){function e(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null}}return e.prototype.dispose=function(){for(var e in this.registeredVariables)this.registeredVariables[e].dispose()},e}(),yR=function(){function e(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new gR}return e.prototype.ready=function(){return Kk(this,void 0,void 0,function(){var e,t,n;return Xk(this,function(r){switch(r.label){case 0:if(null!=this.pendingBackendInit)return[2,this.pendingBackendInit.then(function(){})];if(null!=this.backendInstance)return[2];e=this.getSortedBackends(),t=0,r.label=1;case 1:return t<e.length?(n=e[t],[4,this.initializeBackend(n).success]):[3,5];case 2:return r.sent()?[4,this.setBackend(n)]:[3,4];case 3:return r.sent(),[2];case 4:return t++,[3,1];case 5:throw new Error("Could not initialize any backends, all backend initializations failed.")}})})},Object.defineProperty(e.prototype,"backend",{get:function(){if(null!=this.pendingBackendInit)throw new Error("Backend '"+this.backendName+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");if(null==this.backendInstance){var e=this.initializeBackendsAndReturnBest(),t=e.name;if(e.asyncInit)throw new Error("The highest priority backend '"+t+"' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods");this.setBackend(t)}return this.backendInstance},enumerable:!0,configurable:!0}),e.prototype.backendNames=function(){return Object.keys(this.registryFactory)},e.prototype.findBackend=function(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;if(this.initializeBackend(e).asyncInit)return null}return this.registry[e]},e.prototype.findBackendFactory=function(e){return e in this.registryFactory?this.registryFactory[e].factory:null},e.prototype.registerBackend=function(e,t,n){return void 0===n&&(n=1),e in this.registryFactory?(console.warn(e+" backend was already registered. Reusing existing backend factory."),!1):(this.registryFactory[e]={factory:t,priority:n},!0)},e.prototype.setBackend=function(e){return Kk(this,void 0,void 0,function(){var t,n,r;return Xk(this,function(o){switch(o.label){case 0:if(null==this.registryFactory[e])throw new Error("Backend name '"+e+"' not found in registry");return this.backendName=e,null!=this.registry[e]?[3,4]:(this.backendInstance=null,t=this.initializeBackend(e),n=t.success,t.asyncInit?[4,n]:[3,2]);case 1:return r=o.sent(),[3,3];case 2:r=n,o.label=3;case 3:if(!r)return[2,!1];o.label=4;case 4:return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new XE(this.backendInstance),[2,!0]}})})},e.prototype.setupRegisteredKernels=function(){var e=this;tE(this.backendName).forEach(function(t){null!=t.setupFunc&&t.setupFunc(e.backendInstance)})},e.prototype.disposeRegisteredKernels=function(e){var t=this;tE(e).forEach(function(n){null!=n.disposeFunc&&n.disposeFunc(t.registry[e])})},e.prototype.initializeBackend=function(e){var t=this,n=this.registryFactory[e];if(null==n)throw new Error("Cannot initialize backend "+e+", no registration found.");try{var r=n.factory();if(Promise.resolve(r)===r){var o=++this.pendingBackendInitId,a=r.then(function(n){return!(o<t.pendingBackendInitId)&&(t.registry[e]=n,t.pendingBackendInit=null,!0)}).catch(function(n){return!(o<t.pendingBackendInitId)&&(t.pendingBackendInit=null,console.warn("Initialization of backend "+e+" failed"),console.warn(n.stack||n.message),!1)});return this.pendingBackendInit=a,{success:a,asyncInit:!0}}return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(t){return console.warn("Initialization of backend "+e+" failed"),console.warn(t.stack||t.message),{success:!1,asyncInit:!1}}},e.prototype.removeBackend=function(e){if(!(e in this.registryFactory))throw new Error(e+" backend not found in registry");this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)},e.prototype.getSortedBackends=function(){var e=this;if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(function(t,n){return e.registryFactory[n].priority-e.registryFactory[t].priority})},e.prototype.initializeBackendsAndReturnBest=function(){for(var e=this.getSortedBackends(),t=0;t<e.length;t++){var n=e[t],r=this.initializeBackend(n),o=r.success,a=r.asyncInit;if(a||o)return{name:n,asyncInit:a}}throw new Error("Could not initialize any backends, all backend initializations failed.")},e.prototype.moveData=function(e,t){var n=this.state.tensorInfo.get(t),r=n.backend,o=this.readSync(t);r.disposeData(t),n.backend=e,e.move(t,o,n.shape,n.dtype),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++},e.prototype.tidy=function(e,t){var n,r=this,o=null;if(null==t){if("function"!=typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!=typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!=typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");o=e}return this.scopedRun(function(){return r.startScope(o)},function(){return r.endScope(n)},function(){return(n=t())instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n})},e.prototype.scopedRun=function(e,t,n){e();try{var r=n();return t(),r}catch(e){throw t(),e}},e.prototype.nextTensorId=function(){return e.nextTensorId++},e.prototype.nextVariableId=function(){return e.nextVariableId++},e.prototype.clone=function(e){var t=this.makeTensorFromDataId(e.dataId,e.shape,e.dtype),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],function(e){return{x:function(){return e.toFloat()}}},[]),t},e.prototype.runKernel=function(e,t,n,r,o){return this.runKernelFunc(null,t,null,e,n,r,o)},e.prototype.shouldCheckForMemLeaks=function(){return this.ENV.getBool("IS_TEST")},e.prototype.checkKernelForMemLeak=function(e,t,n){var r=this.backend.numDataIds(),o=0;n.forEach(function(e){o+="complex64"===e.dtype?3:1});var a=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=r-t-o-a;if(i>0)throw new Error("Backend '"+this.backendName+"' has an internal memory leak ("+i+" data ids) after running '"+e+"'")},e.prototype.runKernelFunc=function(e,t,n,r,o,a,i){var s,l=this;void 0===a&&(a=[]),void 0===i&&(i=[]);var u=[],c=this.isTapeOn();null==r&&(r=null!=this.state.activeScope?this.state.activeScope.name:"");var d,p=function(e){c&&(u=e.map(function(e){return l.keep(l.clone(e))}))},f=this.state.numBytes,h=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);var m,v=eE(r,this.backendName);return d=null!=v?function(){var e=l.backend.numDataIds();m=v.kernelFunc({inputs:t,attrs:o,backend:l.backend});var n=Array.isArray(m)?m:[m];l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,e,n);var s=n.map(function(e){var t=e.dataId,n=e.shape,r=e.dtype;return l.makeTensorFromDataId(t,n,r)}),u=s.filter(function(e,t){return i[t]});return p((a||[]).slice().concat(u)),s}:function(){var t=l.backend.numDataIds();m=l.tidy(function(){return e(l.backend,p)});var n=Array.isArray(m)?m:[m];return l.shouldCheckForMemLeaks()&&l.checkKernelForMemLeak(r,t,n),n},this.scopedRun(function(){return l.state.kernelDepth++},function(){return l.state.kernelDepth--},function(){s=l.ENV.getBool("DEBUG")?l.profiler.profileKernel(r,t,function(){return d()}):d()}),c&&this.addTapeNode(r,t,s,n,u),this.state.profiling&&this.state.activeProfile.kernels.push({name:r,bytesAdded:this.state.numBytes-f,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-h,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(t).map(function(e){return t[e].shape}),outputShapes:s.map(function(e){return e.shape})}),Array.isArray(m)?s:s[0]},e.prototype.makeTensor=function(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;var o=e;"string"===n&&PE(e[0])&&(o=e.map(function(e){return HE(e)}));var a=r.write(o,t,n),i=new rR(t,n,a,this.nextTensorId());if(this.incRef(i,r),"string"===n){var s=this.state.tensorInfo.get(a),l=AE(o);this.state.numBytes+=l-s.bytes,s.bytes=l}return i},e.prototype.makeTensorFromDataId=function(e,t,n,r){var o=new rR(t,n=n||"float32",e,this.nextTensorId());return this.incRef(o,r),o},e.prototype.makeVariable=function(e,t,n,r){void 0===t&&(t=!0),n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.asType(r));var o=new uR(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[o.name])throw new Error("Variable with name "+o.name+" was already registered");return this.state.registeredVariables[o.name]=o,this.incRef(o,this.backend),o},e.prototype.incRef=function(e,t){var n=this.state.tensorInfo.has(e.dataId)?this.state.tensorInfo.get(e.dataId).refCount:0;if(this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++,0===n){this.state.numDataBuffers++;var r=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(r=e.size*TE(e.dtype)),this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:r,refCount:0}),this.state.numBytes+=r}this.state.tensorInfo.get(e.dataId).refCount++,e instanceof uR||this.track(e)},e.prototype.disposeTensor=function(e){if(this.state.tensorInfo.has(e.dataId)){this.state.numTensors--,"string"===e.dtype&&this.state.numStringTensors--;var t=this.state.tensorInfo.get(e.dataId);t.refCount<=1?("complex64"!==e.dtype&&(this.state.numBytes-=t.bytes),this.state.numDataBuffers--,t.backend.disposeData(e.dataId),this.state.tensorInfo.delete(e.dataId)):this.state.tensorInfo.get(e.dataId).refCount--}},e.prototype.disposeVariables=function(){for(var e in this.state.registeredVariables){var t=this.state.registeredVariables[e];this.disposeVariable(t)}},e.prototype.disposeVariable=function(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]},e.prototype.memory=function(){var e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e},e.prototype.profile=function(e){return Kk(this,void 0,void 0,function(){var t,n;return Xk(this,function(r){return this.state.profiling=!0,t=this.state.numBytes,n=this.state.numTensors,this.state.activeProfile.kernels=[],this.state.activeProfile.result=e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max.apply(Math,this.state.activeProfile.kernels.map(function(e){return e.totalBytesSnapshot})),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n,[2,this.state.activeProfile]})})},e.prototype.isTapeOn=function(){return this.state.gradientDepth>0&&0===this.state.kernelDepth},e.prototype.addTapeNode=function(e,t,n,r,o){var a=this,i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:o},s=function(e){return Zk.get(e)}(e);null!=s&&(r=s.gradFunc),null!=r&&(i.gradient=function(e){return e=e.map(function(e,t){if(null==e){var r=n[t],o=WE(r.size,r.dtype);return a.makeTensor(o,r.shape,r.dtype)}return e}),r(e.length>1?e:e[0],o)}),this.state.activeTape.push(i)},e.prototype.keep=function(e){return e.kept=!0,e},e.prototype.startTape=function(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++},e.prototype.endTape=function(){this.state.gradientDepth--},e.prototype.startScope=function(e){var t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t},e.prototype.endScope=function(e){for(var t=this,n=mR(e),r=new Set(n.map(function(e){return e.id})),o=0;o<this.state.activeScope.track.length;o++){var a=this.state.activeScope.track[o];a.kept||r.has(a.id)||a.dispose()}var i=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(function(e){e.kept||e.scopeId!==i.id||t.track(e)})},e.prototype.gradients=function(e,t,n,r){var o=this;if(void 0===r&&(r=!1),uE(t.length>0,function(){return"gradients() received an empty list of xs."}),null!=n&&"float32"!==n.dtype)throw new Error("dy must have 'float32' dtype, but has '"+n.dtype+"'");var a=this.scopedRun(function(){return o.startTape()},function(){return o.endTape()},function(){return o.tidy("forward",e)});uE(a instanceof rR,function(){return"The result y returned by f() must be a tensor."});var i=function(e,t,n){for(var r={},o={},a=0;a<t.length;a++)r[t[a].id]=!0;for(a=0;a<e.length;a++){var i=(h=e[a]).inputs;for(var s in i){for(var l=i[s],u=!1,c=0;c<t.length;c++)if(r[l.id]){h.outputs.forEach(function(e){return r[e.id]=!0}),u=!0,o[h.id]=!0;break}if(u)break}}var d={};d[n.id]=!0;var p={};for(a=e.length-1;a>=0;a--)for(i=(h=e[a]).inputs,c=0;c<h.outputs.length;c++)if(d[h.outputs[c].id]){for(var s in i)d[i[s].id]=!0,p[h.id]=!0;break}var f=[];for(a=0;a<e.length;a++){var h;if(o[(h=e[a]).id]&&p[h.id]){var m={};for(var s in h.inputs){var v=h.inputs[s];r[v.id]&&(m[s]=v)}var g=Object.assign({},h);g.inputs=m,g.outputs=h.outputs,f.push(g)}}return f}(this.state.activeTape,t,a);if(!r&&0===i.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",function(){var e,r,s={};s[a.id]=null==n?(r=zE(fE(e=a.shape),"float32"),bR.makeTensor(r,e,"float32")):n,function(e,t,n){for(var r=function(r){var o=t[r],a=[];if(o.outputs.forEach(function(t){var n=e[t.id];null!=n?a.push(n):a.push(null)}),null==o.gradient)throw new Error("Cannot compute gradient: gradient function not found for "+o.kernelName+".");var i=o.gradient(a),s=function(t){if(!(t in i))throw new Error("Cannot backprop through input "+t+". Available gradients found: "+Object.keys(i)+".");var r=n(function(){return i[t]()});if("float32"!==r.dtype)throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input "+t+" must have 'float32' dtype, but has '"+r.dtype+"'");var a=o.inputs[t];if(!hE(r.shape,a.shape))throw new Error("Error in gradient for op "+o.kernelName+". The gradient of input '"+t+"' has shape '"+r.shape+"', which does not match the shape of the input '"+a.shape+"'");if(null==e[a.id])e[a.id]=r;else{var s=e[a.id];e[a.id]=s.add(r),s.dispose()}};for(var l in o.inputs)s(l)},o=t.length-1;o>=0;o--)r(o)}(s,i,function(e){return o.tidy(e)});var l=t.map(function(e){return s[e.id]});return 0===o.state.gradientDepth&&(o.state.activeTape.forEach(function(e){for(var t=0,n=e.saved;t<n.length;t++)n[t].dispose()}),o.state.activeTape=null),{value:a,grads:l}})},e.prototype.customGrad=function(e){var t=this;return uE(DE(e),function(){return"The f passed in customGrad(f) must be a function."}),function(){for(var n,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];uE(r.every(function(e){return e instanceof rR}),function(){return"The args passed in customGrad(f)(x1, x2,...) must all be tensors"});var a={};return r.forEach(function(e,t){a[t]=e}),t.runKernelFunc(function(t,o){return uE((n=e.apply(void 0,r.concat([o]))).value instanceof rR,function(){return"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"}),uE(DE(n.gradFunc),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."}),n.value},a,function(e,t){var o=n.gradFunc(e,t),a=Array.isArray(o)?o:[o];uE(a.length===r.length,function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."}),uE(a.every(function(e){return e instanceof rR}),function(){return"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."});var i={};return a.forEach(function(e,t){i[t]=function(){return e}}),i})}},e.prototype.readSync=function(e){return this.state.tensorInfo.get(e).backend.readSync(e)},e.prototype.read=function(e){return this.state.tensorInfo.get(e).backend.read(e)},e.prototype.time=function(e){return Kk(this,void 0,void 0,function(){var t,n;return Xk(this,function(r){switch(r.label){case 0:return t=UE(),[4,this.backend.time(e)];case 1:return(n=r.sent()).wallMs=UE()-t,[2,n]}})})},e.prototype.track=function(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e},Object.defineProperty(e.prototype,"registeredVariables",{get:function(){return this.state.registeredVariables},enumerable:!0,configurable:!0}),e.prototype.reset=function(){for(var e in this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new gR,this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null},e.nextTensorId=0,e.nextVariableId=0,e}(),bR=function(){var e=function(){if(null==vR){var e=void 0;if("undefined"!=typeof window)e=window;else if("undefined"!=typeof n.g)e=n.g;else if("undefined"!=typeof process)e=process;else{if("undefined"==typeof self)throw new Error("Could not find a global object");e=self}vR=e}return vR}();if(null==e._tfengine){var t=new $k(e);e._tfengine=new yR(t)}return function(e){Qk=e}(e._tfengine.ENV),eR=function(){return e._tfengine},e._tfengine}();function xR(){return"undefined"!=typeof window&&null!=window.document||"undefined"!=typeof WorkerGlobalScope}var wR=Yk();wR.registerFlag("DEBUG",function(){return!1},function(e){e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")}),wR.registerFlag("IS_BROWSER",function(){return xR()}),wR.registerFlag("IS_NODE",function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node}),wR.registerFlag("IS_CHROME",function(){return"undefined"!=typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}),wR.registerFlag("PROD",function(){return!1}),wR.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",function(){return wR.getBool("DEBUG")}),wR.registerFlag("DEPRECATION_WARNINGS_ENABLED",function(){return!0}),wR.registerFlag("IS_TEST",function(){return!1});var SR,CR,kR,ER={},RR={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function _R(e,t){ER[e]=t}function IR(e){e in ER||(ER[e]=function(e){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");var t=function(e){if("undefined"!=typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!=typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e);return t.addEventListener("webglcontextlost",function(t){t.preventDefault(),delete ER[e]},!1),1===e?t.getContext("webgl",RR)||t.getContext("experimental-webgl",RR):t.getContext("webgl2",RR)}(e));var t=ER[e];return t.isContextLost()?(delete ER[e],IR(e)):(t.disable(t.DEPTH_TEST),t.disable(t.STENCIL_TEST),t.disable(t.BLEND),t.disable(t.DITHER),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SAMPLE_COVERAGE),t.enable(t.SCISSOR_TEST),t.enable(t.CULL_FACE),t.cullFace(t.BACK),ER[e])}function TR(e,t){return[t,e]}function AR(e){var t=fE(e);return gE(Math.ceil(t/4))}function PR(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function NR(e,t){var n,r,o,a,i,s,l,u,c,d=e;return 2===Yk().getNumber("WEBGL_VERSION")?(n=d.R32F,r=d.R16F,o=d.RGBA16F,a=d.RGBA32F,i=d.RED,s=4,l=1,u=d.HALF_FLOAT,c=d.FLOAT):(n=e.RGBA,r=e.RGBA,o=e.RGBA,a=d.RGBA,i=e.RGBA,s=4,l=4,u=null!=t?t.HALF_FLOAT_OES:null,c=e.FLOAT),{internalFormatFloat:n,internalFormatHalfFloat:r,internalFormatPackedHalfFloat:o,internalFormatPackedFloat:a,textureFormatFloat:i,downloadTextureFormat:e.RGBA,downloadUnpackNumChannels:s,defaultNumChannels:l,textureTypeHalfFloat:u,textureTypeFloat:c}}function MR(e,t,n){var r=n();return t&&function(e){var t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+DR(e,t))}(e),r}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(SR||(SR={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(CR||(CR={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(kR||(kR={}));function OR(e){return!!(Yk().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function DR(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"Unknown error code "+t}}function jR(e,t,n){return a_(e,t,function(){return e.getExtension(n)},'Extension "'+n+'" not supported on this browser.')}function FR(e,t,n){var r=a_(e,t,function(){return e.createShader(e.VERTEX_SHADER)},"Unable to create vertex WebGLShader.");if(MR(e,t,function(){return e.shaderSource(r,n)}),MR(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(r)),new Error("Failed to compile vertex shader.");return r}function LR(e,t,n){var r=a_(e,t,function(){return e.createShader(e.FRAGMENT_SHADER)},"Unable to create fragment WebGLShader.");if(MR(e,t,function(){return e.shaderSource(r,n)}),MR(e,t,function(){return e.compileShader(r)}),!1===e.getShaderParameter(r,e.COMPILE_STATUS))throw function(e,t){var n=WR.exec(t);if(null==n)return console.log("Couldn't parse line number in error: "+t),void console.log(e);for(var r=+n[1],o=e.split("\n"),a=o.length.toString().length+2,i=o.map(function(e,t){return yE((t+1).toString(),a)+e}),s=0,l=0;l<i.length;l++)s=Math.max(i[l].length,s);var u=i.slice(0,r-1),c=i.slice(r-1,r),d=i.slice(r);console.log(u.join("\n")),console.log(t.split("\n")[0]),console.log("%c "+yE(c[0],s),"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(n,e.getShaderInfoLog(r)),new Error("Failed to compile fragment shader.");return r}var BR,zR,WR=/ERROR: [0-9]+:([0-9]+):/g;function UR(e,t){return a_(e,t,function(){return e.createProgram()},"Unable to create WebGLProgram.")}function VR(e,t,n){if(MR(e,t,function(){return e.linkProgram(n)}),!1===e.getProgramParameter(n,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Failed to link vertex and fragment shaders.")}function HR(e,t,n){if(MR(e,t,function(){return e.validateProgram(n)}),!1===e.getProgramParameter(n,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(n)),new Error("Shader program validation failed.")}function qR(e,t,n){var r=a_(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return MR(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),MR(e,t,function(){return e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function GR(e,t,n){var r=a_(e,t,function(){return e.createBuffer()},"Unable to create WebGLBuffer");return MR(e,t,function(){return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,r)}),MR(e,t,function(){return e.bufferData(e.ELEMENT_ARRAY_BUFFER,n,e.STATIC_DRAW)}),r}function KR(e,t){return a_(e,t,function(){return e.createTexture()},"Unable to create WebGLTexture.")}function XR(e,t){var n=Yk().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0){var r="["+e+"x"+t+"]";throw new Error("Requested texture size "+r+" is invalid.")}if(e>n||t>n)throw r="["+e+"x"+t+"]",new Error("Requested texture size "+r+" greater than WebGL maximum on this browser / GPU ["+n+"x"+n+"].")}function $R(e,t){return a_(e,t,function(){return e.createFramebuffer()},"Unable to create WebGLFramebuffer.")}function YR(e,t,n,r,o,a,i,s){var l=e.getAttribLocation(n,r);return-1!==l&&(MR(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,o)}),MR(e,t,function(){return e.vertexAttribPointer(l,a,e.FLOAT,!1,i,s)}),MR(e,t,function(){return e.enableVertexAttribArray(l)}),!0)}function QR(e,t,n,r){i_(e,r),MR(e,t,function(){return e.activeTexture(e.TEXTURE0+r)}),MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)})}function JR(e,t,n,r){return a_(e,t,function(){return e.getUniformLocation(n,r)},'uniform "'+r+'" not present in program.')}function ZR(e,t,n){return e.getUniformLocation(t,n)}function e_(e,t,n,r,o,a){MR(e,t,function(){return QR(e,t,r,a)}),MR(e,t,function(){return e.uniform1i(o,a)})}function t_(e,t,n,r){MR(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,r)}),MR(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0)})}function n_(e,t,n){MR(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,n)}),MR(e,t,function(){return e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)})}function r_(e){var t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+o_(e,t))}function o_(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return"unknown error "+t}}function a_(e,t,n,r){var o=MR(e,t,function(){return n()});if(null==o)throw new Error(r);return o}function i_(e,t){var n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n)throw new Error("textureUnit must be in [gl.TEXTURE0, gl.TEXTURE"+n+"].")}function s_(e,t){return void 0===t&&(t=2),fE(e.slice(0,e.length-t))}function l_(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function u_(e){var t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[s_(e)].concat(l_(e))),t}function c_(e,t){var n;void 0===t&&(t=!1);var r=Yk().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(r*=2,1===(e=e.map(function(t,n){return n>=e.length-2?sE(e[n]):e[n]})).length&&(e=[2,e[0]])),2!==e.length){var o=SE(e);e=o.newShape}var a=fE(e);if(e.length<=1&&a<=r)return[1,a];if(2===e.length&&e[0]<=r&&e[1]<=r)return e;if(3===e.length&&e[0]*e[1]<=r&&e[2]<=r)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=r&&e[1]*e[2]<=r)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=r&&e[3]<=r)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=r&&e[1]*e[2]*e[3]<=r)return[e[0],e[1]*e[2]*e[3]];if(t){var i=s_(e),s=2,l=2;return e.length&&(s=(n=l_(e))[0],l=n[1]),gE(a=i*(s/2)*(l/2)).map(function(e){return 2*e})}return gE(a)}function d_(e){return e%2==0}function p_(e,t){if(hE(e=e.slice(-2),t=t.slice(-2)))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){var n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(d_(n)&&d_(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&d_(e[0])&&d_(t[0])}function f_(e){if(null==BR){var t=IR(e);BR=t.getParameter(t.MAX_TEXTURE_SIZE)}return BR}function h_(e){if(null==zR){var t=IR(e);zR=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,zR)}function m_(e){if(0===e)return 0;var t=IR(e);return v_(t,"EXT_disjoint_timer_query_webgl2")&&2===e?2:v_(t,"EXT_disjoint_timer_query")?1:0}function v_(e,t){return null!=e.getExtension(t)}function g_(e){try{if(null!=IR(e))return!0}catch(e){return!1}return!1}function y_(e){if(0===e)return!1;var t=IR(e);if(1===e){if(!v_(t,"OES_texture_float"))return!1}else if(!v_(t,"EXT_color_buffer_float"))return!1;return x_(t)}function b_(e){if(0===e)return!1;var t=IR(e);if(1!==e){if(v_(t,"EXT_color_buffer_float"))return x_(t);if(v_(t,"EXT_color_buffer_half_float")){var n=t.getExtension("EXT_color_buffer_half_float");return function(e,t){var n=NR(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,1,1,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);var o=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,o),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);var a=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(o),a}(t,n)}return!1}return!!v_(t,"OES_texture_float")&&!!v_(t,"WEBGL_color_buffer_float")&&x_(t)}function x_(e){var t=NR(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);var r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);var o=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),o}function w_(e){return 2===e&&null!=IR(e).fenceSync}var S_=Object.freeze({callAndCheck:MR,canBeRepresented:OR,getWebGLErrorMessage:DR,getExtensionOrThrow:jR,createVertexShader:FR,createFragmentShader:LR,createProgram:UR,linkProgram:VR,validateProgram:HR,createStaticVertexBuffer:qR,createStaticIndexBuffer:GR,getNumChannels:function(){return 2===Yk().getNumber("WEBGL_VERSION")?1:4},createTexture:KR,validateTextureSize:XR,createFramebuffer:$R,bindVertexBufferToProgramAttribute:YR,bindTextureUnit:QR,unbindTextureUnit:function(e,t,n){i_(e,n),MR(e,t,function(){return e.activeTexture(e.TEXTURE0+n)}),MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})},getProgramUniformLocationOrThrow:JR,getProgramUniformLocation:ZR,bindTextureToProgramUniformSampler:e_,bindCanvasToFramebuffer:function(e,t){MR(e,t,function(){return e.bindFramebuffer(e.FRAMEBUFFER,null)}),MR(e,t,function(){return e.viewport(0,0,e.canvas.width,e.canvas.height)}),MR(e,t,function(){return e.scissor(0,0,e.canvas.width,e.canvas.height)})},bindColorTextureToFramebuffer:t_,unbindColorTextureFromFramebuffer:n_,validateFramebuffer:r_,getFramebufferErrorMessage:o_,getBatchDim:s_,getRowsCols:l_,getShapeAs3D:u_,getTextureShapeFromLogicalShape:c_,isReshapeFree:p_,getWebGLMaxTextureSize:f_,resetMaxTextureSize:function(){BR=null},resetMaxTexturesInShader:function(){zR=null},getMaxTexturesInShader:h_,getWebGLDisjointQueryTimerVersion:m_,hasExtension:v_,isWebGLVersionEnabled:g_,isCapableOfRenderingToFloatTexture:y_,isDownloadFloatTextureEnabled:b_,isWebGLFenceEnabled:w_}),C_=Yk();function k_(e){Yk().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function E_(e,t){return bR.tidy(e,t)}function R_(e){mR(e).forEach(function(e){return e.dispose()})}function __(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Yk().getBool("IS_TEST")||console.warn.apply(console,e)}function I_(e,t){var n=e;if(IE(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];for(var r=[];Array.isArray(n)||IE(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&Yk().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&function e(t,n,r){if(r=r||[],Array.isArray(t)||IE(t)){uE(n.length>0,function(){return"Element arr["+r.join("][")+"] should be a primitive, but is an array of "+t.length+" elements"}),uE(t.length===n[0],function(){return"Element arr["+r.join("][")+"] should have "+n[0]+" elements, but has "+t.length+" elements"});for(var o=n.slice(1),a=0;a<t.length;++a)e(t[a],o,r.concat(a))}else uE(0===n.length,function(){return"Element arr["+r.join("][")+"] is a primitive, but should be an array/TypedArray of "+n[0]+" elements"})}(e,r,[]),r}function T_(e,t,n,r){if(null!=e&&("numeric"!==e&&e!==t||"numeric"===e&&"string"===t))throw new Error("Argument '"+n+"' passed to '"+r+"' must be "+e+" tensor, but got "+t+" tensor")}function A_(e,t,n,r){if(void 0===r&&(r="numeric"),e instanceof rR)return T_(r,e.dtype,t,n),e;var o=OE(e);if("string"!==o&&["bool","int32","float32"].indexOf(r)>=0&&(o=r),T_(r,o,t,n),null==e||!IE(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e){var a=null==e?"null":e.constructor.name;throw new Error("Argument '"+t+"' passed to '"+n+"' must be a Tensor or TensorLike, but got '"+a+"'")}var i=I_(e,o);IE(e)||Array.isArray(e)||(e=[e]);var s="string"!==o?LE(e,o,Yk().getBool("DEBUG")):pE(e,[],!0);return bR.makeTensor(s,i,o)}function P_(e,t,n,r){if(void 0===r&&(r="numeric"),!Array.isArray(e))throw new Error("Argument "+t+" passed to "+n+" must be a `Tensor[]` or `TensorLike[]`");return e.map(function(e,r){return A_(e,t+"["+r+"]",n)},r)}function N_(e,t){for(var n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function M_(e,t,n){for(var r=e.length+t.length,o=[],a=0,i=0,s=0;s<r;s++)-1===n.indexOf(s)?o.push(e[a++]):o.push(t[i++]);return o}function O_(e,t){for(var n=[],r=e.length,o=0;o<r;o++)-1===t.indexOf(o)&&n.push(e[o]);return[n,t.map(function(t){return e[t]})]}function D_(e,t){return M_(e,t.map(function(e){return 1}),t)}function j_(e,t,n){uE(N_(t,n),function(){return e+" supports only inner-most axes for now. Got axes "+t+" and rank-"+n+" input."})}function F_(e,t){if(N_(e,t))return null;for(var n=[],r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach(function(e){return n.push(e)}),n}function L_(e){return e.map(function(e,t){return[t,e]}).sort(function(e,t){return e[1]-t[1]}).map(function(e){return e[0]})}function B_(e,t){for(var n=[],r=t-e;r<t;++r)n.push(r);return n}function z_(e,t){var n=e[0].length;e.forEach(function(e,t){uE(e.length===n,function(){return"Error in concat"+n+"D: rank of tensors["+t+"] must be the same as the rank of the rest ("+n+")"})}),uE(t>=0&&t<n,function(){return"Error in concat"+n+"D: axis must be between 0 and "+(n-1)+"."});var r=e[0];e.forEach(function(e,o){for(var a=0;a<n;a++)uE(a===t||e[a]===r[a],function(){return"Error in concat"+n+"D: Shape of tensors["+o+"] ("+e+") does not match the shape of the rest ("+r+") along the non-concatenated axis "+o+"."})})}function W_(e,t){for(var n=e[0].slice(),r=1;r<e.length;r++)n[t]+=e[r][t];return n}function U_(e){var t=Object.keys(e);if(1!==t.length)throw new Error("Please provide an object with a single key (operation name) mapping to a function. Got an object with "+t.length+" keys.");var n=t[0],r=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1));var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];bR.startScope(n);try{var o=r.apply(void 0,e);return o instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),bR.endScope(o),o}catch(e){throw bR.endScope(null),e}};return Object.defineProperty(o,"name",{value:n,configurable:!0}),o}C_.registerFlag("HAS_WEBGL",function(){return C_.getNumber("WEBGL_VERSION")>0}),C_.registerFlag("WEBGL_VERSION",function(){return g_(2)?2:g_(1)?1:0}),C_.registerFlag("WEBGL_BUFFER_SUPPORTED",function(){return 2===C_.get("WEBGL_VERSION")}),C_.registerFlag("WEBGL_CPU_FORWARD",function(){return!0}),C_.registerFlag("WEBGL_FORCE_F16_TEXTURES",function(){return!1}),C_.registerFlag("WEBGL_PACK",function(){return C_.getBool("HAS_WEBGL")}),C_.registerFlag("WEBGL_PACK_NORMALIZATION",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_CLIP",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_DEPTHWISECONV",function(){return!1}),C_.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_PACK_REDUCE",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_LAZILY_UNPACK",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_CONV_IM2COL",function(){return C_.getBool("WEBGL_PACK")}),C_.registerFlag("WEBGL_MAX_TEXTURE_SIZE",function(){return f_(C_.getNumber("WEBGL_VERSION"))}),C_.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",function(){return h_(C_.getNumber("WEBGL_VERSION"))}),C_.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",function(){var e=C_.getNumber("WEBGL_VERSION");return 0===e?0:m_(e)}),C_.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",function(){return C_.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&(e=navigator.userAgent||navigator.vendor||window.opera,!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))));var e}),C_.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",function(){return y_(C_.getNumber("WEBGL_VERSION"))}),C_.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",function(){return!C_.getBool("WEBGL_FORCE_F16_TEXTURES")&&C_.getBool("WEBGL_RENDER_FLOAT32_CAPABLE")}),C_.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",function(){return b_(C_.getNumber("WEBGL_VERSION"))}),C_.registerFlag("WEBGL_FENCE_API_ENABLED",function(){return w_(C_.getNumber("WEBGL_VERSION"))}),C_.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",function(){return C_.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0}),nR=k_;var V_=U_({complex_:function(e,t){var n=A_(e,"real","complex"),r=A_(t,"imag","complex");return cE(n.shape,r.shape,"real and imag shapes, "+n.shape+" and "+r.shape+", must match in call to tf.complex()."),bR.runKernelFunc(function(e){return e.complex(n,r)},{$real:n,$imag:r})}}),H_=U_({real_:function(e){var t=A_(e,"input","real");return bR.runKernelFunc(function(e){return e.real(t)},{$input:t})}}),q_=U_({imag_:function(e){var t=A_(e,"input","imag");return bR.runKernelFunc(function(e){return e.imag(t)},{$input:t})}});function G_(e,t,n){return K_(e,t,I_(e,n),n)}function K_(e,t,n,r){if(null==r&&(r=OE(e)),"complex64"===r)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!IE(e)&&!Array.isArray(e)&&"number"!=typeof e&&"boolean"!=typeof e&&"string"!=typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){VE(t);var o=fE(t),a=fE(n);uE(o===a,function(){return"Based on the provided shape, ["+t+"], the tensor should have "+o+" values but has "+a});for(var i=0;i<n.length;++i){var s=n[i],l=i!==n.length-1||s!==fE(t.slice(i));uE(n[i]===t[i]||!l,function(){return"Error creating a new Tensor. Inferred shape ("+n+") does not match the provided shape ("+t+"). "})}}return IE(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==r?LE(e,r,Yk().getBool("DEBUG")):pE(e,[],!0),bR.makeTensor(e,t,r)}function X_(e,t){if((IE(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&IE(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return K_(e,[],[],t)}function $_(e,t){dE(e);var n=I_(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return K_(e,null,n,t)}function Y_(e,t,n){if(dE(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");var r=I_(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return K_(e,t,r,n)}function Q_(e,t,n){if(dE(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");var r=I_(e,n);if(3!==r.length&&1!==r.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return K_(e,t,r,n)}function J_(e,t,n){if(dE(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");var r=I_(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return K_(e,t,r,n)}function Z_(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=Z_(e,"float32"),r=eI(e,"float32");return V_(n,r)}var o=zE(fE(e),t);return bR.makeTensor(o,e,t)}function eI(e,t){if(void 0===t&&(t="float32"),"complex64"===t){var n=eI(e,"float32"),r=eI(e,"float32");return V_(n,r)}var o=WE(fE(e),t);return bR.makeTensor(o,e,t)}function tI(e,t,n){return bR.runKernelFunc(function(r){return r.fill(e,t,n)},{})}function nI(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r="float32"),0===n)throw new Error("Cannot have a step of zero");if(e===t||e<t&&n<0||t<e&&n>1)return eI([0],r);var o=WE(Math.abs(Math.ceil((t-e)/n)),r);t<e&&1===n&&(n=-1),o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+n;return $_(o,r)}var rI=U_({onesLike_:function(e){var t=A_(e,"x","onesLike");if("complex64"===t.dtype){var n=rI(H_(t)),r=oI(q_(t));return V_(n,r)}return bR.runKernelFunc(function(e){return e.onesLike(t)},{$x:t},function(e,t){return{$x:function(){return oI(e)}}})}}),oI=U_({zerosLike_:function(e){var t=A_(e,"x","zerosLike");return bR.runKernelFunc(function(e){return e.zerosLike(t)},{$x:t},function(e,t){return{$x:function(){return oI(e)}}})}}),aI=U_({concat_:function(e,t){void 0===t&&(t=0),uE(e.length>=1,function(){return"Pass at least one tensor to concat"});var n=P_(e,"tensors","concat");"complex64"===n[0].dtype&&n.forEach(function(e){if("complex64"!==e.dtype)throw new Error("Cannot concatenate complex64 tensors with a tensor\n          with dtype "+e.dtype+". ")}),t=wE(t,n[0].shape)[0];var r=W_(n.map(function(e){return e.shape}),t);if(0===fE(r))return G_([],r);if(1===(n=n.filter(function(e){return e.size>0})).length)return n[0];var o=n.map(function(e){return e.shape});z_(o,t);var a=n,i={axis:t};return bR.runKernelFunc(function(e){return e.concat(n,t)},a,function(e){var n=o.map(function(e){return e[t]});return cI(e,n,t).map(function(e){return function(){return e}})},"Concat",i)}}),iI=U_({concat1d_:function(e){return aI(e,0)}}),sI=U_({concat2d_:function(e,t){return aI(e,t)}}),lI=U_({concat3d_:function(e,t){return aI(e,t)}}),uI=U_({concat4d_:function(e,t){return aI(e,t)}}),cI=U_({split_:function(e,t,n){void 0===n&&(n=0);var r,o=A_(e,"x","split");return n=wE(n,o.shape)[0],"number"==typeof t?(uE(o.shape[n]%t==0,function(){return"Number of splits must evenly divide the axis."}),r=new Array(t).fill(o.shape[n]/t)):(uE(o.shape[n]===t.reduce(function(e,t){return e+t}),function(){return"The sum of sizes must match the size of the axis dimension."}),r=t),bR.runKernelFunc(function(e){return e.split(o,r,n)},{$x:o},function(e){return{$x:function(){return aI(e,n)}}})}});function dI(e,t){return e(t={exports:{}},t.exports),t.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self&&self;var pI=dI(function(e){!function(e,t){function n(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function r(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function o(e,t){var o=new n(e),a=t&&t.state,i=o.next;return i.int32=function(){return 4294967296*o.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.alea=o}(0,e)}),fI=dI(function(e){!function(e,t){function n(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xor128=o}(0,e)}),hI=dI(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function r(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xorwow=o}(0,e)}),mI=dI(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.x,o=t.i;return e=r[o],n=(e^=e>>>7)^e<<24,n^=(e=r[o+1&7])^e>>>10,n^=(e=r[o+3&7])^e>>>3,n^=(e=r[o+4&7])^e<<7,e=r[o+7&7],n^=(e^=e<<13)^e<<9,r[o]=n,t.i=o+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function r(e,t){return t.x=e.x.slice(),t.i=e.i,t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&(a.x&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xorshift7=o}(0,e)}),vI=dI(function(e){!function(e,t){function n(e){var t=this;t.next=function(){var e,n,r=t.w,o=t.X,a=t.i;return t.w=r=r+1640531527|0,n=o[a+34&127],e=o[a=a+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=o[a]=n^e,t.i=a,n+(r^r>>>16)|0},function(e,t){var n,r,o,a,i,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),o=0,a=-32;a<l;++a)t&&(r^=t.charCodeAt((a+32)%t.length)),0===a&&(i=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(i=i+1640531527|0,o=0==(n=s[127&a]^=r+i)?o+1:0);for(o>=128&&(s[127&(t&&t.length||0)]=-1),o=127,a=512;a>0;--a)r=s[o+34&127],n=s[o=o+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[o]=r^n;e.w=i,e.X=s,e.i=o}(t,e)}function r(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function o(e,t){null==e&&(e=+new Date);var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&(a.X&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.xor4096=o}(0,e)}),gI=dI(function(e){!function(e,t){function n(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,o=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^o,o=o-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^o,t.a=o-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function r(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function o(e,t){var o=new n(e),a=t&&t.state,i=function(){return(o.next()>>>0)/4294967296};return i.double=function(){do{var e=((o.next()>>>11)+(o.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=o.next,i.quick=i,a&&("object"==typeof a&&r(a,o),i.state=function(){return r(o,{})}),i}t&&t.exports?t.exports=o:this.tychei=o}(0,e)}),yI=dI(function(e){!function(t,r){var o,a=this,i=256,s="random",l=r.pow(i,6),u=r.pow(2,52),c=2*u,d=255;function p(e,n,d){var p=[],g=m(function e(t,n){var r,o=[],a=typeof t;if(n&&"object"==a)for(r in t)try{o.push(e(t[r],n-1))}catch(e){}return o.length?o:"string"==a?t:t+"\0"}((n=1==n?{entropy:!0}:n||{}).entropy?[e,v(t)]:null==e?function(){try{var e;return o&&(e=o.randomBytes)?e=e(i):(e=new Uint8Array(i),(a.crypto||a.msCrypto).getRandomValues(e)),v(e)}catch(e){var n=a.navigator,r=n&&n.plugins;return[+new Date,a,r,a.screen,v(t)]}}():e,3),p),y=new f(p),b=function(){for(var e=y.g(6),t=l,n=0;e<u;)e=(e+n)*i,t*=i,n=y.g(1);for(;e>=c;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|y.g(4)},b.quick=function(){return y.g(4)/4294967296},b.double=b,m(v(y.S),t),(n.pass||d||function(e,t,n,o){return o&&(o.S&&h(o,y),e.state=function(){return h(y,{})}),n?(r[s]=e,t):e})(b,g,"global"in n?n.global:this==r,n.state)}function f(e){var t,n=e.length,r=this,o=0,a=r.i=r.j=0,s=r.S=[];for(n||(e=[n++]);o<i;)s[o]=o++;for(o=0;o<i;o++)s[o]=s[a=d&a+e[o%n]+(t=s[o])],s[a]=t;(r.g=function(e){for(var t,n=0,o=r.i,a=r.j,s=r.S;e--;)t=s[o=d&o+1],n=n*i+s[d&(s[o]=s[a=d&a+t])+(s[a]=t)];return r.i=o,r.j=a,n})(i)}function h(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function m(e,t){for(var n,r=e+"",o=0;o<r.length;)t[d&o]=d&(n^=19*t[d&o])+r.charCodeAt(o++);return v(t)}function v(e){return String.fromCharCode.apply(0,e)}if(r["seed"+s]=p,m(r.random(),t),e.exports){e.exports=p;try{o=n(82)}catch(e){}}}([],Math)});yI.alea=pI,yI.xor128=fI,yI.xorwow=hI,yI.xorshift7=mI,yI.xor4096=vI,yI.tychei=gI;var bI=yI.alea,xI=function(){function e(e,t,n,r,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=r,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);var a=o||Math.random();this.random=bI(a.toString())}return e.prototype.nextValue=function(){if(!isNaN(this.nextVal)){var e=this.nextVal;return this.nextVal=NaN,e}for(var t,n,r=!1;!r;){var o=void 0,a=void 0,i=void 0;do{i=(o=2*this.random()-1)*o+(a=2*this.random()-1)*a}while(i>=1||0===i);var s=Math.sqrt(-2*Math.log(i)/i);t=this.mean+this.stdDev*o*s,n=this.mean+this.stdDev*a*s,this.truncated&&!this.isValidTruncated(t)||(r=!0)}return this.truncated&&!this.isValidTruncated(n)||(this.nextVal=this.convertValue(n)),this.convertValue(t)},e.prototype.convertValue=function(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)},e.prototype.isValidTruncated=function(e){return e<=this.upper&&e>=this.lower},e}(),wI=function(){function e(e,t,n,r){this.alpha=e,this.beta=1/t,this.dtype=n;var o=r||Math.random();this.randu=bI(o.toString()),this.randn=new xI(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}return e.prototype.nextValue=function(){for(var e,t,n,r,o,a;;){do{r=this.randn.nextValue(),a=1+this.c*r}while(a<=0);if(a*=a*a,t=1-.331*(e=r*r)*e,n=.5*e+this.d*(1-a+Math.log(a)),(o=this.randu())<t||Math.log(o)<n)break}return a=1/this.beta*this.d*a,this.alpha<1&&(a*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(a)},e.prototype.convertValue=function(e){return"float32"===this.dtype?e:Math.round(e)},e}(),SI=function(){function e(e,t,n,r){var o=this;if(void 0===e&&(e=0),void 0===t&&(t=1),this.canReturnFloat=function(){return null==o.dtype||"float32"===o.dtype},this.min=e,this.range=t-e,this.dtype=n,null==r&&(r=Math.random()),"number"==typeof r&&(r=r.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error("The difference between "+e+" - "+t+" <= 1 and dtype is not float");this.random=bI(r)}return e.prototype.convertValue=function(e){return this.canReturnFloat()?e:Math.round(e)},e.prototype.nextValue=function(){return this.convertValue(this.min+this.range*this.random())},e}();function CI(e,t,n){return void 0===t&&(t="float32"),t=t||"float32",VE(e),new ZE(e,t,n)}var kI=U_({batchToSpaceND_:function(e,t,n){var r=A_(e,"x","batchToSpaceND"),o=t.reduce(function(e,t){return e*t});return uE(r.rank>=1+t.length,function(){return"input rank is "+r.rank+" but should be > than blockShape.length "+t.length}),uE(n.length===t.length,function(){return"crops.length is "+n.length+" but should be equal to blockShape.length  "+t.length}),uE(r.shape[0]%o==0,function(){return"input tensor batch is "+r.shape[0]+" but is not divisible by the product of the elements of blockShape "+t.join(" * ")+" === "+o}),bR.runKernelFunc(function(e){return e.batchToSpaceND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.spaceToBatchND(t,n)}}})}}),EI=U_({broadcastTo_:function(e,t){var n=A_(e,"broadcastTo","x"),r=n.shape;if(t.some(function(e){return!(e>0)||e%1!=0}))throw new Error("broadcastTo(): Invalid broadcast shape ["+t+"].");if(t.length<n.rank)throw new Error("broadcastTo(): shape.length="+t.length+" < input.rank="+n.rank+".");if(t.length>n.rank){for(var o=n.shape.slice();o.length<t.length;)o.unshift(1);n=n.reshape(o)}for(var a=Array.from(t),i=t.length-1;i>=0;i--)if(n.shape[i]===t[i])a[i]=1;else if(1!==n.shape[i])throw new Error("broadcastTo(): ["+r+"] cannot be broadcast to ["+t+"].");var s=a.map(function(e,t){return e>1?t:-1}).filter(function(e){return e>=0});return 0===s.length?n.clone():bR.runKernelFunc(function(e){return e.tile(n,a)},{input:n},function(e){return{input:function(){return e.sum(s,!0)}}})}}),RI=U_({cast_:function(e,t){var n=A_(e,"x","cast");if(!RE(t))throw new Error("Failed to cast to unknown dtype "+t);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");var r={dtype:t};return bR.runKernelFunc(function(e){return e.cast(n,t)},{x:n},function(e){return{x:function(){return e.clone()}}},"Cast",r)}}),_I=U_({clone_:function(e){var t=A_(e,"x","clone",null);return bR.runKernelFunc(function(){return bR.makeTensorFromDataId(t.dataId,t.shape,t.dtype)},{$x:t},function(e){return{$x:function(){return e.toFloat()}}})}}),II=U_({cumsum_:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=!1),void 0===r&&(r=!1);var o=A_(e,"x","cumsum"),a=F_([t|=0],o.rank),i=o;null!=a&&(i=o.transpose(a));var s=B_(1,o.rank)[0],l=bR.runKernelFunc(function(e){return e.cumsum(i,s,n,r)},{permutedX:i},function(e){return{permutedX:function(){return e.cumsum(t,n,!r)}}});return null!=a&&(l=l.transpose(a)),l}}),TI=U_({depthToSpace_:function(e,t,n){void 0===n&&(n="NHWC");var r=A_(e,"x","depthToSpace"),o="NHWC"===n?r.shape[1]:r.shape[2],a="NHWC"===n?r.shape[2]:r.shape[3],i="NHWC"===n?r.shape[3]:r.shape[1];return uE(o*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+o+" and "+t+"  for depthToSpace with input shape\n      "+r.shape}),uE(a*t>=0,function(){return"Negative dimension size caused by overflow when multiplying\n      "+a+" and "+t+" for depthToSpace with input shape\n          "+r.shape}),uE(i%(t*t)==0,function(){return"Dimension size must be evenly divisible by "+t*t+" but is "+i+" for depthToSpace with input shape "+r.shape}),bR.runKernelFunc(function(e){return e.depthToSpace(r,t,n)},{$x:r})}}),AI=U_({expandDims_:function(e,t){void 0===t&&(t=0);var n=A_(e,"x","expandDims",null);uE(t<=n.rank,function(){return"Axis must be <= rank of the tensor"});var r=n.shape.slice();return t<0&&(uE(-(n.rank+1)<=t,function(){return"Axis must be in the interval ["+-(n.rank+1)+", "+n.rank+"]"}),t=n.rank+t+1),r.splice(t,0,1),VI(n,r)}}),PI=U_({eye_:function(e,t,n,r){void 0===r&&(r="float32"),null==t&&(t=e);for(var o=CI([e,t],r),a=e<=t?e:t,i=0;i<a;++i)o.set(1,i,i);var s=o.toTensor().as2D(e,t);if(null==n)return s;if(1===n.length)return KI(AI(s,0),[n[0],1,1]);if(2===n.length)return KI(AI(AI(s,0),0),[n[0],n[1],1,1]);if(3===n.length)return KI(AI(AI(AI(s,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error("eye() currently supports only 1D and 2D batchShapes, but received "+n.length+"D.")}}),NI=U_({multinomial_:function(e,t,n,r){void 0===r&&(r=!1);var o=A_(e,"logits","multinomial"),a=o.size,i=o.rank;if(a<2)throw new Error("Error in multinomial: you need at least 2 outcomes, but got "+a+".");if(i>2)throw new Error("Rank of probabilities must be 1 or 2, but is "+i);n=n||Math.random();var s=1===i?o.as2D(1,-1):o,l=bR.runKernelFunc(function(e){return e.multinomial(s,r,t,n)},{logits2D:s});return 1===i?l.as1D():l}}),MI=U_({oneHot_:function(e,t,n,r){if(void 0===n&&(n=1),void 0===r&&(r=0),t<2)throw new Error("Error in oneHot: depth must be >=2, but it is "+t);var o=A_(e,"indices","oneHot","int32"),a=o.shape.concat([t]);return o=o.flatten(),bR.runKernelFunc(function(e){return e.oneHot(o,t,n,r)},{$indices:o},function(e){return{$indices:function(){return eI(o.shape,"float32")}}}).reshape(a)}}),OI=U_({pad_:function(e,t,n){void 0===n&&(n=0);var r=A_(e,"x","pad");if(0===r.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");var o={paddings:t,constantValue:n};return bR.runKernelFunc(function(e){return e.pad(r,t,n)},{x:r},function(e){var n=t.map(function(e){return e[0]});return{x:function(){return e.slice(n,r.shape)}}},"PadV2",o)}}),DI=U_({pad1d_:function(e,t,n){return void 0===n&&(n=0),uE(2===t.length,function(){return"Invalid number of paddings. Must be length of 2."}),OI(e,[t],n)}}),jI=U_({pad2d_:function(e,t,n){return void 0===n&&(n=0),uE(2===t.length&&2===t[0].length&&2===t[1].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),OI(e,t,n)}}),FI=U_({pad3d_:function(e,t,n){return void 0===n&&(n=0),uE(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),OI(e,t,n)}}),LI=U_({pad4d_:function(e,t,n){return void 0===n&&(n=0),uE(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,function(){return"Invalid number of paddings. Must be length of 2 each."}),OI(e,t,n)}}),BI=U_({rand_:function(e,t,n){var r=fE(e),o=null;if(null==n||"float32"===n)o=new Float32Array(r);else if("int32"===n)o=new Int32Array(r);else{if("bool"!==n)throw new Error("Unknown data type "+n);o=new Uint8Array(r)}for(var a=0;a<r;a++)o[a]=t();return bR.makeTensor(o,e,n)}}),zI=U_({randomNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new xI(t,n,r,!1,o),i=CI(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),WI=U_({randomGamma_:function(e,t,n,r,o){if(void 0===n&&(n=1),void 0===r&&(r="float32"),null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error("Unsupported data type "+r);for(var a=new wI(t,n,r,o),i=CI(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),UI=U_({randomUniform_:function(e,t,n,r,o){void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r="float32");for(var a=CI(e,r),i=new SI(t,n,null,o),s=0;s<a.values.length;s++)a.values[s]=i.nextValue();return a.toTensor()}}),VI=U_({reshape_:function(e,t){var n=A_(e,"x","reshape",null);t=xE(t,n.size),uE(n.size===fE(t),function(){return"new shape and old shape must have the same number of elements."});var r={shape:t};return bR.runKernelFunc(function(e){return e.reshape(n,t)},{x:n},function(e){return{x:function(){return e.reshape(n.shape)}}},"Reshape",r)}}),HI=U_({spaceToBatchND_:function(e,t,n){var r=A_(e,"x","spaceToBatchND");return uE(r.rank>=1+t.length,function(){return"input rank "+r.rank+" should be > than [blockShape] "+t.length}),uE(n.length===t.length,function(){return"paddings.shape[0] "+n.length+" must be equal to [blockShape] "+t.length}),uE(r.shape.reduce(function(e,r,o){return o>0&&o<=t.length?e&&(r+n[o-1][0]+n[o-1][1])%t[o-1]==0:e},!0),function(){return"input spatial dimensions "+r.shape.slice(1)+" with paddings "+n.toString()+" must be divisible by blockShapes "+t.toString()}),bR.runKernelFunc(function(e){return e.spaceToBatchND(r,t,n)},{$x:r},function(e){return{$x:function(){return e.batchToSpaceND(t,n)}}})}}),qI=U_({squeeze_:function(e,t){var n=A_(e,"x","squeeze");return VI(n,SE(n.shape,t).newShape)}}),GI=U_({stack_:function(e,t){void 0===t&&(t=0);var n=P_(e,"tensors","stack");if(uE(n.length>=1,function(){return"Pass at least one tensor to tf.stack"}),1===n.length)return n[0].expandDims(t);var r=n[0].rank,o=n[0].shape,a=n[0].dtype;uE(t<=r,function(){return"Axis must be <= rank of the tensor"}),n.forEach(function(e){cE(o,e.shape,"All tensors passed to stack must have matching shapes")}),n.forEach(function(e){uE(a===e.dtype,function(){return"All tensors passed to stack must have matching dtypes"})});var i=n.map(function(e){return e.expandDims(t)});return aI(i,t)}}),KI=U_({tile_:function(e,t){var n=A_(e,"x","tile",null);uE(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of reps "+t+"."});var r=[n],o={reps:t};return bR.runKernelFunc(function(e,r){var o=e.tile(n,t);return r([n]),o},{x:n},function(e,n){var r=n[0];return{x:function(){var n=oI(r);if(1===r.rank)for(var o=0;o<t[0];++o)n=n.add(e.slice([o*r.shape[0]],[r.shape[0]]));else if(2===r.rank)for(o=0;o<t[0];++o)for(var a=0;a<t[1];++a)n=n.add(e.slice([o*r.shape[0],a*r.shape[1]],[r.shape[0],r.shape[1]]));else if(3===r.rank)for(o=0;o<t[0];++o)for(a=0;a<t[1];++a)for(var i=0;i<t[2];++i)n=n.add(e.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2]],[r.shape[0],r.shape[1],r.shape[2]]));else{if(4!==r.rank)throw new Error("Gradient for tile operation is not implemented for rank-"+r.rank+" tensors yet.");for(o=0;o<t[0];++o)for(a=0;a<t[1];++a)for(i=0;i<t[2];++i)for(var s=0;s<t[3];++s)n=n.add(e.slice([o*r.shape[0],a*r.shape[1],i*r.shape[2],s*r.shape[3]],[r.shape[0],r.shape[1],r.shape[2],r.shape[3]]))}return n}}},"Tile",o,r)}}),XI=U_({truncatedNormal_:function(e,t,n,r,o){if(void 0===t&&(t=0),void 0===n&&(n=1),null!=r&&"bool"===r)throw new Error("Unsupported data type "+r);for(var a=new xI(t,n,r,!0,o),i=CI(e,r),s=0;s<i.values.length;s++)i.values[s]=a.nextValue();return i.toTensor()}}),$I=U_({unstack_:function(e,t){void 0===t&&(t=0),t=t||0;var n=A_(e,"x","unstack");uE(t>=-n.shape.length&&t<n.shape.length,function(){return"Axis = "+t+" is not in [-"+n.shape.length+", "+n.shape.length+")"}),t<0&&(t+=n.shape.length);var r={axis:t};return bR.runKernelFunc(function(e){return e.unstack(n,t)},{x:n},function(e){return{x:function(){return GI(e,t)}}},"Unpack",r)}});function YI(e,t,n,r){void 0===r&&(r=!0);var o=[];if(r)(o=o.concat(t.slice(0))).push(e[0]/n),o=o.concat(e.slice(1));else{o=o.concat(e[0]);for(var a=t.length,i=0;i<a;++i)o=o.concat([e[i+1]/t[i],t[i]]);o=o.concat(e.slice(a+1))}return o}function QI(e,t,n){void 0===n&&(n=!0);var r=[];if(n){r.push(t);for(var o=t+1;o<e;++o)o<=2*t?(r.push(o),r.push(o-(t+1))):r.push(o)}else{var a=[],i=[];for(o=1;o<e;++o)o>=2*t+1||o%2==1?i.push(o):a.push(o);r.push.apply(r,a),r.push(0),r.push.apply(r,i)}return r}function JI(e,t,n,r){void 0===r&&(r=!0);var o=[];r?o.push(e[0]/n):o.push(e[0]*n);for(var a=1;a<e.length;++a)a<=t.length?r?o.push(t[a-1]*e[a]):o.push(e[a]/t[a-1]):o.push(e[a]);return o}function ZI(e,t){for(var n=[0],r=0;r<t;++r)n.push(e[r][0]);return n}function eT(e,t,n){for(var r=e.slice(0,1),o=0;o<n;++o)r.push(e[o+1]-t[o][0]-t[o][1]);return r}function tT(e,t){if(e.rank<1)throw new Error("tf.gatherND() expects the input to be rank 1 or higher, but the rank was "+e.rank+".");if(t.rank<1)throw new Error("tf.gatherND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if("int32"!==t.dtype)throw new Error("tf.gatherND() expects the indices to be int32 type, but the dtype was "+t.dtype+".");if(t.shape[t.rank-1]>e.rank)throw new Error("index innermost dimension length must be <= tensor rank; saw: "+t.shape[t.rank-1]+" vs. "+e.rank);if(0===e.size)throw new Error("Requested more than 0 entries, but input is empty. Input shape: "+e.shape+".");for(var n=t.shape,r=n[n.length-1],o=1,a=0;a<n.length-1;++a)o*=n[a];var i=e.shape,s=n.slice();s.pop();var l=1;for(a=r;a<e.rank;++a)l*=i[a],s.push(i[a]);var u=FE(e.shape).map(function(e){return e/l}).concat([1]).slice(0,r);return[s,o,l,u]}Object.freeze({prepareAndValidate:tT});function nT(e){return e<=30?e:jE(e,Math.floor(Math.sqrt(e)))}function rT(e,t,n){var r=t.rank>1?t.shape[t.rank-1]:1,o=t.rank>1?t.rank-1:1,a="Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: "+n.shape+", indices.shape: "+t.shape+", shape: "+e+", sliceDim: "+r+", and batchDim: "+o+".";if(n.rank<o)throw new Error(a+" update.rank < "+o+". ");if(e.length<r+(n.rank-o))throw new Error(a+" Output shape length < "+(r+(n.rank-o)));if(n.rank!==o+e.length-r)throw new Error(a+" update.rank != "+(o+e.length-r));for(var i=0;i<o;++i)if(n.shape[i]!==t.shape[i])throw new Error(a+" updates.shape["+i+"] ("+n.shape[i]+") != indices.shape["+i+"] ("+t.shape[i]+").");for(i=0;i<n.rank-o;++i)if(n.shape[i+o]!==e[i+r])throw new Error(a+" updates.shape["+(i+o)+"] ("+n.shape[i+o]+") != shape["+(i+o)+"] ("+e[i+o]+")")}function oT(e,t,n){if(t.rank<1)throw new Error("tf.scatterND() expects the indices to be rank 1 or higher, but the rank was "+t.rank+".");if(e.rank<1)throw new Error("tf.scatterND() expects the updates to be rank 1 or higher, but the rank was "+e.rank+".");if("int32"!==t.dtype)throw new Error("The dtype of 'indices' should be int32, but got dtype: "+t.dtype);if(n.length<1)throw new Error("Output rank must be greater or equal to 1, but got shape: "+n);if(0===n.length){if(0===t.size)throw new Error("Indices specified for empty output. indices shape: "+t.shape);if(0===e.size)throw new Error("Updates specified for empty output. updates shape: "+e.shape)}rT(n,t,e)}function aT(e,t,n){for(var r=t.shape.length,o=r>1?t.shape[r-1]:1,a=n.length,i=1,s=o;s<a;++s)i*=n[s];var l=o<1?1:o;return{sliceRank:o,numUpdates:fE(t.shape)/l,sliceSize:i,strides:FE(n.slice(0,o)).concat([1]),outputSize:fE(n)}}Object.freeze({validateUpdateShape:rT,validateInput:oT,calculateShapes:aT});function iT(e,t,n){uE(e.rank===t.length,function(){return"Error in slice"+e.rank+"D: Length of begin "+t+" must match the rank of the array ("+e.rank+")."}),uE(e.rank===n.length,function(){return"Error in slice"+e.rank+"D: Length of size "+n+" must match the rank of the array ("+e.rank+")."});for(var r=function(r){uE(t[r]+n[r]<=e.shape[r],function(){return"Error in slice"+e.rank+"D: begin["+r+"] + size["+r+"] ("+(t[r]+n[r])+") would overflow input.shape["+r+"] ("+e.shape[r]+")"})},o=0;o<e.rank;++o)r(o)}function sT(e){for(var t=[],n=0;e>0;)1&e&&t.push(n),e/=2,n++;return t}function lT(e,t,n){for(var r=[],o=0;o<e.length;o++)r[o]=Math.ceil((t[o]-e[o])/n[o]);return r}function uT(e,t,n,r,o){var a=t[o],i=n[o]||1;(e&1<<o||null==a)&&(a=i>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),iE(0,a,s-1)}function cT(e,t,n,r,o){var a=t[o],i=n[o]||1;(e&1<<o||null==a)&&(a=i>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);var s=r[o];return a<0&&(a+=s),i>0?iE(0,a,s):iE(-1,a,s-1)}function dT(e,t,n){for(var r=n.length,o=0;o<n.length;o++)if(n[o]>1){r=o;break}for(o=r+1;o<n.length;o++)if(t[o]>0||n[o]!==e[o])return!1;return!0}function pT(e,t){for(var n=e.length>0?e[e.length-1]:1,r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}Object.freeze({assertParamsValid:iT,maskToAxes:sT,computeOutShape:lT,startForAxis:uT,stopForAxis:cT,isSliceContinous:dT,computeFlatOffset:pT});function fT(e){return bR.customGrad(e)}var hT=U_({softmax_:function(e,t){void 0===t&&(t=-1);var n=A_(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and dim was "+t);return bR.runKernelFunc(function(e,r){var o=e.softmax(n,t);return r([o]),o},{logits:n},function(e,n){var r=n[0],o=e.mul(r);return{logits:function(){return o.sub(o.sum([t],!0).mul(r))}}},"Softmax",{dim:t},[],[!0])}}),mT=U_({logSoftmax_:function(e,t){void 0===t&&(t=-1);var n=A_(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error("Log Softmax along a non-last dimension is not yet supported. Logits was rank "+n.rank+" and axis was "+t);return fT(function(e,n){var r=e.max(t,!0),o=e.sub(r),a=o.toFloat().sub(o.exp().sum(t,!0).log());return n([a]),{value:a,gradFunc:function(e,n){var r=n[0].exp();return e.sub(e.sum(t,!0).mul(r))}}})(n)}}),vT=function(){function e(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}return e.prototype.get=function(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)},e.prototype.set=function(e,t){this.dataIdsCount++,this.data.set(e,t)},e.prototype.has=function(e){return this.data.has(e)},e.prototype.delete=function(e){return this.dataIdsCount--,this.data.delete(e)},e.prototype.numDataIds=function(){return this.dataIdsCount},e}(),gT=function(){function e(){}return e.prototype.time=function(e){return yT("time")},e.prototype.read=function(e){return yT("read")},e.prototype.readSync=function(e){return yT("readSync")},e.prototype.numDataIds=function(){return yT("numDataIds")},e.prototype.disposeData=function(e){return yT("disposeData")},e.prototype.write=function(e,t,n){return yT("write")},e.prototype.move=function(e,t,n,r){return yT("move")},e.prototype.memory=function(){return yT("memory")},e.prototype.floatPrecision=function(){return yT("floatPrecision")},e.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},e.prototype.batchMatMul=function(e,t,n,r){return yT("batchMatMul")},e.prototype.fusedBatchMatMul=function(e){return e.a,e.b,e.transposeA,e.transposeB,e.bias,e.activation,e.preluActivationWeights,yT("fusedBatchMatMul")},e.prototype.slice=function(e,t,n){return yT("slice")},e.prototype.stridedSlice=function(e,t,n,r){return yT("stridedSlice")},e.prototype.unstack=function(e,t){return yT("unstack")},e.prototype.reverse=function(e,t){return yT("reverse")},e.prototype.concat=function(e,t){return yT("concat")},e.prototype.neg=function(e){return yT("neg")},e.prototype.add=function(e,t){return yT("add")},e.prototype.addN=function(e){return yT("addN")},e.prototype.subtract=function(e,t){return yT("subtract")},e.prototype.multiply=function(e,t){return yT("multiply")},e.prototype.realDivide=function(e,t){return yT("realDivide")},e.prototype.floorDiv=function(e,t){return yT("floorDiv")},e.prototype.sum=function(e,t){return yT("sum")},e.prototype.prod=function(e,t){return yT("prod")},e.prototype.unsortedSegmentSum=function(e,t,n){return yT("unsortedSegmentSum")},e.prototype.argMin=function(e,t){return yT("argMin")},e.prototype.argMax=function(e,t){return yT("argMax")},e.prototype.equal=function(e,t){return yT("equal")},e.prototype.notEqual=function(e,t){return yT("notEqual")},e.prototype.less=function(e,t){return yT("less")},e.prototype.lessEqual=function(e,t){return yT("lessEqual")},e.prototype.greater=function(e,t){return yT("greater")},e.prototype.greaterEqual=function(e,t){return yT("greaterEqual")},e.prototype.logicalNot=function(e){return yT("logicalNot")},e.prototype.logicalAnd=function(e,t){return yT("logicalAnd")},e.prototype.logicalOr=function(e,t){return yT("logicalOr")},e.prototype.where=function(e){return yT("where")},e.prototype.select=function(e,t,n){return yT("select")},e.prototype.topk=function(e,t,n){return yT("topk")},e.prototype.min=function(e,t){return yT("min")},e.prototype.minimum=function(e,t){return yT("minimum")},e.prototype.mod=function(e,t){return yT("mod")},e.prototype.max=function(e,t){return yT("max")},e.prototype.maximum=function(e,t){return yT("maximum")},e.prototype.all=function(e,t){return yT("all")},e.prototype.any=function(e,t){return yT("any")},e.prototype.squaredDifference=function(e,t){return yT("squaredDifference")},e.prototype.ceil=function(e){return yT("ceil")},e.prototype.floor=function(e){return yT("floor")},e.prototype.round=function(e){return yT("round")},e.prototype.sign=function(e){return yT("sign")},e.prototype.isNaN=function(e){return yT("isNaN")},e.prototype.isInf=function(e){return yT("isInf")},e.prototype.isFinite=function(e){return yT("isFinite")},e.prototype.pow=function(e,t){return yT("pow")},e.prototype.exp=function(e){return yT("exp")},e.prototype.expm1=function(e){return yT("expm1")},e.prototype.softmax=function(e,t){return yT("softmax")},e.prototype.log=function(e){return yT("log")},e.prototype.log1p=function(e){return yT("log1p")},e.prototype.sqrt=function(e){return yT("sqrt")},e.prototype.rsqrt=function(e){return yT("rsqrt")},e.prototype.square=function(e){return yT("square")},e.prototype.reciprocal=function(e){return yT("reciprocal")},e.prototype.relu=function(e){return yT("relu")},e.prototype.relu6=function(e){return yT("relu6")},e.prototype.prelu=function(e,t){return yT("prelu")},e.prototype.elu=function(e){return yT("elu")},e.prototype.eluDer=function(e,t){return yT("eluDer")},e.prototype.selu=function(e){return yT("selu")},e.prototype.int=function(e){return yT("int")},e.prototype.clip=function(e,t,n){return yT("clip")},e.prototype.abs=function(e){return yT("abs")},e.prototype.complexAbs=function(e){return yT("complexAbs")},e.prototype.sigmoid=function(e){return yT("sigmoid")},e.prototype.softplus=function(e){return yT("softplus")},e.prototype.sin=function(e){return yT("sin")},e.prototype.cos=function(e){return yT("cos")},e.prototype.tan=function(e){return yT("tan")},e.prototype.asin=function(e){return yT("asin")},e.prototype.acos=function(e){return yT("acos")},e.prototype.atan=function(e){return yT("atan")},e.prototype.atan2=function(e,t){return yT("atan2")},e.prototype.sinh=function(e){return yT("sinh")},e.prototype.cosh=function(e){return yT("cosh")},e.prototype.tanh=function(e){return yT("tanh")},e.prototype.asinh=function(e){return yT("asinh")},e.prototype.acosh=function(e){return yT("acosh")},e.prototype.atanh=function(e){return yT("atanh")},e.prototype.erf=function(e){return yT("erf")},e.prototype.step=function(e,t){return yT("step")},e.prototype.fusedConv2d=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,yT("fusedConv2d")},e.prototype.conv2d=function(e,t,n){return yT("conv2d")},e.prototype.conv2dDerInput=function(e,t,n){return yT("conv2dDerInput")},e.prototype.conv2dDerFilter=function(e,t,n){return yT("conv2dDerFilter")},e.prototype.fusedDepthwiseConv2D=function(e){return e.input,e.filter,e.convInfo,e.bias,e.activation,e.preluActivationWeights,yT("fusedDepthwiseConv2D")},e.prototype.depthwiseConv2D=function(e,t,n){return yT("depthwiseConv2D")},e.prototype.depthwiseConv2DDerInput=function(e,t,n){return yT("depthwiseConv2DDerInput")},e.prototype.depthwiseConv2DDerFilter=function(e,t,n){return yT("depthwiseConv2DDerFilter")},e.prototype.conv3d=function(e,t,n){return yT("conv3d")},e.prototype.conv3dDerInput=function(e,t,n){return yT("conv3dDerInput")},e.prototype.conv3dDerFilter=function(e,t,n){return yT("conv3dDerFilter")},e.prototype.maxPool=function(e,t){return yT("maxPool")},e.prototype.maxPoolBackprop=function(e,t,n,r){return yT("maxPoolBackprop")},e.prototype.avgPool=function(e,t){return yT("avgPool")},e.prototype.avgPoolBackprop=function(e,t,n){return yT("avgPoolBackprop")},e.prototype.avgPool3d=function(e,t){return yT("avgPool3d")},e.prototype.avgPool3dBackprop=function(e,t,n){return yT("avgPool3dBackprop")},e.prototype.maxPool3d=function(e,t){return yT("maxPool3d")},e.prototype.maxPool3dBackprop=function(e,t,n,r){return yT("maxPool3dBackprop")},e.prototype.reshape=function(e,t){return yT("reshape")},e.prototype.cast=function(e,t){return yT("cast")},e.prototype.tile=function(e,t){return yT("tile")},e.prototype.pad=function(e,t,n){return yT("pad")},e.prototype.transpose=function(e,t){return yT("transpose")},e.prototype.gather=function(e,t,n){return yT("gather")},e.prototype.gatherND=function(e,t){return yT("gatherND")},e.prototype.scatterND=function(e,t,n){return yT("scatterND")},e.prototype.batchToSpaceND=function(e,t,n){return yT("batchToSpaceND")},e.prototype.spaceToBatchND=function(e,t,n){return yT("spaceToBatchND")},e.prototype.resizeBilinear=function(e,t,n,r){return yT("resizeBilinear")},e.prototype.resizeBilinearBackprop=function(e,t,n){return yT("resizeBilinearBackprop")},e.prototype.resizeNearestNeighbor=function(e,t,n,r){return yT("resizeNearestNeighbor")},e.prototype.resizeNearestNeighborBackprop=function(e,t,n){return yT("resizeNearestNeighborBackprop")},e.prototype.batchNormalization=function(e,t,n,r,o,a){return yT("batchNormalization")},e.prototype.localResponseNormalization4D=function(e,t,n,r,o){return yT("localResponseNormalization4D")},e.prototype.LRNGrad=function(e,t,n,r,o,a,i){return yT("LRNGrad")},e.prototype.multinomial=function(e,t,n,r){return yT("multinomial")},e.prototype.oneHot=function(e,t,n,r){return yT("oneHot")},e.prototype.cumsum=function(e,t,n,r){return yT("cumsum")},e.prototype.nonMaxSuppression=function(e,t,n,r,o){return yT("nonMaxSuppression")},e.prototype.fft=function(e){return yT("fft")},e.prototype.ifft=function(e){return yT("ifft")},e.prototype.complex=function(e,t){return yT("complex")},e.prototype.real=function(e){return yT("real")},e.prototype.imag=function(e){return yT("imag")},e.prototype.cropAndResize=function(e,t,n,r,o,a){return yT("cropAndResize")},e.prototype.depthToSpace=function(e,t,n){return yT("depthToSpace")},e.prototype.split=function(e,t,n){return yT("split")},e.prototype.sparseToDense=function(e,t,n,r){return yT("sparseToDense")},e.prototype.diag=function(e){return yT("diag")},e.prototype.fill=function(e,t,n){return yT("fill")},e.prototype.onesLike=function(e){return yT("onesLike")},e.prototype.zerosLike=function(e){return yT("zerosLike")},e.prototype.linspace=function(e,t,n){return yT("linspace")},e.prototype.dispose=function(){return yT("dispose")},e}();function yT(e){throw new Error("'"+e+"' not yet implemented or not found in the registry. Did you forget to import the kernel?")}function bT(e,t){for(var n=e.length,r=[],o=0;o<n;o++){var a=n-1-o,i=e[a]||1;(t[t.length-1-o]||1)>1&&1===i&&r.unshift(a)}return r}function xT(e,t){for(var n=[],r=0;r<t.length;r++){var o=e[e.length-r-1],a=t.length-r-1,i=t[a];(null==o||1===o&&i>1)&&n.unshift(a)}return n}function wT(e,t){for(var n=[],r=Math.max(e.length,t.length),o=0;o<r;o++){var a=e[e.length-o-1];null==a&&(a=1);var i=t[t.length-o-1];if(null==i&&(i=1),1===a)n.unshift(i);else if(1===i)n.unshift(a);else{if(a!==i)throw Error("Operands could not be broadcast together with shapes "+e+" and "+t+".");n.unshift(a)}}return n}function ST(e,t,n,r,o,a,i){void 0===i&&(i="channelsLast");var s,l=_T(t),u=l[0],c=l[1];if("channelsLast"===i)s=[u,c,e[3],e[3]];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);s=[u,c,e[1],e[1]]}return kT(e,s,n,r,o,a,!1,i)}function CT(e,t,n,r,o,a,i){void 0===i&&(i="NDHWC");var s,l,u=IT(t),c=u[0],d=u[1],p=u[2];if("NDHWC"===i)l="channelsLast",s=[c,d,p,e[4],e[4]];else{if("NCDHW"!==i)throw new Error("Unknown dataFormat "+i);l="channelsFirst",s=[c,d,p,e[1],e[1]]}return ET(e,s,n,r,o,!1,l,a)}function kT(e,t,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s="channelsLast");var l=[-1,-1,-1,-1],u=l[0],c=l[1],d=l[2],p=l[3];if("channelsLast"===s)u=e[0],c=e[1],d=e[2],p=e[3];else{if("channelsFirst"!==s)throw new Error("Unknown dataFormat "+s);u=e[0],p=e[1],c=e[2],d=e[3]}var f,h=t[0],m=t[1],v=t[3],g=_T(n),y=g[0],b=g[1],x=_T(r),w=x[0],S=x[1],C=TT(h,w),k=TT(m,S),E=function(e,t,n,r,o,a,i,s){var l,u,c;if("number"==typeof e){l={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};var d=function(e,t,n,r,o){null==r&&(r=RT(e,t,n));var a=e[1],i=AT((e[0]-t+2*r)/n+1,o);uE(mE(i),function(){return"The output # of rows ("+i+") must be an integer. Change the stride and/or zero pad parameters"});var s=AT((a-t+2*r)/n+1,o);return uE(mE(s),function(){return"The output # of columns ("+s+") must be an integer. Change the stride and/or zero pad parameters"}),[i,s]}([t,n],a,r,e,s);u=d[0],c=d[1]}else if("same"===e){u=Math.ceil(t/r),c=Math.ceil(n/o);var p=Math.max(0,(u-1)*r+a-t),f=Math.max(0,(c-1)*o+i-n),h=Math.floor(p/2),m=p-h,v=Math.floor(f/2);l={top:h,bottom:m,left:v,right:f-v,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);l={top:0,bottom:0,left:0,right:0,type:"VALID"},u=Math.ceil((t-a+1)/r),c=Math.ceil((n-i+1)/o)}return{padInfo:l,outHeight:u,outWidth:c}}(o,c,d,y,b,C,k,a),R=E.padInfo,_=E.outHeight,I=E.outWidth,T=i?v*p:v;return"channelsFirst"===s?f=[u,T,_,I]:"channelsLast"===s&&(f=[u,_,I,T]),{batchSize:u,dataFormat:s,inHeight:c,inWidth:d,inChannels:p,outHeight:_,outWidth:I,outChannels:T,padInfo:R,strideHeight:y,strideWidth:b,filterHeight:h,filterWidth:m,effectiveFilterHeight:C,effectiveFilterWidth:k,dilationHeight:w,dilationWidth:S,inShape:e,outShape:f,filterShape:t}}function ET(e,t,n,r,o,a,i,s){void 0===a&&(a=!1),void 0===i&&(i="channelsLast");var l=[-1,-1,-1,-1,-1],u=l[0],c=l[1],d=l[2],p=l[3],f=l[4];if("channelsLast"===i)u=e[0],c=e[1],d=e[2],p=e[3],f=e[4];else{if("channelsFirst"!==i)throw new Error("Unknown dataFormat "+i);u=e[0],f=e[1],c=e[2],d=e[3],p=e[4]}var h,m=t[0],v=t[1],g=t[2],y=t[4],b=IT(n),x=b[0],w=b[1],S=b[2],C=IT(r),k=C[0],E=C[1],R=C[2],_=TT(m,k),I=TT(v,E),T=TT(g,R),A=function(e,t,n,r,o,a,i,s,l,u,c){var d,p,f,h;if("number"==typeof e){d={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};var m=function(e,t,n,r,o,a){null==o&&(o=RT(e,t,r));var i=e[1],s=e[2],l=AT((e[0]-t+2*o)/r+1,a);uE(mE(l),function(){return"The output # of depths ("+l+") must be an integer. Change the stride and/or zero pad parameters"});var u=AT((i-t+2*o)/r+1,a);uE(mE(u),function(){return"The output # of rows ("+u+") must be an integer. Change the stride and/or zero pad parameters"});var c=AT((s-t+2*o)/r+1,a);return uE(mE(c),function(){return"The output # of columns ("+c+") must be an integer. Change the stride and/or zero pad parameters"}),[l,u,c,1]}([t,n,r,1],s,0,o,e,c);p=m[0],f=m[1],h=m[2]}else if("same"===e){var v=((p=Math.ceil(t/o))-1)*o+s-t,g=((f=Math.ceil(n/a))-1)*a+l-n,y=((h=Math.ceil(r/i))-1)*i+u-r,b=Math.floor(v/2),x=v-b,w=Math.floor(g/2),S=g-w,C=Math.floor(y/2);d={top:w,bottom:S,left:C,right:y-C,front:b,back:x,type:"SAME"}}else{if("valid"!==e)throw Error("Unknown padding parameter: "+e);d={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},p=Math.ceil((t-s+1)/o),f=Math.ceil((n-l+1)/a),h=Math.ceil((r-u+1)/i)}return{padInfo:d,outDepth:p,outHeight:f,outWidth:h}}(o,c,d,p,x,w,S,_,I,T,s),P=A.padInfo,N=A.outDepth,M=A.outHeight,O=A.outWidth,D=a?y*f:y;return"channelsFirst"===i?h=[u,D,N,M,O]:"channelsLast"===i&&(h=[u,N,M,O,D]),{batchSize:u,dataFormat:i,inDepth:c,inHeight:d,inWidth:p,inChannels:f,outDepth:N,outHeight:M,outWidth:O,outChannels:D,padInfo:P,strideDepth:x,strideHeight:w,strideWidth:S,filterDepth:m,filterHeight:v,filterWidth:g,effectiveFilterDepth:_,effectiveFilterHeight:I,effectiveFilterWidth:T,dilationDepth:k,dilationHeight:E,dilationWidth:R,inShape:e,outShape:h,filterShape:t}}function RT(e,t,n,r){void 0===r&&(r=1);var o=TT(t,r);return Math.floor((e[0]*(n-1)-n+o)/2)}function _T(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function IT(e){return"number"==typeof e?[e,e,e]:e}function TT(e,t){return t<=1?e:e+(e-1)*(t-1)}function AT(e,t){if(!t)return e;switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error("Unknown roundingMode "+t)}}function PT(e){var t=_T(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function NT(e,t){return PT(e)||PT(t)}function MT(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error("Unknown dataFormat "+e)}function OT(e,t,n){if("complex64"===t){if("complex64"===e.dtype)return e.clone();var r=eI(e.shape),o=e.toFloat(),a=n.complex(o,r);return r.dispose(),o.dispose(),a}if(!_E(e.dtype,t))return bR.makeTensorFromDataId(e.dataId,e.shape,t);if("complex64"===e.dtype){var i=n.real(e);return a=i.cast(t),i.dispose(),a}if("int32"===t)return n.int(e);if("bool"===t){var s=X_(0,e.dtype);return a=n.notEqual(e,s),s.dispose(),a}throw new Error("Error in Cast: failed to cast "+e.dtype+" to "+t)}function DT(e,t){return bR.makeTensorFromDataId(e.dataId,t,e.dtype)}function jT(e,t,n){var r=(t-e)/(n-1),o=WE(n,"float32");o[0]=e;for(var a=1;a<o.length;a++)o[a]=o[a-1]+r;return $_(o,"float32")}Object.freeze({castTensor:OT,reshapeTensor:DT,linspaceImpl:jT,upcastType:dR,axesAreInnerMostDims:N_,combineLocations:M_,computeOutAndReduceShapes:O_,expandShapeToKeepDim:D_,assertAxesAreInnerMostDims:j_,getAxesPermutation:F_,getUndoAxesPermutation:L_,getInnerMostAxes:B_,getBroadcastDims:bT,getReductionAxes:xT,assertAndGetBroadcastShape:wT,assertParamsConsistent:z_,computeOutShape:W_,computePool2DInfo:ST,computePool3DInfo:CT,computeConv2DInfo:kT,computeConv3DInfo:ET,computeDefaultPad:RT,tupleValuesAreOne:PT,eitherStridesOrDilationsAreOne:NT,convertConv2DDataFormat:MT,PARALLELIZE_THRESHOLD:30,computeOptimalWindowSize:nT});function FT(e,t){if(e.length!==t.length)throw new Error("Cannot merge real and imag arrays of different lengths. real:"+e.length+", imag: "+t.length+".");for(var n=new Float32Array(2*e.length),r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function LT(e,t){return{real:e[2*t],imag:e[2*t+1]}}function BT(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function zT(e,t,n){var r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}function WT(e,t,n){var r=function(e,t,n){return function(e,t,n){for(var r=0,o=e.length,a=0,i=!1;r<o;){var s=n(t,e[a=r+(o-r>>>1)]);s>0?r=a+1:(o=a,i=!s)}return i?r:-r-1}(e,t,n||UT)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function UT(e,t){return e>t?1:e<t?-1:0}function VT(e,t,n,r,o){return qT(e,t,n,r,o,0).selectedIndices}function HT(e,t,n,r,o,a){var i=qT(e,t,n,r,o,a,!0);return i.numValidOutputs.dispose(),{selectedIndices:i.selectedIndices,selectedScores:i.selectedScores}}function qT(e,t,n,r,o,a,i,s){void 0===i&&(i=!1),void 0===s&&(s=!1);for(var l=Array.from(t).map(function(e,t){return{score:e,boxIndex:t,suppressBeginIndex:0}}).filter(function(e){return e.score>o}).sort(XT),u=a>0?-.5/a:0,c=[],d=[];c.length<n&&l.length>0;){var p=l.pop(),f=p.score,h=p.boxIndex,m=p.suppressBeginIndex;if(f<o)break;for(var v=!1,g=c.length-1;g>=m;--g){var y=GT(e,h,c[g]);if(y>=r){v=!0;break}if(p.score=p.score*KT(r,u,y),p.score<=o)break}p.suppressBeginIndex=c.length,v||(p.score===f?(c.push(h),d.push(p.score)):p.score>o&&WT(l,p,XT))}var b=c.length;return s&&(c.fill(0,b),d.fill(0,b)),{selectedIndices:$_(c,"int32"),selectedScores:$_(d,"float32"),numValidOutputs:X_(b,"int32")}}function GT(e,t,n){var r=e.subarray(4*t,4*t+4),o=e.subarray(4*n,4*n+4),a=Math.min(r[0],r[2]),i=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),u=Math.min(o[0],o[2]),c=Math.min(o[1],o[3]),d=Math.max(o[0],o[2]),p=Math.max(o[1],o[3]),f=(s-a)*(l-i),h=(d-u)*(p-c);if(f<=0||h<=0)return 0;var m=Math.max(a,u),v=Math.max(i,c),g=Math.min(s,d),y=Math.min(l,p),b=Math.max(g-m,0)*Math.max(y-v,0);return b/(f+h-b)}function KT(e,t,n){var r=Math.exp(t*n*n);return n<=e?r:0}function XT(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}function $T(e,t,n){var r=new Array(e.rank).fill(0),o=e.shape.slice();return t.map(function(t){o[n]=t;var a=e.slice(r,o);return r[n]+=t,a})}function YT(e,t){for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[r]*t[r];var o=CI(n,e.dtype);for(r=0;r<o.values.length;++r){for(var a=o.indexToLoc(r),i=new Array(e.rank),s=0;s<i.length;s++)i[s]=a[s]%e.shape[s];var l=e.locToIndex(i);o.values[r]=e.values[l]}return o.toTensor()}function QT(e,t,n,r,o){for(var a=t[t.length-1],i=[e.length/a,a],s=i[0],l=i[1],u=CE(n,s*r),c=CE("int32",s*r),d=0;d<s;d++){for(var p=d*l,f=e.subarray(p,p+l),h=[],m=0;m<f.length;m++)h.push({value:f[m],index:m});h.sort(function(e,t){return t.value-e.value});var v=d*r,g=u.subarray(v,v+r),y=c.subarray(v,v+r);for(m=0;m<r;m++)g[m]=h[m].value,y[m]=h[m].index}var b=t.slice();return b[b.length-1]=r,[G_(u,b,n),G_(c,b,"int32")]}function JT(e,t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(r);var o=CI(e,"int32"),a=CI([n.length,e.length],"int32");for(r=0;r<n.length;r++){var i=o.indexToLoc(n[r]),s=r*e.length;a.values.set(i,s)}return a.toTensor()}var ZT=function(e,t){this.outputShape=[],this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("float v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        float result = "+r+";\n        setOutput(result);\n      }\n    "},eA=function(e,t){this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.variableNames=t.map(function(e,t){return"T"+t});var n=[];this.variableNames.forEach(function(e){n.push("vec4 v"+e+" = get"+e+"AtOutCoords();")});var r=this.variableNames.map(function(e){return"v"+e}).join(" + ");this.userCode="\n      void main() {\n        "+n.join("\n        ")+"\n\n        vec4 result = "+r+";\n        setOutput(result);\n      }\n    "},tA=function(e,t,n){this.variableNames=["A"];var r=e.windowSize,o=e.batchSize,a=e.inSize,i=Math.ceil(a/r);n||this.variableNames.push("bestIndicesA"),this.outputShape=[o,i];var s="max"===t?">":"<",l=n?"inOffset + i;":"round(getBestIndicesA(batch, inOffset + i));";this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+r+";\n\n        int bestIndex = inOffset;\n        float bestValue = getA(batch, bestIndex);\n\n        for (int i = 0; i < "+r+"; i++) {\n          int inIdx = "+l+";\n          float candidate = getA(batch, inIdx);\n          if (candidate "+s+" bestValue) {\n            bestValue = candidate;\n            bestIndex = inIdx;\n          }\n        }\n        setOutput(float(bestIndex));\n      }\n    "};function nA(e,t){return["x","y","z","w","u","v"].slice(0,t).map(function(t){return e+"."+t})}function rA(e,t){return 1===t?[e]:nA(e,t)}function oA(){var e,t,n,r,o,a,i,s,l,u;return 2===Yk().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",a="outputColor",i="out vec4 outputColor;",s="\n      bool isnan_custom(float val) {\n        return (val > 0.0 || val < 0.0) ? false : val != 0.0;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",l="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",i="",s="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",l="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:i,defineSpecialNaN:s,defineSpecialInf:l,defineRound:u}}function aA(e,t,n){void 0===n&&(n="index");var r=FE(t);return r.map(function(t,o){return"int "+e[o]+" = "+n+" / "+t+"; "+(o===r.length-1?"int "+e[o+1]+" = "+n+" - "+e[o]+" * "+t:"index -= "+e[o]+" * "+t)+";"}).join("")}function iA(e){var t=FE(e).map(function(e){return e.toString()});return"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * "+t[0]+" + coords.y * "+t[1]+" + coords.z;\n  }\n"}var sA="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n";function lA(e,t,n,r){var o=[];e.forEach(function(e){var t=fE(e.shapeInfo.logicalShape);e.shapeInfo.isUniform?o.push("uniform float "+e.name+(t>1?"["+t+"]":"")+";"):(o.push("uniform sampler2D "+e.name+";"),o.push("uniform int offset"+e.name+";"))});var a,i,s=o.join("\n"),l=e.map(function(e){return function(e,t,n){void 0===n&&(n=!1);var r="";r+=n?cA(e):uA(e);var o=e.shapeInfo.logicalShape,a=t.logicalShape;return o.length<=a.length&&(r+=n?function(e,t){var n,r=e.name,o=r.charAt(0).toUpperCase()+r.slice(1),a="get"+o+"AtOutCoords",i=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=bT(e.shapeInfo.logicalShape,t.logicalShape),u=gA(s),c=s-i,d=["x","y","z","w","u","v"];n=0===i?"":s<2&&l.length>=1?"coords = 0;":l.map(function(e){return"coords."+d[e+c]+" = 0;"}).join("\n");var p;p=s<2&&i>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+d[t+c]}).join(", ");var f="return outputValue;",h=1===fE(e.shapeInfo.logicalShape),m=1===fE(t.logicalShape);if(1!==i||h||m){if(h&&!m)f=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){var v=i-2,g=i-1;l.indexOf(v)>-1&&l.indexOf(g)>-1?f="return vec4(outputValue.x);":l.indexOf(v)>-1?f="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(g)>-1&&(f="return vec4(outputValue.xx, outputValue.zz);")}}else f="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return"\n    vec4 "+a+"() {\n      "+u+" coords = getOutputCoords();\n      "+n+"\n      vec4 outputValue = get"+o+"("+p+");\n      "+f+"\n    }\n  "}(e,t):function(e,t){var n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=t.texShape,i=e.shapeInfo.texShape,s=e.shapeInfo.logicalShape.length,l=t.logicalShape.length;if(!e.shapeInfo.isUniform&&s===l&&null==e.shapeInfo.flatOffset&&hE(i,a))return"\n      float "+o+"() {\n        return sampleTexture("+n+", resultUV);\n      }\n    ";var u,c=gA(l),d=bT(e.shapeInfo.logicalShape,t.logicalShape),p=l-s,f=["x","y","z","w","u","v"];u=0===s?"":l<2&&d.length>=1?"coords = 0;":d.map(function(e){return"coords."+f[e+p]+" = 0;"}).join("\n");var h;return h=l<2&&s>0?"coords":e.shapeInfo.logicalShape.map(function(e,t){return"coords."+f[t+p]}).join(", "),"\n    float "+o+"() {\n      "+c+" coords = getOutputCoords();\n      "+u+"\n      return get"+r+"("+h+");\n    }\n  "}(e,t)),r}(e,t,r)}).join("\n"),u=t.texShape,c=oA(),d=function(e){return"\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return "+e.texture2D+"(textureSampler, uv).r;\n    }\n  "}(c),p=function(e){return e.version+"\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    "+e.varyingFs+" vec2 resultUV;\n    "+e.defineOutput+"\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    "+e.defineSpecialNaN+"\n    "+e.defineSpecialInf+"\n    "+e.defineRound+"\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    "+dA+"\n    "+pA+"\n    "+fA+"\n  "}(c);return t.isPacked?(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];return 1===n[0]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * "+n[1]+".0);\n      }\n    ":1===n[1]?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * "+n[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      return 2 * (resTexRC.x * "+n[1]+" + resTexRC.y);\n    }\n  "}(0,t);case 2:return function(e,t){var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(hE(e,t))return"\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2("+n[0]+", "+n[1]+"));\n      }\n    ";var r=Math.ceil(e[1]/2);return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=e,r=t,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],i=(a=Math.ceil(n[2]/2))*Math.ceil(n[1]/2),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+o[0]+", "+o[1]+"));\n      int index = resTexRC.x * "+o[1]+" + resTexRC.y;\n\n      int b = index / "+i+";\n      index -= b * "+i+";\n\n      int r = 2 * (index / "+a+");\n      int c = imod(index, "+a+") * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";default:return function(e,t){for(var n=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],r=Math.ceil(e[e.length-1]/2),o=r*Math.ceil(e[e.length-2]/2),a=o,i="",s="b, r, c",l=2;l<e.length-1;l++)i="\n      int b"+l+" = index / "+(a*=e[e.length-l-1])+";\n      index -= b"+l+" * "+a+";\n    "+i,s="b"+l+", "+s;return"\n    ivec"+e.length+" getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n\n      "+i+"\n\n      int b = index / "+o+";\n      index -= b * "+o+";\n\n      int r = 2 * (index / "+r+");\n      int c = imod(index, "+r+") * 2;\n\n      return ivec"+e.length+"("+s+");\n    }\n  "}(e,t)}var n,r,o,a,i}(t.logicalShape,u),i=function(e){return"\n    void setOutput(vec4 val) {\n      "+e.output+" = val;\n    }\n  "}(c)):(a=function(e,t){switch(e.length){case 0:return"\n    int getOutputCoords() {\n      return 0;\n    }\n  ";case 1:return function(e,t){return 1===t[0]?"\n      int getOutputCoords() {\n        return int(resultUV.x * "+t[1]+".0);\n      }\n    ":1===t[1]?"\n      int getOutputCoords() {\n        return int(resultUV.y * "+t[0]+".0);\n      }\n    ":"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      return resTexRC.x * "+t[1]+" + resTexRC.y;\n    }\n  "}(0,t);case 2:return function(e,t){return hE(e,t)?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2("+t[0]+", "+t[1]+"));\n      }\n    ":1===e[1]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":1===e[0]?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2("+t[0]+", "+t[1]+"));\n        int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      int r = index / "+e[1]+";\n      int c = index - r * "+e[1]+";\n      return ivec2(r, c);\n    }\n  "}(e,t);case 3:return n=t,r=aA(["r","c","d"],e),"\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2("+n[0]+", "+n[1]+"));\n      int index = resTexRC.x * "+n[1]+" + resTexRC.y;\n      "+r+"\n      return ivec3(r, c, d);\n    }\n  ";case 4:return function(e,t){var n=aA(["r","c","d","d2"],e);return"\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n      "+n+"\n      return ivec4(r, c, d, d2);\n    }\n  "}(e,t);case 5:return function(e,t){var n=aA(["r","c","d","d2","d3"],e);return"\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2("+t[0]+",\n                             "+t[1]+"));\n\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  "}(e,t);case 6:return function(e,t){var n=aA(["r","c","d","d2","d3","d4"],e);return"\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2("+t[0]+", "+t[1]+"));\n      int index = resTexRC.x * "+t[1]+" + resTexRC.y;\n\n      "+n+"\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  "}(e,t);default:throw new Error(e.length+"-D output sampling is not yet supported")}var n,r}(t.logicalShape,u),i=function(e){return"\n    void setOutput(float val) {\n      "+e.output+" = vec4(val, 0, 0, 0);\n    }\n  "}(c)),r&&(p+=hA),[p,d,i,s,a,l,n].join("\n")}function uA(e){var t=e.shapeInfo.logicalShape;switch(t.length){case 0:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"float "+n+"() {return "+t+";}";var r=e.shapeInfo.texShape,o=r[0],a=r[1];if(1===o&&1===a)return"\n      float "+n+"() {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=e.shapeInfo.texShape;return"\n    float "+n+"() {\n      vec2 uv = uvFromFlat("+i[0]+", "+i[1]+", "+mA(t)+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1);if(e.shapeInfo.isUniform)return"\n      float "+n+"(int index) {\n        "+vA(e)+"\n      }\n    ";var r=e.shapeInfo.texShape,o=r[0],a=r[1];if(1===a&&1===o)return"\n      float "+n+"(int index) {\n        return sampleTexture("+t+", halfCR);\n      }\n    ";var i=mA(t);return 1===a?"\n      float "+n+"(int index) {\n        vec2 uv = vec2(0.5, (float(index + "+i+") + 0.5) / "+o+".0);\n        return sampleTexture("+t+", uv);\n      }\n    ":1===o?"\n      float "+n+"(int index) {\n        vec2 uv = vec2((float(index + "+i+") + 0.5) / "+a+".0, 0.5);\n        return sampleTexture("+t+", uv);\n      }\n    ":"\n    float "+n+"(int index) {\n      vec2 uv = uvFromFlat("+o+", "+a+", index + "+i+");\n      return sampleTexture("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape;if(null!=o&&hE(t,o)){var a=o[0];return"\n    float "+r+"(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2("+o[1]+".0, "+a+".0);\n      return sampleTexture("+n+", uv);\n    }\n  "}var i=SE(t),s=i.newShape,l=i.keptDims,u=s;if(u.length<t.length)return"\n      "+uA(yA(e,u))+"\n      float "+r+"(int row, int col) {\n        return "+r+"("+bA(["row","col"],l)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2("+t[1]+", 1)));\n        "+vA(e)+"\n      }\n    ";var c=o[0],d=o[1],p=mA(n);return 1===d?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / "+c+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":1===c?"\n    float "+r+"(int row, int col) {\n      float index = dot(vec3(row, col, "+p+"), vec3("+t[1]+", 1, 1));\n      vec2 uv = vec2((index + 0.5) / "+d+".0, 0.5);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n  float "+r+"(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * "+t[1]+" + col + "+p+";\n    vec2 uv = uvFromFlat("+c+", "+d+", index);\n    return sampleTexture("+n+", uv);\n  }\n"}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[1]*t[2],a=t[2],i=SE(t),s=i.newShape,l=i.keptDims,u=s;if(u.length<t.length)return"\n        "+uA(yA(e,u))+"\n        float "+r+"(int row, int col, int depth) {\n          return "+r+"("+bA(["row","col","depth"],l)+");\n        }\n      ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3("+o+", "+a+", 1)));\n        "+vA(e)+"\n      }\n    ";var c=e.shapeInfo.texShape,d=c[0],p=c[1],f=e.shapeInfo.flatOffset;return p===o&&null==f?"\n        float "+r+"(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2("+a+", 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2("+p+".0, "+d+".0);\n          return sampleTexture("+n+", uv);\n        }\n      ":p===a&&null==f?"\n    float "+r+"(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2("+t[1]+", 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+p+".0, "+d+".0);\n      return sampleTexture("+n+", uv);\n    }\n  ":"\n      float "+r+"(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * "+o+" + col * "+a+" + depth + "+mA(n)+";\n        vec2 uv = uvFromFlat("+d+", "+p+", index);\n        return sampleTexture("+n+", uv);\n      }\n  "}(e);case 4:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[3],a=t[2]*o,i=t[1]*a,s=SE(t),l=s.newShape,u=s.keptDims;if(l.length<t.length)return"\n      "+uA(yA(e,l))+"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        return "+r+"("+bA(["row","col","depth","depth2"],u)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4("+i+", "+a+", "+o+", 1)));\n        "+vA(e)+"\n      }\n    ";var c=e.shapeInfo.flatOffset,d=e.shapeInfo.texShape,p=d[0],f=d[1];return f===i&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3("+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":f===o&&null==c?"\n      float "+r+"(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3("+t[1]*t[2]+", "+t[2]+", 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+f+".0, "+p+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+i+" + col * "+a+" +\n          depth * "+o+" + depth2;\n      vec2 uv = uvFromFlat("+p+", "+f+", index + "+mA(n)+");\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 5:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],a=t[3]*o,i=t[2]*a,s=t[1]*i,l=SE(t),u=l.newShape,c=l.keptDims;if(u.length<t.length)return"\n      "+uA(yA(e,u))+"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        return "+r+"("+bA(["row","col","depth","depth2","depth3"],c)+");\n      }\n    ";if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+s+", "+i+", "+a+", "+o+")) +\n          depth3;\n        "+vA(e)+"\n      }\n    ";var d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1];return h===s&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4("+i+", "+a+", "+o+", 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":h===o&&null==d?"\n      float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]+",\n               "+t[2]*t[3]+", "+t[3]+", 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+h+".0, "+f+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+s+" + col * "+i+" + depth * "+a+" +\n          depth2 * "+o+" + depth3 + "+mA(n)+";\n      vec2 uv = uvFromFlat("+f+", "+h+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);case 6:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=SE(t),a=o.newShape,i=o.keptDims;if(a.length<t.length)return"\n      "+uA(yA(e,a))+"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return "+r+"("+bA(["row","col","depth","depth2","depth3","depth4"],i)+");\n      }\n    ";var s=t[5],l=t[4]*s,u=t[3]*l,c=t[2]*u,d=t[1]*c;if(e.shapeInfo.isUniform)return"\n      float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4("+d+", "+c+", "+u+", "+l+")) +\n          dot(\n            vec2(depth3, depth4),\n            vec2("+s+", 1)));\n        "+vA(e)+"\n      }\n    ";var p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];return m===d&&null==p?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4("+c+", "+u+", "+l+", "+s+")) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2("+m+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":m===s&&null==p?"\n      float "+r+"(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4("+t[1]*t[2]*t[3]*t[4]+",\n               "+t[2]*t[3]*t[4]+",\n               "+t[3]*t[4]+",\n               "+t[4]+")) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2("+m+".0, "+h+".0);\n        return sampleTexture("+n+", uv);\n      }\n    ":"\n    float "+r+"(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * "+d+" + col * "+c+" + depth * "+u+" +\n          depth2 * "+l+" + depth3 * "+s+" + depth4 + "+mA(n)+";\n      vec2 uv = uvFromFlat("+h+", "+m+", index);\n      return sampleTexture("+n+", uv);\n    }\n  "}(e);default:throw new Error(t.length+"-D input sampling is not yet supported")}}function cA(e){var t;switch(e.shapeInfo.logicalShape.length){case 0:return"\n    vec4 "+("get"+(t=e.name).charAt(0).toUpperCase()+t.slice(1))+"() {\n      return "+oA().texture2D+"("+t+", halfCR);\n    }\n  ";case 1:return function(e){var t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=e.shapeInfo.texShape,o=[Math.ceil(r[0]/2),Math.ceil(r[1]/2)],a=oA();return"\n    vec4 "+n+"(int index) {\n      vec2 uv = packedUVfrom1D(\n        "+o[0]+", "+o[1]+", index);\n      return "+a.texture2D+"("+t+", uv);\n    }\n  "}(e);case 2:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,a=o[0],i=o[1],s=oA();if(null!=o&&hE(t,o))return"\n      vec4 "+r+"(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2("+i+".0, "+a+".0);\n\n        return "+s.texture2D+"("+n+", uv);\n      }\n    ";var l=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];return"\n    vec4 "+r+"(int row, int col) {\n      vec2 uv = packedUVfrom2D("+Math.ceil(t[1]/2)+", "+l[0]+", "+l[1]+", row, col);\n      return "+s.texture2D+"("+n+", uv);\n    }\n  "}(e);case 3:return function(e){var t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=e.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===t[0])return"\n        "+cA(yA(e,t.slice(1)))+"\n        vec4 "+r+"(int b, int row, int col) {\n          return "+r+"("+bA(["b","row","col"],[1,2])+");\n        }\n      ";var i=a[0],s=a[1],l=Math.ceil(t[2]/2);return"\n    vec4 "+r+"(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        "+i+", "+s+", "+l*Math.ceil(t[1]/2)+", "+l+", b, row, col);\n      return "+oA().texture2D+"("+n+", uv);\n    }\n  "}(e);default:return function(e){for(var t=e.shapeInfo.logicalShape,n=t.length,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,i=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],s=i[0],l=i[1],u=Math.ceil(t[n-1]/2),c=u*Math.ceil(t[n-2]/2),d="int b, int row, int col",p="b * "+c+" + (row / 2) * "+u+" + (col / 2)",f=2;f<n-1;f++)d="int b"+f+", "+d,p="b"+f+" * "+(c*=t[n-f-1])+" + "+p;return"\n    vec4 "+o+"("+d+") {\n      int index = "+p+";\n      int texR = index / "+l+";\n      int texC = index - texR * "+l+";\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+l+", "+s+");\n      return "+oA().texture2D+"("+r+", uv);\n    }\n  "}(e)}}var dA="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",pA="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",fA="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",hA="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function mA(e){return"offset"+e}function vA(e){var t=e.name,n=fE(e.shapeInfo.logicalShape);return n<2?"return "+t+";":"\n    for (int i = 0; i < "+n+"; i++) {\n      if (i == index) {\n        return "+t+"[i];\n      }\n    }\n  "}function gA(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error("GPU for rank "+e+" is not yet supported")}function yA(e,t){var n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function bA(e,t){return t.map(function(t){return e[t]}).join(", ")}var xA=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,uE(e.length>2,function(){return"Packed arg"+(n.charAt(0).toUpperCase()+n.slice(1))+" supports only inputs with rank above 2."});var o=e[e.length-1],a=Math.ceil(o/t);this.outputShape=e.slice(0,-1),a>1&&this.outputShape.push(a),r||this.variableNames.push("bestIndicesA");var i,s,l=this.outputShape,u=l.length,c=gA(u),d=rA("coords",u);if(1===a){var p=gA(s=u+1);i="\n        "+p+" sourceLocR = "+p+"("+d.join()+", 0);\n        ++"+d[u-1]+";\n        "+p+" sourceLocG = "+p+"("+d.join()+", 0);\n        ++"+d[u-2]+";\n        "+p+" sourceLocA = "+p+"("+d.join()+", 0);\n        --"+d[u-1]+";\n        "+p+" sourceLocB = "+p+"("+d.join()+", 0);\n        --"+d[u-2]+";"}else s=u,i="\n        "+c+" sourceLocR = coords;\n        ++"+d[u-1]+";\n        "+c+" sourceLocG = coords;\n        ++"+d[u-2]+";\n        "+c+" sourceLocA = coords;\n        --"+d[u-1]+";\n        "+c+" sourceLocB = coords;\n        --"+d[u-2]+";";var f=["x","y","z","w","u","v"].slice(0,s),h="."+f[s-1],m=f.map(function(e){return"int "+e}),v=rA("sourceLocR",s-1).concat("inIdx.r"),g=rA("sourceLocG",s-1).concat("inIdx.g"),y=rA("sourceLocB",s-1).concat("inIdx.b"),b=rA("sourceLocA",s-1).concat("inIdx.a"),x="max"===n?"greaterThan":"lessThan",w=r?"":"\n          inIdx = round(vec4(getBestIndicesAChannel("+v.join()+"),\n                             getBestIndicesAChannel("+g.join()+"),\n                             getBestIndicesAChannel("+y.join()+"),\n                             getBestIndicesAChannel("+b.join()+")));",S="vec4(\n            getAChannel("+v.join()+"),\n            hasNextCol ? getAChannel("+g.join()+") : 0.,\n            hasNextRow ? getAChannel("+y.join()+") : 0.,\n            hasNextRow && hasNextCol ? getAChannel("+b.join()+") : 0.)",C=r?"":"\n      float getBestIndicesAChannel("+m.join()+") {\n        return getChannel(getBestIndicesA("+f.join()+"),\n                                          vec2("+f.slice(-2).join()+"));\n      }";this.userCode="\n      float getAChannel("+m.join()+") {\n        return getChannel(getA("+f.join()+"),\n                               vec2("+f.slice(-2).join()+"));\n      }\n      "+C+"\n      void main() {\n        "+c+" coords = getOutputCoords();\n        bool hasNextCol = "+d[u-1]+" < "+(l[u-1]-1)+";\n        bool hasNextRow = "+d[u-2]+" < "+(l[u-2]-1)+";\n        "+i+"\n        ivec4 srcIdx = ivec4(sourceLocR"+h+", sourceLocG"+h+",\n          sourceLocB"+h+", sourceLocA"+h+") * "+t+";\n        ivec4 inIdx = srcIdx;\n        vec4 bestIndex = vec4(inIdx);\n        vec4 bestValue = "+S+";\n\n        for (int i = 0; i < "+t+"; i++) {\n          inIdx = srcIdx;\n          "+w+"\n          vec4 candidate = "+S+";\n          bvec4 nan = isnan(candidate);\n          bvec4 replace = bvec4(\n            vec4("+x+"(candidate, bestValue)) * (vec4(1.0) - vec4(nan)));\n\n          bestValue = vec4(replace.x  ? candidate.x : bestValue.x,\n                           replace.y  ? candidate.y : bestValue.y,\n                           replace.z  ? candidate.z : bestValue.z,\n                           replace.w  ? candidate.w : bestValue.w);\n          bestIndex = mix(bestIndex, vec4(inIdx), vec4(replace));\n          srcIdx++;\n        }\n        setOutput(bestIndex);\n      }\n    "},wA=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterHeight,l=e.effectiveFilterWidth,u=s-1-e.padInfo.top,c=l-1-e.padInfo.left,d=1/(t*n);this.userCode="\n      const ivec2 pads = ivec2("+u+", "+c+");\n      const float avgMultiplier = float("+d+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+s+";\n            wR += "+a+") {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+l+";\n            wC+= "+i+") {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n\n            dotProd += dyValue * avgMultiplier;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},SA=function(e){this.variableNames=["dy"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=c-1-e.padInfo.front,h=d-1-e.padInfo.top,m=p-1-e.padInfo.left,v=1/(t*n*r);this.userCode="\n      const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n      const float avgMultiplier = float("+v+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, d) with pos mask(:, :, :, ch) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          float dyD = float(dyDCorner + wD) / "+o+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+d+";\n              wR += "+l+") {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+p+";\n                wC += "+u+") {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n\n              dotProd += dyValue * avgMultiplier;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},CA=function(e,t,n,r,o,a){this.outputShape=[],this.variableNames=["x","mean","variance"],wT(e,t),wT(e,n);var i="0.0";null!=r&&(wT(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="1.0";null!=o&&(wT(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        float x = getXAtOutCoords();\n        float mean = getMeanAtOutCoords();\n        float variance = getVarianceAtOutCoords();\n        float offset = "+i+";\n        float scale = "+s+";\n        float inv = scale * inversesqrt(variance + float("+a+"));\n        setOutput(dot(vec3(x, -mean, offset), vec3(inv, inv, 1)));\n      }\n    "},kA=function(e,t,n,r,o,a){this.packedInputs=!0,this.packedOutput=!0,this.variableNames=["x","mean","variance"],wT(e,t),wT(e,n);var i="vec4(0.0)";null!=r&&(wT(e,r),this.variableNames.push("offset"),i="getOffsetAtOutCoords()");var s="vec4(1.0)";null!=o&&(wT(e,o),this.variableNames.push("scale"),s="getScaleAtOutCoords()"),this.outputShape=e,this.userCode="\n      void main() {\n        vec4 offset = "+i+";\n        vec4 scale = "+s+";\n\n        vec4 x = getXAtOutCoords();\n        vec4 mean = getMeanAtOutCoords();\n        vec4 variance = getVarianceAtOutCoords();\n\n        vec4 inv = scale * inversesqrt(variance + vec4("+a+"));\n\n        setOutput((x - mean) * inv + offset);\n      }\n    "},EA=function(e,t,n){this.variableNames=["AReal","AImag","BReal","BImag"],this.outputShape=wT(t,n),this.userCode="\n      float binaryOpComplex(\n          float areal, float aimag, float breal, float bimag) {\n        "+e+"\n      }\n\n      void main() {\n        float areal = getARealAtOutCoords();\n        float aimag = getAImagAtOutCoords();\n        float breal = getBRealAtOutCoords();\n        float bimag = getBImagAtOutCoords();\n        setOutput(binaryOpComplex(areal, aimag, breal, bimag));\n      }\n    "},RA="return a + b;",_A="return a - b;",IA="return a * b;",TA="return (a < 0.) ? b * a : a;",AA=function(e,t,n){this.variableNames=["A","B"],this.outputShape=wT(t,n),this.userCode="\n      float binaryOperation(float a, float b) {\n        "+e+"\n      }\n\n      void main() {\n        float a = getAAtOutCoords();\n        float b = getBAtOutCoords();\n        setOutput(binaryOperation(a, b));\n      }\n    "},PA="\n  vec4 aLessThanZero = vec4(lessThan(a, vec4(0.)));\n  return (aLessThanZero * (b * a)) + ((vec4(1.0) - aLessThanZero) * a);\n",NA=function(e,t,n,r){void 0===r&&(r=!1),this.variableNames=["A","B"],this.supportsBroadcasting=!0,this.packedInputs=!0,this.packedOutput=!0,this.outputShape=wT(t,n);var o=this.outputShape.length,a="";if(r)if(0===o||1===fE(this.outputShape))a="\n          result.y = 0.;\n          result.z = 0.;\n          result.w = 0.;\n        ";else if(a="\n          "+gA(o)+" coords = getOutputCoords();\n        ",1===o)a+="\n            result.y = (coords + 1) >= "+this.outputShape[0]+" ? 0. : result.y;\n            result.z = 0.;\n            result.w = 0.;\n          ";else{var i=rA("coords",o);a+="\n            bool nextRowOutOfBounds =\n              ("+i[o-2]+" + 1) >= "+this.outputShape[o-2]+";\n            bool nextColOutOfBounds =\n              ("+i[o-1]+" + 1) >= "+this.outputShape[o-1]+";\n            result.y = nextColOutOfBounds ? 0. : result.y;\n            result.z = nextRowOutOfBounds ? 0. : result.z;\n            result.w = nextColOutOfBounds || nextRowOutOfBounds ? 0. : result.w;\n          "}this.userCode="\n      vec4 binaryOperation(vec4 a, vec4 b) {\n        "+e+"\n      }\n\n      void main() {\n        vec4 a = getAAtOutCoords();\n        vec4 b = getBAtOutCoords();\n\n        vec4 result = binaryOperation(a, b);\n        "+a+"\n\n        setOutput(result);\n      }\n    "},MA=function(){function e(e){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        float value = getAAtOutCoords();\n        if (isnan(value)) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, minVal, maxVal));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),OA=function(){function e(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      uniform float minVal;\n      uniform float maxVal;\n\n      void main() {\n        vec4 value = getAAtOutCoords();\n\n        if (any(isnan(value))) {\n          setOutput(value);\n          return;\n        }\n\n        setOutput(clamp(value, vec4(minVal), vec4(maxVal)));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e,t){var n=this;return function(r,o){null==n.minLoc&&(n.minLoc=r.getUniformLocationNoThrow(o,"minVal"),n.maxLoc=r.getUniformLocationNoThrow(o,"maxVal")),r.gl.uniform1f(n.minLoc,e),r.gl.uniform1f(n.maxLoc,t)}},e}(),DA=function(e){this.variableNames=["real","imag"],this.outputShape=e,this.userCode="\n      void main() {\n        float re = abs(getRealAtOutCoords());\n        float im = abs(getImagAtOutCoords());\n        float mx = max(re, im);\n\n        // sadly the length function in glsl is not underflow-safe\n        // (at least not on Intel GPUs). So the safe solution is\n        // to ensure underflow-safety in all cases.\n        setOutput(\n          mx == 0.0 ? 0.0 : mx * length(vec2(1, min(re, im)/mx))\n        );\n      }\n    "},jA=function(e){this.outputShape=[],this.outputShape=W_(e,1),this.variableNames=e.map(function(e,t){return"T"+t});var t=new Array(e.length-1);t[0]=e[0][1];for(var n=1;n<t.length;n++)t[n]=t[n-1]+e[n][1];var r=["if (yC < "+t[0]+") setOutput(getT0(yR, yC));"];for(n=1;n<t.length;n++){var o=t[n-1];r.push("else if (yC < "+t[n]+") setOutput(getT"+n+"(yR, yC-"+o+"));")}var a=t.length,i=t[t.length-1];r.push("else setOutput(getT"+a+"(yR, yC-"+i+"));"),this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int yR = coords.x;\n        int yC = coords.y;\n\n        "+r.join("\n        ")+"\n      }\n    "},FA=function(e,t){this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[],this.outputShape=W_(e,t);var n=this.outputShape,r=n.length,o=gA(r),a=rA("coords",r),i=["x","y","z","w","u","v"].slice(0,r);this.variableNames=e.map(function(e,t){return"T"+t});var s=new Array(e.length-1);s[0]=e[0][t];for(var l=1;l<s.length;l++)s[l]=s[l-1]+e[l][t];var u=i[t],c=i.slice(-2),d=i.join(),p="if ("+u+" < "+s[0]+") {\n        return getChannel(\n            getT0("+d+"), vec2("+c.join()+"));\n        }";for(l=1;l<s.length;l++){var f=s[l-1];p+="\n        if ("+u+" < "+s[l]+"  && "+u+" >= "+s[l-1]+") {\n          return getChannel(\n            getT"+l+"("+LA(i,u,f)+"),\n            vec2("+LA(c,u,f)+"));\n        }"}var h=s.length,m=s[s.length-1];p+="\n        return getChannel(\n          getT"+h+"("+LA(i,u,m)+"),\n          vec2("+LA(c,u,m)+"));",this.userCode="\n      float getValue("+i.map(function(e){return"int "+e})+") {\n        "+p+"\n      }\n\n      void main() {\n        "+o+" coords = getOutputCoords();\n        vec4 result = vec4(getValue("+a+"), 0., 0., 0.);\n\n        "+a[r-1]+" = "+a[r-1]+" + 1;\n        if ("+a[r-1]+" < "+n[r-1]+") {\n          result.g = getValue("+a+");\n        }\n\n        "+a[r-2]+" = "+a[r-2]+" + 1;\n        if ("+a[r-2]+" < "+n[r-2]+") {\n          result.a = getValue("+a+");\n        }\n\n        "+a[r-1]+" = "+a[r-1]+" - 1;\n        if ("+a[r-2]+" < "+n[r-2]+" &&\n            "+a[r-1]+" < "+n[r-1]+") {\n          result.b = getValue("+a+");\n        }\n        setOutput(result);\n      }\n    "};function LA(e,t,n){var r=e.indexOf(t);return e.map(function(e,t){return t===r?e+" - "+n:e}).join()}var BA=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a="channelsLast"===e.dataFormat;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int d2 = coords.w;\n\n        // Convolve x(?, ?, d1) with dy(:, :, d2) to get dw(wR, wC, d1, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              if ("+a+") {\n                float dyValue = getDy(b, yR, yC, d2);\n                float xValue = getX(b, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              } else {\n                float dyValue = getDy(b, d2, yR, yC);\n                float xValue = getX(b, d1, xR, xC);\n                dotProd += (xValue * dyValue);\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},zA=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a="channelsLast"===e.dataFormat,i=t-1-e.padInfo.top,s=n-1-e.padInfo.left,l=a?1:2,u=a?2:3,c=a?3:1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords["+c+"];\n\n        ivec2 dyCorner = ivec2(coords["+l+"], coords["+u+"]) - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        // Convolve dy(?, ?, d2) with w(:, :, d1, d2) to compute dx(xR, xC, d1).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n\n              if ("+a+") {\n                float xValue = getDy(batch, idyR, idyC, d2);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              } else {\n                float xValue = getDy(batch, d2, idyR, idyC);\n                float wValue = getW(wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},WA=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.padInfo.front,a=e.padInfo.top,i=e.padInfo.left;this.userCode="\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int wF = coords.x;\n        int wR = coords.y;\n        int wC = coords.z;\n        int d1 = coords.w;\n        int d2 = coords.u;\n\n        float dotProd = 0.0;\n\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yF = 0; yF < "+e.outDepth+"; yF++) {\n            int xF = wF + yF * "+t+" - "+o+";\n\n            if (xF < 0 || xF >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n              int xR = wR + yR * "+n+" - "+a+";\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n                int xC = wC + yC * "+r+" - "+i+";\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float dyValue = getDy(b, yF, yR, yC, d2);\n                float xValue = getX(b, xF, xR, xC, d1);\n                dotProd += (xValue * dyValue);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},UA=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterDepth,n=e.filterHeight,r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=t-1-e.padInfo.front,l=n-1-e.padInfo.top,u=r-1-e.padInfo.left;this.userCode="\n      const ivec3 pads = ivec3("+s+", "+l+", "+u+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d1 = coords.u;\n\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyFCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+t+"; wF++) {\n          float dyF = float(dyFCorner + wF) / "+o+".0;\n\n          if (dyF < 0.0 || dyF >= "+e.outDepth+".0 || fract(dyF) > 0.0) {\n            continue;\n          }\n          int idyF = int(dyF);\n\n          int wFPerm = "+t+" - 1 - wF;\n\n          for (int wR = 0; wR < "+n+"; wR++) {\n            float dyR = float(dyRCorner + wR) / "+a+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n              fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            int wRPerm = "+n+" - 1 - wR;\n\n            for (int wC = 0; wC < "+r+"; wC++) {\n              float dyC = float(dyCCorner + wC) / "+i+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              int wCPerm = "+r+" - 1 - wC;\n\n              for (int d2 = 0; d2 < "+e.outChannels+"; d2++) {\n                float xValue = getDy(batch, idyF, idyR, idyC, d2);\n                float wValue = getW(wFPerm, wRPerm, wCPerm, d1, d2);\n                dotProd += xValue * wValue;\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},VA=function(e){this.variableNames=["x","dy"],this.outputShape=e.filterShape;var t=e.strideHeight,n=e.strideWidth,r=e.padInfo.top,o=e.padInfo.left,a=e.outChannels/e.inChannels;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int wR = coords.x;\n        int wC = coords.y;\n        int d1 = coords.z;\n        int dm = coords.w;\n        int d2 = d1 * "+a+" + dm;\n\n        float dotProd = 0.0;\n\n        // TO DO: Vec4 over the batch size\n        for (int b = 0; b < "+e.batchSize+"; b++) {\n          for (int yR = 0; yR < "+e.outHeight+"; yR++) {\n            int xR = wR + yR * "+t+" - "+r+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int yC = 0; yC < "+e.outWidth+"; yC++) {\n              int xC = wC + yC * "+n+" - "+o+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float dyValue = getDy(b, yR, yC, d2);\n              float xValue = getX(b, xR, xC, d1);\n              dotProd += (xValue * dyValue);\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},HA=function(e){this.variableNames=["dy","W"],this.outputShape=e.inShape;var t=e.filterHeight,n=e.filterWidth,r=e.strideHeight,o=e.strideWidth,a=t-1-e.padInfo.top,i=n-1-e.padInfo.left,s=e.outChannels/e.inChannels;this.userCode="\n      const ivec2 pads = ivec2("+a+", "+i+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d1 = coords[3];\n        ivec2 dyCorner = coords.yz - pads;\n        int dyRCorner = dyCorner.x;\n        int dyCCorner = dyCorner.y;\n\n        float dotProd = 0.0;\n\n        for (int wR = 0; wR < "+t+"; wR++) {\n          float dyR = float(dyRCorner + wR) / "+r+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          int wRPerm = "+t+" - 1 - wR;\n\n          for (int wC = 0; wC < "+n+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+o+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            int wCPerm = "+n+" - 1 - wC;\n\n            // TO DO: Vec4 over the channelMul\n            for (int dm = 0; dm < "+s+"; dm++) {\n              int d2 = d1 * "+s+" + dm;\n              float xValue = getDy(batch, idyR, idyC, d2);\n              float wValue = getW(wRPerm, wCPerm, d1, dm);\n              dotProd += xValue * wValue;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},qA=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.padInfo.top,a=e.padInfo.left,i=e.strideHeight,s=e.strideWidth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterHeight,d=e.filterWidth,p=4*Math.floor(e.inChannels/4),f=e.inChannels%4,h="channelsLast"===e.dataFormat,m=h?1:2,v=h?2:3,g=h?3:1,y="",b="";n&&(y=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",b="result = activation(result);");var x=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+y+"\n\n      const ivec2 strides = ivec2("+i+", "+s+");\n      const ivec2 pads = ivec2("+o+", "+a+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d2 = coords["+g+"];\n\n        ivec2 xRCCorner =\n            ivec2(coords["+m+"], coords["+v+"]) * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, d2) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+c+"; wR++) {\n          int xR = xRCorner + wR * "+l+";\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+d+"; wC++) {\n            int xC = xCCorner + wC * "+u+";\n\n            if (xC < 0 || xC >= "+e.inWidth+") {\n              continue;\n            }\n\n            for (int d1 = 0; d1 < "+p+"; d1 += 4) {\n              vec4 wValues = vec4(\n                getW(wR, wC, d1, d2),\n                getW(wR, wC, d1 + 1, d2),\n                getW(wR, wC, d1 + 2, d2),\n                getW(wR, wC, d1 + 3, d2)\n              );\n\n              if ("+h+") {\n                vec4 xValues = vec4(\n                  getX(batch, xR, xC, d1),\n                  getX(batch, xR, xC, d1 + 1),\n                  getX(batch, xR, xC, d1 + 2),\n                  getX(batch, xR, xC, d1 + 3)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec4 xValues = vec4(\n                  getX(batch, d1, xR, xC),\n                  getX(batch, d1 + 1, xR, xC),\n                  getX(batch, d1 + 2, xR, xC),\n                  getX(batch, d1 + 3, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n\n            if ("+(1===f)+") {\n\n              if ("+h+") {\n                dotProd +=\n                    getX(batch, xR, xC, "+p+") *\n                    getW(wR, wC, "+p+", d2);\n              } else {\n                dotProd +=\n                    getX(batch, "+p+", xR, xC) *\n                    getW(wR, wC, "+p+", d2);\n              }\n\n            } else if ("+(2===f)+") {\n              vec2 wValues = vec2(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2)\n              );\n\n              if ("+h+") {\n                vec2 xValues = vec2(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec2 xValues = vec2(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            } else if ("+(3===f)+") {\n              vec3 wValues = vec3(\n                getW(wR, wC, "+p+", d2),\n                getW(wR, wC, "+p+" + 1, d2),\n                getW(wR, wC, "+p+" + 2, d2)\n              );\n\n              if ("+h+") {\n                vec3 xValues = vec3(\n                  getX(batch, xR, xC, "+p+"),\n                  getX(batch, xR, xC, "+p+" + 1),\n                  getX(batch, xR, xC, "+p+" + 2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else {\n                vec3 xValues = vec3(\n                  getX(batch, "+p+", xR, xC),\n                  getX(batch, "+p+" + 1, xR, xC),\n                  getX(batch, "+p+" + 2, xR, xC)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n\n            }\n          }\n        }\n\n        float result = dotProd;\n        "+x+"\n        "+b+"\n        setOutput(result);\n      }\n    "},GA=function(e){this.variableNames=["x","W"],this.outputShape=e.outShape;var t=e.padInfo.front,n=e.padInfo.top,r=e.padInfo.left,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.filterDepth,d=e.filterHeight,p=e.filterWidth,f=4*Math.floor(e.inChannels/4),h=e.inChannels%4;this.userCode="\n      const ivec3 strides = ivec3("+o+", "+a+", "+i+");\n      const ivec3 pads = ivec3("+t+", "+n+", "+r+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int d2 = coords.u;\n\n        ivec3 xFRCCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xFCorner = xFRCCorner.x;\n        int xRCorner = xFRCCorner.y;\n        int xCCorner = xFRCCorner.z;\n\n        // Convolve x(?, ?, ?, d1) with w(:, :, :, d1, d2) to get\n        // y(yF, yR, yC, d2). ? = to be determined. : = across all\n        // values in that axis.\n        float dotProd = 0.0;\n        for (int wF = 0; wF < "+c+"; wF++) {\n          int xF = xFCorner + wF * "+s+";\n\n          if (xF < 0 || xF >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+"; wR++) {\n            int xR = xRCorner + wR * "+l+";\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+p+"; wC++) {\n              int xC = xCCorner + wC * "+u+";\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              for (int d1 = 0; d1 < "+f+"; d1 += 4) {\n                vec4 xValues = vec4(\n                  getX(batch, xF, xR, xC, d1),\n                  getX(batch, xF, xR, xC, d1 + 1),\n                  getX(batch, xF, xR, xC, d1 + 2),\n                  getX(batch, xF, xR, xC, d1 + 3)\n                );\n                vec4 wValues = vec4(\n                  getW(wF, wR, wC, d1, d2),\n                  getW(wF, wR, wC, d1 + 1, d2),\n                  getW(wF, wR, wC, d1 + 2, d2),\n                  getW(wF, wR, wC, d1 + 3, d2)\n                );\n\n                dotProd += dot(xValues, wValues);\n              }\n\n              if ("+(1===h)+") {\n                dotProd +=\n                  getX(batch, xF, xR, xC, "+f+") *\n                  getW(wF, wR, wC, "+f+", d2);\n              } else if ("+(2===h)+") {\n                vec2 xValues = vec2(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1)\n                );\n                vec2 wValues = vec2(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              } else if ("+(3===h)+") {\n                vec3 xValues = vec3(\n                  getX(batch, xF, xR, xC, "+f+"),\n                  getX(batch, xF, xR, xC, "+f+" + 1),\n                  getX(batch, xF, xR, xC, "+f+" + 2)\n                );\n                vec3 wValues = vec3(\n                  getW(wF, wR, wC, "+f+", d2),\n                  getW(wF, wR, wC, "+f+" + 1, d2),\n                  getW(wF, wR, wC, "+f+" + 2, d2)\n                );\n                dotProd += dot(xValues, wValues);\n              }\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},KA=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.outputShape=e.outShape;var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,f=e.filterWidth,h=e.outChannels/e.inChannels,m="",v="";n&&(m=r?"float activation(float a) {\n          float b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"\n          float activation(float x) {\n            "+n+"\n          }\n        ",v="result = activation(result);");var g=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+m+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2 / "+h+";\n        int q = d2 - d1 * "+h+";\n\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // Convolve x(?, ?, d1) with w(:, :, d1, q) to get y(yR, yC, d2).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        // TO DO(dsmilkov): Flatten the two for loops and vec4 the operations.\n        for (int wR = 0; wR < "+p+"; wR++) {\n          int xR = xRCorner + wR * "+c+";\n\n          if (xR < 0 || xR >= "+o+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+f+"; wC++) {\n            int xC = xCCorner + wC * "+d+";\n\n            if (xC < 0 || xC >= "+a+") {\n              continue;\n            }\n\n            float xVal = getX(batch, xR, xC, d1);\n            float wVal = getW(wR, wC, d1, q);\n            dotProd += xVal * wVal;\n          }\n        }\n\n        float result = dotProd;\n        "+g+"\n        "+v+"\n        setOutput(result);\n      }\n    "},XA=function(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=null),void 0===r&&(r=!1),this.variableNames=["x","W"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e.outShape;for(var o=e.inHeight,a=e.inWidth,i=e.padInfo.top,s=e.padInfo.left,l=e.strideHeight,u=e.strideWidth,c=e.dilationHeight,d=e.dilationWidth,p=e.filterHeight,f=e.filterWidth,h=f,m="int xR; int xC; int xCOffset;",v=0;v<p;v++)for(var g=0;g<f;g++)m+="\n          vec4 xTexelR"+v+"C"+2*g+" = vec4(0.);\n          vec4 wR"+v+"C"+g+" = vec4(0.);\n          vec4 xR"+v+"C"+g+" = vec4(0.);";for(v=0;v<p;v++)for(var y=0;y<h;y++){if(m+="\n          xR = xRCorner + "+v*c+";\n          xC = xCCorner + "+(g=2*y)*d+";\n        ",1===u){if(g<f&&(m+=s%2==1?"\n                xCOffset = xC + 1;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    xTexelR"+v+"C"+g+".zw = vec2(0.);\n                  }\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + 1 - 2;\n                if(xR >= 0 && xR < "+o+" && xCOffset >= 0 && xCOffset < "+a+") {\n                  vec4 previous = getX(batch, xR, xCOffset, d1);\n\n                  // Need to manually clear unused channels in case\n                  // we're reading from recycled texture.\n                  if(xCOffset + 1 >= "+a+") {\n                    previous.zw = vec2(0.);\n                  }\n\n                  xR"+v+"C"+g+" = vec4(previous.zw, xTexelR"+v+"C"+g+".xy);\n                } else {\n                  xR"+v+"C"+g+" = vec4(0, 0, xTexelR"+v+"C"+g+".xy);\n                }\n              ":"\n                if(xR >= 0 && xR < "+o+" && xC >= 0 && xC < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = xTexelR"+v+"C"+g+";\n              ",g+1<f)){var b=s%2==0?sE(d):d;d%2==0&&s%2==1||d%2!=0&&s%2!=1?(m+="\n                  xCOffset = xC + "+s%2+" + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n                ",d>1&&(m+="\n                    xCOffset -= 2;\n                    if(xR >= 0 && xR < "+o+" &&\n                      xCOffset >= 0 && xCOffset < "+a+") {\n                      xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                    } else {\n                      xTexelR"+v+"C"+g+" = vec4(0.);\n                    }\n                  "),m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".xy);\n                "):m+="\n                  xCOffset = xC + "+b+";\n\n                  if(xR >= 0 && xR < "+o+" &&\n                    xCOffset >= 0 && xCOffset < "+a+") {\n                    xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                  }\n\n                  xR"+v+"C"+(g+1)+" = xTexelR"+v+"C"+(g+2)+";\n                "}}else g<f&&(m+="\n              if(xR >= 0 && xR < "+o+") {\n            ",s%2==1?(m+="\n                xCOffset = xC + 1 - "+u+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                if(xC + 1 >= 0 && xC + 1 < "+a+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xC + 1, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n              ",g+1<f&&(m+="\n                  vec4 final = vec4(0.);\n                  xCOffset = xC + 1 + "+u+";\n                  if(xCOffset >= 0 && xCOffset < "+a+") {\n                    final = getX(batch, xR, xCOffset, d1);\n                  }\n                  xR"+v+"C"+(g+1)+" = vec4(xTexelR"+v+"C"+(g+2)+".xy, final.xy);\n                ")):(m+="\n                if(xC >= 0 && xC < "+a+") {\n                  xTexelR"+v+"C"+g+" = getX(batch, xR, xC, d1);\n                } else {\n                  xTexelR"+v+"C"+g+" = vec4(0.);\n                }\n\n                xCOffset = xC + "+u+";\n                if(xCOffset >= 0 && xCOffset < "+a+") {\n                  xTexelR"+v+"C"+(g+2)+" = getX(batch, xR, xCOffset, d1);\n                } else {\n                  xTexelR"+v+"C"+(g+2)+" = vec4(0.);\n                }\n\n                xR"+v+"C"+g+" = vec4(\n                  xTexelR"+v+"C"+g+".xy, xTexelR"+v+"C"+(g+2)+".xy);\n              ",g+1<f&&(m+="\n                  xR"+v+"C"+(g+1)+" = vec4(\n                    xTexelR"+v+"C"+g+".zw, xTexelR"+v+"C"+(g+2)+".zw);\n                ")),m+="}");g<f&&(m+="\n            vec4 wTexelR"+v+"C"+g+" = getW("+v+", "+g+", d1, q);\n            wR"+v+"C"+g+" = vec4(wTexelR"+v+"C"+g+".xz, wTexelR"+v+"C"+g+".xz);\n          ",g+1<f&&(m+="\n              vec4 wTexelR"+v+"C"+(g+1)+" = getW("+v+", "+(g+1)+", d1, q);\n              wR"+v+"C"+(g+1)+" =\n                vec4(wTexelR"+v+"C"+(g+1)+".xz, wTexelR"+v+"C"+(g+1)+".xz);"))}for(v=0;v<p;v++)for(g=0;g<f;g++)m+="dotProd += xR"+v+"C"+g+" * wR"+v+"C"+g+";";var x="",w="";n&&(x=r?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+n+"\n        }":"vec4 activation(vec4 x) {\n          "+n+"\n        }",w="result = activation(result);");var S=t?"result += getBiasAtOutCoords();":"";t&&this.variableNames.push("bias"),r&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+x+"\n\n      const ivec2 strides = ivec2("+l+", "+u+");\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n\n        ivec4 coords = getOutputCoords();\n        int batch = coords.x;\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int d2 = coords.w;\n        int d1 = d2;\n        int q = 0;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        vec4 dotProd = vec4(0.);\n\n        "+m+"\n\n        vec4 result = dotProd;\n        "+S+"\n        "+w+"\n        setOutput(result);\n      }\n    "},$A=function(e,t,n,r,o){this.variableNames=["Image","Boxes","BoxInd"],this.outputShape=[];var a=e[0],i=e[1],s=e[2],l=e[3],u=t[0],c=n[0],d=n[1];this.outputShape=[u,c,d,l];var p="bilinear"===r?1:0,f=[i-1+".0",s-1+".0"],h=f[0],m=f[1],v=c>1?[""+(i-1)/(c-1),"(y2-y1) * height_ratio","y1*"+h+" + float(y)*(height_scale)"]:["0.0","0.0","0.5 * (y1+y2) * "+h],g=v[0],y=v[1],b=v[2],x=d>1?[""+(s-1)/(d-1),"(x2-x1) * width_ratio","x1*"+m+" + float(x)*(width_scale)"]:["0.0","0.0","0.5 * (x1+x2) * "+m],w=x[0],S=x[1],C=x[2];this.userCode="\n      const float height_ratio = float("+g+");\n      const float width_ratio = float("+w+");\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int y = coords[1];\n        int x = coords[2];\n        int d = coords[3];\n\n        // get box vals\n        float y1 = getBoxes(b,0);\n        float x1 = getBoxes(b,1);\n        float y2 = getBoxes(b,2);\n        float x2 = getBoxes(b,3);\n\n        // get image in batch index\n        int bInd = round(getBoxInd(b));\n        if(bInd < 0 || bInd >= "+a+") {\n          return;\n        }\n\n        float height_scale = "+y+";\n        float width_scale = "+S+";\n\n        float in_y = "+b+";\n        if( in_y < 0.0 || in_y > "+h+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n        float in_x = "+C+";\n        if( in_x < 0.0 || in_x > "+m+" ) {\n          setOutput(float("+o+"));\n          return;\n        }\n\n        vec2 sourceFracIndexCR = vec2(in_x,in_y);\n        if("+p+" == 1) {\n          // Compute the four integer indices.\n          ivec2 sourceFloorCR = ivec2(sourceFracIndexCR);\n          ivec2 sourceCeilCR = ivec2(ceil(sourceFracIndexCR));\n\n          float topLeft = getImage(b, sourceFloorCR.y, sourceFloorCR.x, d);\n          float bottomLeft = getImage(b, sourceCeilCR.y, sourceFloorCR.x, d);\n          float topRight = getImage(b, sourceFloorCR.y, sourceCeilCR.x, d);\n          float bottomRight = getImage(b, sourceCeilCR.y, sourceCeilCR.x, d);\n\n          vec2 fracCR = sourceFracIndexCR - vec2(sourceFloorCR);\n\n          float top = topLeft + (topRight - topLeft) * fracCR.x;\n          float bottom = bottomLeft + (bottomRight - bottomLeft) * fracCR.x;\n          float newValue = top + (bottom - top) * fracCR.y;\n          setOutput(newValue);\n        } else {\n          // Compute the coordinators of nearest neighbor point.\n          ivec2 sourceNearestCR = ivec2(floor(\n            sourceFracIndexCR + vec2(0.5,0.5)));\n          float newValue = getImage(b, sourceNearestCR.y, sourceNearestCR.x, d);\n          setOutput(newValue);\n        }\n      }\n    "},YA=function(e,t,n){this.variableNames=["x"],this.outputShape=e;var r=e.length,o=e[e.length-1],a=n?"<":">";this.userCode="\n      int getIndex(int i) {\n        "+(n?"return "+o+" -i - 1;":"return i;")+"\n      }\n\n      void main() {\n        "+gA(r)+" coords = getOutputCoords();\n        int end = "+QA(r,"coords")+";\n        float val = 0.0;\n        for (int i = "+o+" - 1; i >= 0; i -= 1) {\n          int idx = getIndex(i);\n          if (idx "+a+" end) {\n            continue;\n          }\n          if (idx == end && "+t+") {\n            continue;\n          }\n          "+QA(r,"coords")+" = idx;\n          val += getX("+function(e,t){if(1===e)return""+t;if(2===e)return t+".x, "+t+".y";if(3===e)return t+".x, "+t+".y, "+t+".z";if(4===e)return t+".x, "+t+".y, "+t+".z, "+t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}(r,"coords")+");\n        }\n        setOutput(val);\n      }\n    "};function QA(e,t){if(1===e)return""+t;if(2===e)return t+".y";if(3===e)return t+".z";if(4===e)return t+".w";throw Error("Cumulative sum for rank "+e+" is not yet supported")}var JA=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=SR.DENSE;var t=AR(e),n=oA();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+aA(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        "+n.output+" = result;\n      }\n    "},ZA=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=SR.DENSE;var t=AR(e),n=oA();this.outputShape=e,this.userCode="\n      ivec3 outCoordsFromFlatIndex(int index) {\n        "+aA(["r","c","d"],e)+"\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n          vec2("+t[0]+", "+t[1]+"));\n        int index = 4 * (resTexRC.x * "+t[1]+" + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        "+n.output+" = result;\n      }\n    "},eP=function(){function e(e,t,n){this.variableNames=["x"],this.outputShape=[],this.outputShape=e,this.blockSize=t,this.dataFormat=n,this.userCode="\n    void main() {\n      ivec4 coords = getOutputCoords();\n      int b = coords[0];\n      int h = "+this.getHeightCoordString()+";\n      int w = "+this.getWidthCoordString()+";\n      int d = "+this.getDepthCoordString()+";\n\n      int in_h = h / "+t+";\n      int offset_h = imod(h, "+t+");\n      int in_w = w / "+t+";\n      int offset_w = imod(w, "+t+");\n      int offset_d = (offset_h * "+t+" + offset_w) *\n        "+this.getOutputDepthSize()+";\n      int in_d = d + offset_d;\n\n      float result = "+this.getInputSamplingString()+";\n      setOutput(result);\n    }\n  "}return e.prototype.getHeightCoordString=function(){return"NHWC"===this.dataFormat?"coords[1]":"coords[2]"},e.prototype.getWidthCoordString=function(){return"NHWC"===this.dataFormat?"coords[2]":"coords[3]"},e.prototype.getDepthCoordString=function(){return"NHWC"===this.dataFormat?"coords[3]":"coords[1]"},e.prototype.getOutputDepthSize=function(){return"NHWC"===this.dataFormat?this.outputShape[3]:this.outputShape[1]},e.prototype.getInputSamplingString=function(){return"NHWC"===this.dataFormat?"getX(b, in_h, in_w, in_d)":"getX(b, in_d, in_h, in_w)"},e}(),tP=function(e){this.variableNames=["X"],this.outputShape=[e,e],this.userCode="\n      void main() {\n          ivec2 coords = getOutputCoords();\n          float val = coords[0] == coords[1] ? getX(coords[0]) : 0.0;\n          setOutput(val);\n      }\n    "},nP=function(e){this.variableNames=["A"],this.outTexUsage=CR.DOWNLOAD;var t=oA();this.outputShape=e,this.userCode="\n      "+sA+"\n\n      void main() {\n        float x = getAAtOutCoords();\n        "+t.output+" = encode_float(x);\n      }\n    "},rP=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=CR.DOWNLOAD;var t=oA();this.outputShape=e,this.userCode="\n      "+sA+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        "+t.output+" = encode_float(x);\n      }\n    "},oP=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"];var r=oA(),o=t[0],a=t[1];this.outputShape=e;var i="result";n&&(i="floor(result * 255. + 0.5)"),this.userCode="\n      "+iA(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n        \n        int r = flatIndex / "+a+";\n        int c = imod(flatIndex, "+a+");\n        vec2 uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+o+".0);\n        vec4 values = "+r.texture2D+"(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        "+r.output+" = vec4("+i+", 0., 0., 0.);\n      }\n    "},aP=function(e,t,n){void 0===n&&(n=!1),this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var r=oA(),o=t[0],a=t[1];this.outputShape=e;var i="",s="result";n&&(s="floor(result * 255. + 0.5)");for(var l=0;l<=1;l++)for(var u=0;u<=1;u++){var c=2*l+u;i+="\n          localCoords = coords;\n          if(localCoords[2] + "+u+" < "+e[2]+") {\n            localCoords[2] += "+u+";\n            if(localCoords[1] + "+l+" < "+e[1]+") {\n              localCoords[1] += "+l+";\n\n              flatIndex = getFlatIndex(localCoords);\n              offset = imod(flatIndex, 4);\n\n              flatIndex = idiv(flatIndex, 4, 1.);\n\n              r = flatIndex / "+a+";\n              c = imod(flatIndex, "+a+");\n              uv = (vec2(c, r) + halfCR) / vec2("+a+".0, "+o+".0);\n              values = "+r.texture2D+"(A, uv);\n\n              if(offset == 0) {\n                result["+c+"] = values[0];\n              } else if(offset == 1) {\n                result["+c+"] = values[1];\n              } else if(offset == 2) {\n                result["+c+"] = values[2];\n              } else {\n                result["+c+"] = values[3];\n              }\n            }\n          }\n        "}this.userCode="\n      "+iA(e)+"\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        vec4 result = vec4(0.);\n        int flatIndex, r, c, offset;\n        ivec3 localCoords;\n        vec2 uv;\n        vec4 values;\n\n        "+i+"\n\n        "+r.output+" = "+s+";\n      }\n    "},iP=function(e,t,n){this.variableNames=["real","imag"];var r=t[1];this.outputShape=t;var o=n?"2.0 * "+Math.PI:"-2.0 * "+Math.PI,a=n?r+".0":"1.0";this.userCode="\n      const float exponentMultiplier = "+o+";\n\n      float unaryOpComplex(float real, float expR, float imag, float expI) {\n        "+e+"\n      }\n\n      float mulMatDFT(int batch, int index) {\n        float indexRatio = float(index) / float("+r+");\n        float exponentMultiplierTimesIndexRatio =\n            exponentMultiplier * indexRatio;\n\n        float result = 0.0;\n\n        for (int i = 0; i < "+r+"; i++) {\n          // x = (-2|2 * PI / N) * index * i;\n          float x = exponentMultiplierTimesIndexRatio * float(i);\n          float expR = cos(x);\n          float expI = sin(x);\n          float real = getReal(batch, i);\n          float imag = getImag(batch, i);\n\n          result +=\n              unaryOpComplex(real, expR, imag, expI) / "+a+";\n        }\n\n        return result;\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        setOutput(mulMatDFT(coords[0], coords[1]));\n      }\n    "},sP=function(){function e(e,t){this.outputShape=[],this.variableNames=["x"],this.outputShape=e,this.userCode="\n      uniform float value;\n      void main() {\n        // Input can be obtained from uniform value.\n        setOutput(value);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.valueLoc&&(t.valueLoc=n.getUniformLocationNoThrow(r,"value")),n.gl.uniform1f(t.valueLoc,e)}},e}(),lP=function(e,t,n){this.variableNames=["A","indices"];var r=e.slice();r[n]=t,this.outputShape=r,this.rank=r.length;var o=gA(this.rank),a=function(e,t){var n=e.length;if(n>4)throw Error("Gather for rank "+n+" is not yet supported");if(1===n)return"int(getIndices(resRC))";for(var r=["resRC.x","resRC.y","resRC.z","resRC.w"],o=[],a=0;a<e.length;a++)a===t?o.push("int(getIndices("+r[a]+"))"):o.push(""+r[a]);return o.join()}(e,n);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},uP=function(e,t,n){this.sliceDim=e,this.strides=t,this.variableNames=["x","indices"],this.outputShape=n;var r=gA(t.length),o=gA(n.length),a=this.sliceDim>1?"strides[j]":"strides";this.userCode="\n        "+r+" strides = "+r+"("+this.strides+");\n         void main() {\n          "+o+" coords = getOutputCoords();\n          int flattenIndex = 0;\n          for (int j = 0; j < "+this.sliceDim+"; j++) {\n            int index = round(getIndices(coords[0], j));\n            flattenIndex += index * "+a+";\n          }\n          setOutput(getX(flattenIndex, coords[1]));\n        }\n      "};function cP(e,t){var n=oA();return FR(e,t,n.version+"\n    precision highp float;\n    "+n.attribute+" vec3 clipSpacePos;\n    "+n.attribute+" vec2 uv;\n    "+n.varyingVs+" vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }")}function dP(e,t){return qR(e,t,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function pP(e,t){return GR(e,t,new Uint16Array([0,1,2,2,1,3]))}function fP(e,t,n,r,o,a,i){XR(n,r);var s=KR(e,t),l=e.TEXTURE_2D;return MR(e,t,function(){return e.bindTexture(l,s)}),MR(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE)}),MR(e,t,function(){return e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)}),MR(e,t,function(){return e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST)}),MR(e,t,function(){return e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST)}),MR(e,t,function(){return e.texImage2D(l,0,o,n,r,0,a,i,null)}),MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)}),s}function hP(e,t,n,r,o){var a=TR(n,r);return fP(e,t,a[0],a[1],o.internalFormatFloat,o.textureFormatFloat,e.FLOAT)}function mP(e,t,n,r,o){var a=TR(n,r);return fP(e,t,a[0],a[1],o.internalFormatHalfFloat,o.textureFormatFloat,o.textureTypeHalfFloat)}function vP(e,t,n,r,o){var a=TR(n,r);return fP(e,t,a[0],a[1],e.RGBA,e.RGBA,e.UNSIGNED_BYTE)}function gP(e,t,n,r,o){var a=PR(n,r);return fP(e,t,a[0],a[1],o.internalFormatPackedFloat,e.RGBA,e.FLOAT)}function yP(e,t,n,r,o){var a=PR(n,r);return fP(e,t,a[0],a[1],o.internalFormatPackedHalfFloat,e.RGBA,o.textureTypeHalfFloat)}function bP(e,t,n,r){return MR(e,t,function(){return e.bindBuffer(e.ARRAY_BUFFER,r)}),YR(e,t,n,"clipSpacePos",r,3,20,0)&&YR(e,t,n,"uv",r,2,20,12)}function xP(e,t,n,r,o,a,i){var s,l,u;MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),a instanceof Uint8Array?(s=new Uint8Array(r*o*4),l=e.UNSIGNED_BYTE,u=e.RGBA):(s=new Float32Array(r*o*4),l=e.FLOAT,u=i.internalFormatPackedFloat),s.set(a),MR(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,u,r,o,0,e.RGBA,l,s)}),MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function wP(e,t,n,r){MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,n)}),r.data instanceof Uint8Array?MR(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.width,r.height,0,e.RGBA,e.UNSIGNED_BYTE,r.data)}):MR(e,t,function(){return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r)}),MR(e,t,function(){return e.bindTexture(e.TEXTURE_2D,null)})}function SP(e,t,n,r,o){var a=e.createBuffer();MR(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,a)});var i=16*n*r;return MR(e,t,function(){return e.bufferData(e.PIXEL_PACK_BUFFER,i,e.STREAM_READ)}),MR(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,0)}),MR(e,t,function(){return e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}),a}function CP(e,t,n){var r=e,o=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,o),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),o}function kP(e,t,n,r,o){var a=TR(n,r),i=a[0],s=a[1],l=new Uint8Array(n*r*4);return MR(e,t,function(){return e.readPixels(0,0,i,s,o.downloadTextureFormat,e.UNSIGNED_BYTE,l)}),new Float32Array(l.buffer)}function EP(e,t,n,r,o,a,i,s){var l=e,u=new Float32Array(function(e,t){var n=PR(e,t);return n[0]*n[1]*4}(a,i));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,u),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),u}function RP(e,t,n,r){var o=new Float32Array(n*r*4);return MR(e,t,function(){return e.readPixels(0,0,r,n,e.RGBA,e.FLOAT,o)}),o}var _P=Object.freeze({createVertexShader:cP,createVertexBuffer:dP,createIndexBuffer:pP,createFloat32MatrixTexture:hP,createFloat16MatrixTexture:mP,createUnsignedBytesMatrixTexture:vP,createPackedMatrixTexture:gP,createFloat16PackedMatrixTexture:yP,bindVertexProgramAttributeStreams:bP,uploadDenseMatrixToTexture:xP,uploadPixelDataToTexture:wP,createBufferFromOutputTexture:SP,downloadFloat32MatrixFromBuffer:CP,downloadByteEncodedFloatMatrixFromOutputTexture:kP,downloadPackedMatrixFromBuffer:EP,downloadMatrixFromPackedOutputTexture:RP}),IP=function(){function e(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];var t=Yk().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,_R(t,e)):this.gl=IR(t);var n="WEBGL_color_buffer_float";if(1===Yk().getNumber("WEBGL_VERSION")){if(this.textureFloatExtension=jR(this.gl,this.debug,"OES_texture_float"),v_(this.gl,"OES_texture_half_float"))this.textureHalfFloatExtension=jR(this.gl,this.debug,"OES_texture_half_float");else if(Yk().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),v_(this.gl,"EXT_color_buffer_half_float"))this.colorBufferHalfFloatExtension=jR(this.gl,this.debug,"EXT_color_buffer_half_float");else if(Yk().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",v_(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!v_(this.gl,"EXT_color_buffer_half_float"))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension("EXT_color_buffer_half_float")}this.vertexBuffer=dP(this.gl,this.debug),this.indexBuffer=pP(this.gl,this.debug),this.framebuffer=$R(this.gl,this.debug),this.textureConfig=NR(this.gl,this.textureHalfFloatExtension)}return Object.defineProperty(e.prototype,"debug",{get:function(){return Yk().getBool("DEBUG")},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){var e=this;if(!this.disposed){null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");var t=this.gl;MR(t,this.debug,function(){return t.finish()}),MR(t,this.debug,function(){return t.bindFramebuffer(t.FRAMEBUFFER,null)}),MR(t,this.debug,function(){return t.deleteFramebuffer(e.framebuffer)}),MR(t,this.debug,function(){return t.bindBuffer(t.ARRAY_BUFFER,null)}),MR(t,this.debug,function(){return t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}),MR(t,this.debug,function(){return t.deleteBuffer(e.indexBuffer)}),this.disposed=!0}},e.prototype.createFloat32MatrixTexture=function(e,t){return this.throwIfDisposed(),hP(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createFloat16MatrixTexture=function(e,t){return this.throwIfDisposed(),mP(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createUnsignedBytesMatrixTexture=function(e,t){return this.throwIfDisposed(),vP(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.uploadPixelDataToTexture=function(e,t){this.throwIfDisposed(),wP(this.gl,this.debug,e,t)},e.prototype.uploadDenseMatrixToTexture=function(e,t,n,r){this.throwIfDisposed(),xP(this.gl,this.debug,e,t,n,r,this.textureConfig)},e.prototype.createFloat16PackedMatrixTexture=function(e,t){return this.throwIfDisposed(),yP(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.createPackedMatrixTexture=function(e,t){return this.throwIfDisposed(),gP(this.gl,this.debug,e,t,this.textureConfig)},e.prototype.deleteMatrixTexture=function(e){var t=this;this.throwIfDisposed(),this.outputTexture===e&&(n_(this.gl,this.debug,this.framebuffer),this.outputTexture=null),MR(this.gl,this.debug,function(){return t.gl.deleteTexture(e)})},e.prototype.downloadByteEncodedFloatMatrixFromOutputTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return kP(r.gl,r.debug,t,n,r.textureConfig)})},e.prototype.downloadPackedMatrixFromBuffer=function(e,t,n,r,o,a){return EP(this.gl,e,0,0,0,o,a,this.textureConfig)},e.prototype.downloadFloat32MatrixFromBuffer=function(e,t){return CP(this.gl,e,t)},e.prototype.createBufferFromTexture=function(e,t,n){this.bindTextureToFrameBuffer(e);var r=SP(this.gl,this.debug,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r},e.prototype.createAndWaitForFence=function(){var e=this.createFence(this.gl);return this.pollFence(e)},e.prototype.createFence=function(e){var t,n,r=this;if(Yk().getBool("WEBGL_FENCE_API_ENABLED")){var o=e,a=o.fenceSync(o.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=function(){var e=o.clientWaitSync(a,0,0);return e===o.ALREADY_SIGNALED||e===o.CONDITION_SATISFIED},t=a}else Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=function(){return r.isQueryAvailable(t,Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}):n=function(){return!0};return{query:t,isFencePassed:n}},e.prototype.downloadMatrixFromPackedTexture=function(e,t,n){var r=this;return this.downloadMatrixDriver(e,function(){return RP(r.gl,r.debug,t,n)})},e.prototype.createProgram=function(e){this.throwIfDisposed();var t=this.gl,n=LR(t,this.debug,e),r=cP(t,this.debug),o=UR(t,this.debug);return MR(t,this.debug,function(){return t.attachShader(o,r)}),MR(t,this.debug,function(){return t.attachShader(o,n)}),VR(t,this.debug,o),this.debug&&HR(t,this.debug,o),this.vertexAttrsAreBound||(this.setProgram(o),this.vertexAttrsAreBound=bP(t,this.debug,this.program,this.vertexBuffer)),o},e.prototype.deleteProgram=function(e){var t=this;this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&MR(this.gl,this.debug,function(){return t.gl.deleteProgram(e)})},e.prototype.setProgram=function(e){var t=this;this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&HR(this.gl,this.debug,this.program),MR(this.gl,this.debug,function(){return t.gl.useProgram(e)})},e.prototype.getUniformLocation=function(e,t,n){return void 0===n&&(n=!0),this.throwIfDisposed(),n?JR(this.gl,this.debug,e,t):ZR(this.gl,e,t)},e.prototype.getAttributeLocation=function(e,t){var n=this;return this.throwIfDisposed(),MR(this.gl,this.debug,function(){return n.gl.getAttribLocation(e,t)})},e.prototype.getUniformLocationNoThrow=function(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)},e.prototype.setInputMatrixTexture=function(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),e_(this.gl,this.debug,this.program,e,t,n)},e.prototype.setOutputMatrixTexture=function(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)},e.prototype.setOutputPackedMatrixTexture=function(e,t,n){this.throwIfDisposed();var r=PR(t,n),o=r[0],a=r[1];this.setOutputMatrixTextureDriver(e,o,a)},e.prototype.setOutputMatrixWriteRegion=function(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)},e.prototype.setOutputPackedMatrixWriteRegion=function(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")},e.prototype.debugValidate=function(){null!=this.program&&HR(this.gl,this.debug,this.program),r_(this.gl)},e.prototype.executeProgram=function(){this.throwIfDisposed(),this.throwIfNoProgram();var e=this.gl;this.debug&&this.debugValidate(),MR(e,this.debug,function(){return e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)})},e.prototype.blockUntilAllProgramsCompleted=function(){var e=this;this.throwIfDisposed(),MR(this.gl,this.debug,function(){return e.gl.finish()})},e.prototype.getQueryTimerExtension=function(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=jR(this.gl,this.debug,2===Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension},e.prototype.getQueryTimerExtensionWebGL2=function(){return this.getQueryTimerExtension()},e.prototype.getQueryTimerExtensionWebGL1=function(){return this.getQueryTimerExtension()},e.prototype.beginQuery=function(){if(2===Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}var r=this.getQueryTimerExtensionWebGL1(),o=r.createQueryEXT();return r.beginQueryEXT(r.TIME_ELAPSED_EXT,o),o},e.prototype.endQuery=function(){if(2!==Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){var e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}else{var t=this.gl,n=this.getQueryTimerExtensionWebGL2();t.endQuery(n.TIME_ELAPSED_EXT)}},e.prototype.waitForQueryAndGetTime=function(e){return Kk(this,void 0,void 0,function(){var t=this;return Xk(this,function(n){switch(n.label){case 0:return[4,bE(function(){return t.disposed||t.isQueryAvailable(e,Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))})];case 1:return n.sent(),[2,this.getQueryTime(e,Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))]}})})},e.prototype.getQueryTime=function(e,t){if(0===t)return null;if(2===t){var n=this.gl;return n.getQueryParameter(e,n.QUERY_RESULT)/1e6}var r=this.getQueryTimerExtensionWebGL1();return r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)/1e6},e.prototype.isQueryAvailable=function(e,t){if(0===t)return!0;if(2===t){var n=this.gl,r=this.getQueryTimerExtensionWebGL2(),o=n.getQueryParameter(e,n.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint}return o=(r=this.getQueryTimerExtensionWebGL1()).getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT),null==this.disjoint&&(this.disjoint=this.gl.getParameter(r.GPU_DISJOINT_EXT)),o&&!this.disjoint},e.prototype.pollFence=function(e){var t=this;return new Promise(function(n){t.addItemToPoll(function(){return e.isFencePassed()},function(){return n()})})},e.prototype.pollItems=function(){for(var e=function(e){for(var t=0;t<e.length&&e[t]();++t);return t-1}(this.itemsToPoll.map(function(e){return e.isDoneFn})),t=0;t<=e;++t)(0,this.itemsToPoll[t].resolveFn)();this.itemsToPoll=this.itemsToPoll.slice(e+1)},e.prototype.addItemToPoll=function(e,t){var n=this;this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||bE(function(){return n.pollItems(),0===n.itemsToPoll.length})},e.prototype.bindTextureToFrameBuffer=function(e){this.throwIfDisposed(),t_(this.gl,this.debug,e,this.framebuffer),this.debug&&r_(this.gl)},e.prototype.unbindTextureToFrameBuffer=function(){null!=this.outputTexture?(t_(this.gl,this.debug,this.outputTexture,this.framebuffer),this.debug&&r_(this.gl)):n_(this.gl,this.debug,this.framebuffer)},e.prototype.downloadMatrixDriver=function(e,t){this.bindTextureToFrameBuffer(e);var n=t();return this.unbindTextureToFrameBuffer(),n},e.prototype.setOutputMatrixTextureDriver=function(e,t,n){this.throwIfDisposed();var r=this.gl;t_(r,this.debug,e,this.framebuffer),this.debug&&r_(r),this.outputTexture=e,MR(r,this.debug,function(){return r.viewport(0,0,t,n)}),MR(r,this.debug,function(){return r.scissor(0,0,t,n)})},e.prototype.setOutputMatrixWriteRegionDriver=function(e,t,n,r){var o=this;this.throwIfDisposed(),MR(this.gl,this.debug,function(){return o.gl.scissor(e,t,n,r)})},e.prototype.throwIfDisposed=function(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")},e.prototype.throwIfNoProgram=function(){if(null==this.program)throw new Error("No GPU program is currently set.")},e}();function TP(e,t){if(e.length!==t.length)throw Error("Binary was compiled with "+e.length+" inputs, but was executed with "+t.length+" inputs");e.forEach(function(e,n){var r=e.logicalShape,o=t[n],a=o.shape;if(!hE(r,a))throw Error("Binary was compiled with different shapes than the current args. Shapes "+r+" and "+a+" must match");if(!e.isUniform||!o.isUniform){var i=e.texShape,s=o.isUniform?null:o.texData.texShape;if(!hE(i,s))throw Error("Binary was compiled with different texture shapes than the current args. Shape "+i+" and "+s+" must match")}})}var AP=function(e,t,n){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var r=n.filterWidth,o=n.inChannels,a=n.strideWidth,i=n.strideHeight,s=n.padInfo,l=n.outWidth,u=n.dilationWidth,c=n.dilationHeight,d=n.dataFormat,p=s.left,f=s.top,h=o*r,m=oA(),v="channelsLast"===d,g=v?0:1,y=v?1:2,b="",x=0;x<=1;x++)for(var w=0;w<=1;w++)b+="\n          blockIndex = rc.y + "+w+";\n          pos = rc.x + "+x+";\n\n          if(blockIndex < "+e[1]+" && pos < "+e[0]+") {\n            offsetY = int(blockIndex / ("+l+")) * "+i+" - "+f+";\n            d0 = offsetY + "+c+" * (pos / "+h+");\n\n            if(d0 < "+t[g]+" && d0 >= 0) {\n\n              offsetX = int(mod(float(blockIndex), "+l+".) * "+a+". - "+p+".);\n              d1 = offsetX + "+u+" * (int(mod(float(pos), "+h+".) / "+o+".));\n\n              if(d1 < "+t[y]+" && d1 >= 0) {\n\n                ch = int(mod(float(pos), "+o+".));\n\n                if ("+v+") {\n                  innerDims = vec2(d1, ch);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(d0, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                } else {\n                  innerDims = vec2(d0, d1);\n                  result["+(2*x+w)+"] = getChannel(\n                    getA(ch, int(innerDims.x),\n                    int(innerDims.y)), innerDims);\n                }\n              }\n            }\n          }\n        ";this.userCode="\n      void main() {\n        ivec2 rc = getOutputCoords();\n\n        vec4 result = vec4(0);\n\n        int blockIndex, pos, offsetY, d0, offsetX, d1, ch;\n        vec2 innerDims;\n\n        "+b+"\n\n        "+m.output+" = result;\n      }\n    "},PP=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[];var a,i=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";a=.5===o?"inversesqrt("+l+")":1===o?"1.0/("+l+")":"exp(log("+l+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n        int d = coords[3];\n        float x = getX(b, r, c, d);\n        float sum = 0.0;\n        for (int j = -"+i+"; j <= "+i+"; j++) {\n          int idx = d + j;\n          if (idx >= 0 && idx <=  "+s+") {\n            float z = getX(b, r, c, idx);\n            sum += z * z;\n          }\n        }\n        float val = x * "+a+";\n        setOutput(val);\n      }\n    "},NP=function(e,t,n,r,o){this.variableNames=["inputImage","outputImage","dy"],this.outputShape=[],this.outputShape=e,this.depth=e[3],this.depthRadius=t,this.bias=n,this.alpha=r,this.beta=o,this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int r = coords[1];\n        int c = coords[2];\n\n        float result = 0.0;\n        for (int d = 0; d < "+this.depth+"; ++d) {\n          int depthBegin = int(max(0.0, float(d - "+t+")));\n          int depthEnd = int(min(float("+this.depth+"),\n              float(d + "+t+" + 1)));\n\n          const int MIN_DEPTH_BEGIN = 0;\n          const int MAX_DEPTH_END = "+this.depth+";\n\n          float norm = 0.0;\n          for (int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k) {\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd) {\n              norm += getInputImage(b, r, c, k) * getInputImage(b, r, c, k);\n            }\n            else {\n              break;\n            }\n          }\n\n          norm = float("+r+") * norm + float("+n+");\n\n          for(int k = MIN_DEPTH_BEGIN; k < MAX_DEPTH_END; ++k){\n            if (k < depthBegin){\n              continue;\n            }\n            else if (k >= depthBegin && k < depthEnd){\n              float dyi = -2.0 * float("+r+")\n                * float("+o+")\n                * getInputImage(b ,r ,c, k) * getOutputImage(b, r, c, d)\n                / norm;\n              if (k == d) {\n                dyi += pow(norm, -1.0 * "+o+");\n              }\n              if (k == coords[3]) {\n                dyi *= getDy(b, r, c, d);\n                result += dyi;\n              }\n            }\n            else {\n              break;\n            }\n          }\n      }\n      setOutput(result);\n      }\n    "},MP=function(e,t,n,r,o){this.variableNames=["x"],this.outputShape=[],this.packedInputs=!0,this.packedOutput=!0;var a,i=t,s=e[3]-1;this.outputShape=e;var l="float("+n+") + float("+r+") * sum";a=.5===o?"inversesqrt("+l+")":1===o?"1.0/("+l+")":"exp(log("+l+") * float(-"+o+"));",this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords.x;\n        int r = coords.y;\n        int c = coords.z;\n        int d = coords.w;\n\n        bool hasNextCol = d < "+this.outputShape[3]+";\n        bool hasNextRow = c < "+this.outputShape[2]+";\n\n        vec4 sum = vec4(0.);\n        vec4 xFragAtOutputCoords = getX(b, r, c, d);\n\n        vec4 xAtOutputCoords = vec4(\n          getChannel(xFragAtOutputCoords, vec2(c, d)),\n          hasNextCol ?\n            getChannel(xFragAtOutputCoords, vec2(c, d + 1)) : 0.0,\n          hasNextRow ?\n            getChannel(xFragAtOutputCoords , vec2(c + 1, d)) : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getChannel(xFragAtOutputCoords, vec2(c + 1, d + 1)) : 0.0\n        );\n\n        int firstChannel = d - "+i+";\n        vec2 cache = vec2(0.);\n        if(firstChannel >= 0){\n          vec4 firstChannelFrag = getX(b, r, c, firstChannel);\n          cache.x = getChannel(firstChannelFrag, vec2(c, firstChannel));\n            if(hasNextRow){\n              cache.y = getChannel(firstChannelFrag, vec2(c + 1, firstChannel));\n            }\n        }\n\n        ivec2 depth = ivec2(d, d + 1);\n        for (int j = - "+i+"; j <= "+i+"; j++) {\n          ivec2 idx = depth + j;\n          bvec2 aboveLowerBound = greaterThanEqual(idx, ivec2(0));\n          bvec2 belowUpperBound = lessThanEqual(idx, ivec2("+s+"));\n\n          bool depthInRange = aboveLowerBound.x && belowUpperBound.x;\n          bool depthPlusOneInRange = aboveLowerBound.y && belowUpperBound.y;\n\n          if(depthInRange || depthPlusOneInRange){\n            vec4 z = vec4(0.);\n            vec4 xFragAtCurrentDepth;\n            z.xz = cache.xy;\n            if(depthPlusOneInRange && hasNextCol){\n              xFragAtCurrentDepth = idx.y != d ?\n                getX(b, r, c, idx.y) : xFragAtOutputCoords;\n              z.y = getChannel(xFragAtCurrentDepth, vec2(c, idx.y));\n              if(hasNextRow){\n                z.w = getChannel(xFragAtCurrentDepth, vec2(c + 1, idx.y));\n              }\n            }\n            cache.xy = z.yw;\n            sum += z * z;\n          }\n        }\n        vec4 result = xAtOutputCoords * "+a+";\n        setOutput(result);\n      }\n    "},OP=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideHeight,n=e.strideWidth,r=e.dilationHeight,o=e.effectiveFilterHeight,a=e.effectiveFilterWidth,i=o-1-e.padInfo.top,s=a-1-e.padInfo.left,l=o*a-1;this.userCode="\n      const ivec2 pads = ivec2("+i+", "+s+");\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n\n        ivec2 dyRCCorner = coords.yz - pads;\n        int dyRCorner = dyRCCorner.x;\n        int dyCCorner = dyRCCorner.y;\n\n        // Convolve dy(?, ?, d) with pos mask(:, :, d) to get dx(xR, xC, d).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n        for (int wR = 0; wR < "+o+";\n          wR += "+r+") {\n          float dyR = float(dyRCorner + wR) / "+t+".0;\n\n          if (dyR < 0.0 || dyR >= "+e.outHeight+".0 || fract(dyR) > 0.0) {\n            continue;\n          }\n          int idyR = int(dyR);\n\n          for (int wC = 0; wC < "+a+"; wC++) {\n            float dyC = float(dyCCorner + wC) / "+n+".0;\n\n            if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                fract(dyC) > 0.0) {\n              continue;\n            }\n            int idyC = int(dyC);\n\n            float dyValue = getDy(b, idyR, idyC, d);\n            int maxPosValue = "+l+" - int(getMaxPos(b, idyR, idyC, d));\n\n            // Get the current value, check it against the value from the\n            // position matrix.\n            int curPosValue = wR * "+a+" + wC;\n            float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n            dotProd += dyValue * mask;\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},DP=function(e){this.variableNames=["dy","maxPos"],this.outputShape=e.inShape;var t=e.strideDepth,n=e.strideHeight,r=e.strideWidth,o=e.dilationDepth,a=e.dilationHeight,i=e.dilationWidth,s=e.effectiveFilterDepth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=s-1-e.padInfo.front,d=l-1-e.padInfo.top,p=u-1-e.padInfo.left,f=s*l*u-1;this.userCode="\n      const ivec3 pads = ivec3("+c+", "+d+", "+p+");\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 dyCorner = ivec3(coords.y, coords.z, coords.w) - pads;\n        int dyDCorner = dyCorner.x;\n        int dyRCorner = dyCorner.y;\n        int dyCCorner = dyCorner.z;\n\n        // Convolve dy(?, ?, ?, ch) with pos mask(:, :, :, d) to get\n        // dx(xD, xR, xC, ch).\n        // ? = to be determined. : = across all values in that axis.\n        float dotProd = 0.0;\n\n        for (int wD = 0; wD < "+s+";\n           wD += "+o+") {\n          float dyD = float(dyDCorner + wD) / "+t+".0;\n\n          if (dyD < 0.0 || dyD >= "+e.outDepth+".0 || fract(dyD) > 0.0) {\n            continue;\n          }\n          int idyD = int(dyD);\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+a+") {\n            float dyR = float(dyRCorner + wR) / "+n+".0;\n\n            if (dyR < 0.0 || dyR >= "+e.outHeight+".0 ||\n                fract(dyR) > 0.0) {\n              continue;\n            }\n            int idyR = int(dyR);\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+i+") {\n              float dyC = float(dyCCorner + wC) / "+r+".0;\n\n              if (dyC < 0.0 || dyC >= "+e.outWidth+".0 ||\n                  fract(dyC) > 0.0) {\n                continue;\n              }\n              int idyC = int(dyC);\n\n              float dyValue = getDy(batch, idyD, idyR, idyC, ch);\n              int maxPosValue = "+f+" -\n                  int(getMaxPos(batch, idyD, idyR, idyC, ch));\n\n              // Get the current value, check it against the value from the\n              // position matrix.\n              int curPosValue =\n                  wD * "+l+" * "+u+" +\n                  wR * "+u+" + wC;\n              float mask = float(maxPosValue == curPosValue ? 1.0 : 0.0);\n\n              dotProd += dyValue * mask;\n            }\n          }\n        }\n        setOutput(dotProd);\n      }\n    "},jP=function(e,t,n,r,o,a,i){void 0===n&&(n=!1),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===a&&(a=null),void 0===i&&(i=!1),this.variableNames=["matrixA","matrixB"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t;var s=n?e[1]:e[2],l=Math.ceil(s/2),u=n?"i * 2, rc.y":"rc.y, i * 2",c=r?"rc.z, i * 2":"i * 2, rc.z",d=n?["a.xxyy","a.zzww"]:["a.xxzz","a.yyww"],p=r?["b.xzxz","b.ywyw"]:["b.xyxy","b.zwzw"],f="",h="";a&&(f=i?"vec4 activation(vec4 a) {\n          vec4 b = getPreluActivationWeightsAtOutCoords();\n          "+a+"\n        }":"vec4 activation(vec4 x) {\n          "+a+"\n        }",h="result = activation(result);");var m=o?"result += getBiasAtOutCoords();":"";o&&this.variableNames.push("bias"),i&&this.variableNames.push("preluActivationWeights"),this.userCode="\n      "+f+"\n\n      const float sharedDimension = "+l+".0;\n\n      vec4 dot2x2ARowBCol(ivec3 rc) {\n        vec4 result = vec4(0);\n        for (int i = 0; i < "+l+"; i++) {\n          vec4 a = getMatrixA(rc.x, "+u+");\n          vec4 b = getMatrixB(rc.x, "+c+");\n\n          // These swizzled products need to be separately added.\n          // See: https://github.com/tensorflow/tfjs/issues/1735\n          result += ("+d[0]+" * "+p[0]+");\n          result += ("+d[1]+" * "+p[1]+");\n        }\n        return result;\n      }\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n        vec4 result = dot2x2ARowBCol(rc);\n\n        "+m+"\n\n        "+h+"\n\n        setOutput(result);\n      }\n    "},FP=function(){function e(e,t,n){this.variableNames=["probs"],this.outputShape=[e,n],this.userCode="\n      uniform float seed;\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n\n        float r = random(seed);\n        float cdf = 0.0;\n\n        for (int i = 0; i < "+(t-1)+"; i++) {\n          cdf += getProbs(batch, i);\n\n          if (r < cdf) {\n            setOutput(float(i));\n            return;\n          }\n        }\n\n        // If no other event happened, last event happened.\n        setOutput(float("+(t-1)+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;return function(n,r){null==t.seedLoc&&(t.seedLoc=n.getUniformLocation(r,"seed")),n.gl.uniform1f(t.seedLoc,e)}},e}(),LP=function(e,t,n,r){this.variableNames=["indices"],this.outputShape=[e,t],this.userCode="\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int index = round(getIndices(coords.x));\n        setOutput(mix(float("+r+"), float("+n+"),\n                      float(index == coords.y)));\n      }\n    "},BP=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e;var t=e.length;if(0===t)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{var n=rA("rc",t),r=gA(t),o=function(e,t,n){if(1===e)return"rc > "+t[0];for(var r="",o=e-2;o<e;o++)r+=n[o]+" >= "+t[o],o<e-1&&(r+="||");return r}(t,e,n),a=function(e,t,n,r){if(1===e)return"";var o=r.slice(-2);return"\n    int r = "+o[0]+";\n    int c = "+o[1]+";\n    int rp1 = r + 1;\n    int cp1 = c + 1;\n\n    bool cEdge = cp1 >= "+t+";\n    bool rEdge = rp1 >= "+n+";\n  "}(t,e[e.length-1],e[e.length-2],n),i=function(e,t){var n=e.length,r=function(e,t){for(var n=[],r=0;r<=1;r++)for(var o=0;o<=1;o++){for(var a=(0===r?"r":"rp1")+", "+(0===o?"c":"cp1"),i=2;i<e;i++)a=t[t.length-1-i]+","+a;n.push(a)}return n}(n,t);return 1===n?"getA(rc),\n            rc + 1 >= "+e[0]+" ? 0. : getA(rc + 1),\n            0, 0":"getA("+r[0]+"),\n          cEdge ? 0. : getA("+r[1]+"),\n          rEdge ? 0. : getA("+r[2]+"),\n          rEdge || cEdge ? 0. : getA("+r[3]+")"}(e,n);this.userCode="\n        void main() {\n          "+r+" rc = getOutputCoords();\n\n          if("+o+") {\n            setOutput(vec4(0));\n          } else {\n            "+a+"\n\n            setOutput(vec4("+i+"));\n          }\n        }\n      "}},zP=function(e,t,n){this.variableNames=["x"],this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});var r=e.length,o=gA(r),a=t.map(function(e){return e[0]}).join(","),i=t.map(function(t,n){return t[0]+e[n]}).join(","),s=["coords[0]","coords[1]","coords[2]","coords[3]"].slice(0,r);this.userCode=1!==r?"\n      "+o+" start = "+o+"("+a+");\n      "+o+" end = "+o+"("+i+");\n\n      void main() {\n        "+o+" outC = getOutputCoords();\n        if (any(lessThan(outC, start)) || any(greaterThanEqual(outC, end))) {\n          setOutput(float("+n+"));\n        } else {\n          "+o+" coords = outC - start;\n          setOutput(getX("+s+"));\n        }\n      }\n    ":"\n        int start = "+a+";\n        int end = "+i+";\n\n        void main() {\n          int outC = getOutputCoords();\n          if (outC < start || outC >= end) {\n            setOutput(float("+n+"));\n          } else {\n            setOutput(getX(outC - start));\n          }\n        }\n      "},WP=function(e,t,n){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=t.map(function(t,n){return t[0]+e[n]+t[1]});for(var r=e.length,o=gA(r),a=t.map(function(e){return e[0]}).join(","),i=t.map(function(t,n){return t[0]+e[n]}).join(","),s=rA("rc",r),l=rA("source",r),u=s[r-1]+" < "+this.outputShape[r-1],c=1===r?"source":"vec2("+l.slice(-2).join()+")",d=[o+" rc = outputLoc;",s[r-1]+" += 1;\n       if("+u+") {\n      ",1===r?"":"}\n       rc = outputLoc;\n       "+s[r-2]+" += 1;\n       if("+s[r-2]+" < "+this.outputShape[r-2]+") {",1===r?"":"  "+s[r-1]+" += 1;\n         if("+u+") {"],p=1===r?"rc < start || rc >= end":"any(lessThan(rc, start)) || any(greaterThanEqual(rc, end))",f="",h=0,m=1===r?2:4;h<m;h++)f+="\n        "+d[h]+"\n        if ("+p+") {\n          result["+h+"] = float("+n+");\n        } else {\n          "+o+" source = rc - start;\n          result["+h+"] = getChannel(getX("+l.join()+"), "+c+");\n        }\n      ";f+=1===r?"} ":"}}",this.userCode="\n      const "+o+" start = "+o+"("+a+");\n      const "+o+" end = "+o+"("+i+");\n\n      void main() {\n        "+o+" outputLoc = getOutputCoords();\n        vec4 result = vec4(0.);\n        "+f+"\n        setOutput(result);\n      }\n    "},UP=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideHeight,a=e.strideWidth,i=e.dilationHeight,s=e.dilationWidth,l=e.effectiveFilterHeight,u=e.effectiveFilterWidth,c=e.padInfo.top,d=e.padInfo.left;this.outputShape=e.outShape;var p="avg"===t,f="0.0";if(p||(f="-1.0 / 1e-20"),n)this.userCode="\n        const ivec2 strides = ivec2("+o+", "+a+");\n        const ivec2 pads = ivec2("+c+", "+d+");\n\n        void main() {\n          ivec4 coords = getOutputCoords();\n          int batch = coords[0];\n          int d = coords[3];\n\n          ivec2 xRCCorner = coords.yz * strides - pads;\n          int xRCorner = xRCCorner.x;\n          int xCCorner = xRCCorner.y;\n\n          // max/min x(?, ?, d) to get y(yR, yC, d).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n          float avgValue = 0.0;\n\n          for (int wR = 0; wR < "+l+";\n              wR += "+i+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+u+";\n                wC += "+s+") {\n              int xC = xCCorner + wC;\n\n              if (xC < 0 || xC >= "+e.inWidth+") {\n                continue;\n              }\n\n              float value = getX(batch, xR, xC, d);\n\n              // If a min / max value has already been found, use it. If not,\n              // use the current value.\n              float currMinMaxValue = mix(\n                  value, minMaxValue, minMaxValueFound);\n              if (value >= currMinMaxValue) {\n                minMaxValue = value;\n                minMaxValueFound = 1.0;\n                minMaxPosition = wR * "+u+" + wC;\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var h=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(h="avgValue / count");var m=4*Math.floor(r/4),v=r%4,g="\n      if ("+p+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec2 strides = ivec2("+o+", "+a+");\n      const ivec2 pads = ivec2("+c+", "+d+");\n      const float initializationValue = "+f+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xR, int xC, int d) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xR, xC, d);\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int batch = coords[0];\n        int d = coords[3];\n\n        ivec2 xRCCorner = coords.yz * strides - pads;\n        int xRCorner = xRCCorner.x;\n        int xCCorner = xRCCorner.y;\n\n        // max/min x(?, ?, d) to get y(yR, yC, d).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+f+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wR = 0; wR < "+l+";\n            wR += "+i+") {\n          int xR = xRCorner + wR;\n\n          if (xR < 0 || xR >= "+e.inHeight+") {\n            continue;\n          }\n\n          for (int wC = 0; wC < "+m+"; wC += 4) {\n            int xC = xCCorner + wC * "+s+";\n\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              getValue(batch, xR, xC + 3 * "+s+", d)\n            );\n\n            "+g+"\n          }\n\n          int xC = xCCorner + "+m+";\n          if ("+(1===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              initializationValue,\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(2===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              initializationValue,\n              initializationValue\n            );\n\n            "+g+"\n          } else if ("+(3===v)+") {\n            vec4 values = vec4(\n              getValue(batch, xR, xC, d),\n              getValue(batch, xR, xC + "+s+", d),\n              getValue(batch, xR, xC + 2 * "+s+", d),\n              initializationValue\n            );\n\n            "+g+"\n          }\n        }\n        setOutput("+h+");\n      }\n    "}},VP=function(e,t,n){if(this.variableNames=["x"],"avg"===t&&n)throw new Error("Cannot compute positions for average pool.");var r=e.filterWidth,o=e.strideDepth,a=e.strideHeight,i=e.strideWidth,s=e.dilationDepth,l=e.dilationHeight,u=e.dilationWidth,c=e.effectiveFilterDepth,d=e.effectiveFilterHeight,p=e.effectiveFilterWidth,f=e.padInfo.front,h=e.padInfo.top,m=e.padInfo.left;this.outputShape=e.outShape;var v="avg"===t,g="0.0";if(v||(g="-1.0 / 1e-20"),n)this.userCode="\n        const ivec3 strides =\n            ivec3("+o+", "+a+", "+i+");\n        const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n\n        void main() {\n          ivec5 coords = getOutputCoords();\n          int batch = coords.x;\n          int ch = coords.u;\n\n          ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n          int xDCorner = xCorner.x;\n          int xRCorner = xCorner.y;\n          int xCCorner = xCorner.z;\n\n          // max/min x(?, ?, ?, ch) to get y(yD, yR, yC, ch).\n          // ? = to be determined\n          float minMaxValue = 0.0;\n          float minMaxValueFound = 0.0;\n          int minMaxPosition = 0;\n\n          for (int wD = 0; wD < "+c+";\n              wD += "+s+") {\n            int xD = xDCorner + wD;\n\n            if (xD < 0 || xD >= "+e.inDepth+") {\n              continue;\n            }\n\n            for (int wR = 0; wR < "+d+";\n                wR += "+l+") {\n              int xR = xRCorner + wR;\n\n              if (xR < 0 || xR >= "+e.inHeight+") {\n                continue;\n              }\n\n              for (int wC = 0; wC < "+p+";\n                  wC += "+u+") {\n                int xC = xCCorner + wC;\n\n                if (xC < 0 || xC >= "+e.inWidth+") {\n                  continue;\n                }\n\n                float value = getX(batch, xD, xR, xC, ch);\n\n                // If a min / max value has already been found, use it. If not,\n                // use the current value.\n                float currMinMaxValue = mix(\n                    value, minMaxValue, minMaxValueFound);\n                if (value >= currMinMaxValue) {\n                  minMaxValue = value;\n                  minMaxValueFound = 1.0;\n                  minMaxPosition =\n                      wD * "+d+" * "+p+" +\n                      wR * "+p+" + wC;;\n                }\n              }\n            }\n          }\n          setOutput(float(minMaxPosition));\n        }\n      ";else{var y=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"avg"===t&&(y="avgValue / count");var b=4*Math.floor(r/4),x=r%4,w="\n      if ("+v+") {\n        avgValue += dot(values, ones);\n      } else {\n        minMaxValue = max(values, minMaxValue);\n      }\n    ";this.userCode="\n      const ivec3 strides =\n        ivec3("+o+", "+a+", "+i+");\n      const ivec3 pads = ivec3("+f+", "+h+", "+m+");\n      const float initializationValue = "+g+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float count = 0.0;\n\n      float getValue(int batch, int xD, int xR, int xC, int ch) {\n        if (xC < 0 || xC >= "+e.inWidth+") {\n          return initializationValue;\n        }\n        count += 1.0;\n        return getX(batch, xD, xR, xC, ch);\n      }\n\n      void main() {\n        ivec5 coords = getOutputCoords();\n        int batch = coords.x;\n        int ch = coords.u;\n\n        ivec3 xCorner = ivec3(coords.y, coords.z, coords.w) * strides - pads;\n        int xDCorner = xCorner.x;\n        int xRCorner = xCorner.y;\n        int xCCorner = xCorner.z;\n\n        // max/min x(?, ?, ?, d) to get y(yD, yR, yC, ch).\n        // ? = to be determined\n        vec4 minMaxValue = vec4("+g+");\n        float avgValue = 0.0;\n        count = 0.0;\n\n        for (int wD = 0; wD < "+c+";\n            wD += "+s+") {\n          int xD = xDCorner + wD;\n\n          if (xD < 0 || xD >= "+e.inDepth+") {\n            continue;\n          }\n\n          for (int wR = 0; wR < "+d+";\n            wR += "+l+") {\n            int xR = xRCorner + wR;\n\n            if (xR < 0 || xR >= "+e.inHeight+") {\n              continue;\n            }\n\n            for (int wC = 0; wC < "+b+"; wC += 4) {\n              int xC = xCCorner + wC * "+u+";\n\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                getValue(batch, xD, xR, xC + 3 * "+u+", ch)\n              );\n\n              "+w+"\n            }\n\n            int xC = xCCorner + "+b+";\n            if ("+(1===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                initializationValue,\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(2===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                initializationValue,\n                initializationValue\n              );\n\n              "+w+"\n            } else if ("+(3===x)+") {\n              vec4 values = vec4(\n                getValue(batch, xD, xR, xC, ch),\n                getValue(batch, xD, xR, xC + "+u+", ch),\n                getValue(batch, xD, xR, xC + 2 * "+u+", ch),\n                initializationValue\n              );\n\n              "+w+"\n            }\n          }\n          setOutput("+y+");\n        }\n      }\n    "}},HP=function(e,t){this.variableNames=["x"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=Math.ceil(o/n);this.outputShape=[r,a];var i="0.0",s="";"prod"===t?i="1.0":"min"===t?(i="1.0 / 1e-20",s="min"):"max"===t&&(i="-1.0 / 1e-20",s="max");var l=t+"("+t+"("+t+"(minMaxValue[0], minMaxValue[1]), minMaxValue[2]), minMaxValue[3])";"sum"===t?l="sumValue":"prod"===t?l="prodValue":"all"===t?l="allValue":"any"===t&&(l="anyValue");var u=4*Math.floor(n/4),c=n%4,d="\n      if ("+("sum"===t)+") {\n        sumValue += dot(values, ones);\n      } else if ("+("prod"===t)+") {\n        vec2 tmp = vec2(values[0], values[1]) * vec2(values[2], values[3]);\n        prodValue *= tmp[0] * tmp[1];\n      } else {\n        minMaxValue = "+s+"(values, minMaxValue);\n      }\n    ",p="vec4";"all"===t?(i="1.0",d="\n        bool reducedAllValue = all(values);\n        float floatedReducedAllValue = float(reducedAllValue);\n        allValue = float(allValue >= 1.0 && floatedReducedAllValue >= 1.0);\n      ",p="bvec4"):"any"===t&&(i="0.0",d="\n        bool reducedAnyValue = any(values);\n        float floatedReducedAnyValue = float(reducedAnyValue);\n        anyValue = float(anyValue >= 1.0 || floatedReducedAnyValue >= 1.0);\n      ",p="bvec4");var f="";o%n>0&&(f="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      "),this.userCode="\n      const float initializationValue = "+i+";\n      const vec4 ones = vec4(1.0, 1.0, 1.0, 1.0);\n\n      float getValue(int batch, int inIdx) {\n        "+f+"\n        return getX(batch, inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = outIdx * "+n+";\n\n        vec4 minMaxValue = vec4("+i+");\n        float prodValue = 1.0;\n        float sumValue = 0.0;\n        float allValue = 1.0;\n        float anyValue = 0.0;\n\n        for (int i = 0; i < "+u+"; i += 4) {\n          int inIdx = inOffset + i;\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          "+d+"\n        }\n\n        int inIdx = inOffset + "+u+";\n        if ("+(1===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(2===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          "+d+"\n        } else if ("+(3===c)+") {\n          "+p+" values = "+p+"(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          "+d+"\n        }\n        setOutput("+l+");\n      }\n    "},qP=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e;for(var n="",r=0;r<4;r++){var o="thisRC = rc;";r%2==1&&(o+="thisRC.z += 1;"),r>1&&(o+="thisRC.y += 1;"),n+="\n        "+o+"\n        "+(r>0?"if(thisRC.y < rows && thisRC.z < cols){":"")+"\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result["+r+"] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        "+(r>0?"}":"")+"\n      "}this.userCode="\n      \n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      "+aA(["r","c","d"],t)+"\n      return ivec3(r, c, d);\n    }\n  \n      "+iA(e)+"\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = "+e[1]+";\n        int cols = "+e[2]+";\n\n        "+n+"\n\n        setOutput(result);\n      }\n    "},GP=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],l=i[2],u=[n&&s>1?o-1:o,n&&l>1?a-1:a],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],p=u[1]/c[1],f=1/d,h=1/p,m=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(startRLerp - float(winHeight / 2));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(startCLerp - float(winWidth / 2));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float dxR = float(dyR) * heightScale;\n            int topDxRIndex = int(floor(dxR));\n            int bottomDxRIndex = int(min(ceil(dxR), "+(o-1)+".0));\n            float dxRLerp = dxR - float(topDxRIndex);\n            float inverseDxRLerp = 1.0 - dxRLerp;\n\n            float dxC = float(dyC) * widthScale;\n            int leftDxCIndex = int(floor(dxC));\n            int rightDxCIndex = int(min(ceil(dxC), "+(a-1)+".0));\n            float dxCLerp = dxC - float(leftDxCIndex);\n            float inverseDxCLerp = 1.0 - dxCLerp;\n\n            if (r == topDxRIndex && c == leftDxCIndex) {\n              // topLeft\n              accumulator +=\n                getDy(b, dyR, dyC, d) * inverseDxRLerp * inverseDxCLerp;\n            }\n\n            if (r == topDxRIndex && c == rightDxCIndex) {\n              // topRight\n              accumulator += getDy(b, dyR, dyC, d) * inverseDxRLerp * dxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == leftDxCIndex) {\n              // bottomLeft\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * inverseDxCLerp;\n            }\n\n            if (r == bottomDxRIndex && c == rightDxCIndex) {\n              // bottomRight\n              accumulator += getDy(b, dyR, dyC, d) * dxRLerp * dxCLerp;\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},KP=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec2 sourceFloorRC = ivec2(sourceFracIndexRC);\n        ivec2 sourceCeilRC = ivec2(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        float topLeft = getA(b, sourceFloorRC.x, sourceFloorRC.y, d);\n        float bottomLeft = getA(b, sourceCeilRC.x, sourceFloorRC.y, d);\n        float topRight = getA(b, sourceFloorRC.x, sourceCeilRC.y, d);\n        float bottomRight = getA(b, sourceCeilRC.x, sourceCeilRC.y, d);\n\n        vec2 fracRC = sourceFracIndexRC - vec2(sourceFloorRC);\n\n        float top = topLeft + (topRight - topLeft) * fracRC.y;\n        float bottom = bottomLeft + (bottomRight - bottomLeft) * fracRC.y;\n        float newValue = top + (bottom - top) * fracRC.x;\n\n        setOutput(newValue);\n      }\n    "},XP=function(e,t,n,r){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n];this.userCode="\n      const vec3 effectiveInputOverOutputRatioRC = vec3(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+",\n          "+l[1]/u[1]+");\n      const vec3 inputShapeRC = vec3("+a+".0, "+i+".0,\n                                     "+i+".0);\n\n      float getAValue(int b, int r, int c, int d) {\n        return getChannel(getA(b, r, c, d), vec2(c, d));\n      }\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        // Calculate values for next column in yRC.z.\n        ivec3 yRC = coords.yzz + ivec3(0, 0, 1);\n\n        // Fractional source index.\n        vec3 sourceFracIndexRC = vec3(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the four integer indices.\n        ivec3 sourceFloorRC = ivec3(sourceFracIndexRC);\n        ivec3 sourceCeilRC = ivec3(\n          min(inputShapeRC - 1.0, ceil(sourceFracIndexRC)));\n\n        // Should we calculate next column and row elements in 2x2 packed cell.\n        bool hasNextCol = d < "+(s-1)+";\n        bool hasNextRow = coords.z < "+(n-1)+";\n\n        // In parallel, construct four corners for all four components in\n        // packed 2x2 cell.\n        vec4 topLeft = vec4(\n          getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 bottomLeft = vec4(\n          getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceFloorRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceFloorRC.z, d + 1) : 0.0);\n\n        vec4 topRight = vec4(\n          getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceFloorRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceFloorRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec4 bottomRight = vec4(\n          getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d),\n          hasNextCol ? getAValue(b, sourceCeilRC.x, sourceCeilRC.y, d + 1)\n                     : 0.0,\n          hasNextRow ? getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d)\n                     : 0.0,\n          (hasNextRow && hasNextCol) ?\n            getAValue(b, sourceCeilRC.x, sourceCeilRC.z, d + 1) : 0.0);\n\n        vec3 fracRC = sourceFracIndexRC - vec3(sourceFloorRC);\n\n        vec4 top = mix(topLeft, topRight, fracRC.yyzz);\n        vec4 bottom = mix(bottomLeft, bottomRight, fracRC.yyzz);\n        vec4 newValue = mix(top, bottom, fracRC.x);\n\n        setOutput(newValue);\n      }\n    "},$P=function(e,t,n){this.variableNames=["dy"],this.outputShape=[],this.outputShape=t.shape;var r=t.shape,o=r[1],a=r[2],i=e.shape,s=i[1],l=i[2],u=[n&&s>1?o-1:o,n&&l>1?a-1:a],c=[n&&s>1?s-1:s,n&&l>1?l-1:l],d=u[0]/c[0],p=u[1]/c[1],f=1/d,h=1/p,m=2*Math.ceil(f)+2,v=2*Math.ceil(h)+2;this.userCode="\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        int r = coords[1];\n        int c = coords[2];\n\n        float accumulator = 0.0;\n\n        const float heightScale = float("+d+");\n        const float widthScale = float("+p+");\n\n        const float invHeightScale = float("+f+");\n        const float invWidthScale = float("+h+");\n\n        const int winHeight = int("+m+");\n        const int winWidth = int("+v+");\n\n        // Compute bounds for where in dy we will look\n        float startRLerp = floor(float(r) * invHeightScale);\n        int startDyR = int(floor(startRLerp - float(winHeight / 2)));\n\n        float startCLerp = floor(float(c) * invWidthScale);\n        int startDyC = int(floor(startCLerp - float(winWidth / 2)));\n\n        // Loop over dy\n        for (int dyROffset = 0; dyROffset < winHeight; dyROffset++) {\n          int dyR = dyROffset + startDyR;\n\n          // Guard against the window exceeding the bounds of dy\n          if (dyR < 0 || dyR >= "+s+") {\n            continue;\n          }\n\n          for (int dyCOffset = 0; dyCOffset < winWidth; dyCOffset++) {\n            int dyC = dyCOffset + startDyC;\n\n            // Guard against the window exceeding the bounds of dy\n            if (dyC < 0 || dyC >= "+l+") {\n              continue;\n            }\n\n            float sourceFracRow =\n              float("+u[0]+") *\n                (float(dyR) / float("+c[0]+"));\n\n            float sourceFracCol =\n                float("+u[1]+") *\n                  (float(dyC) / float("+c[1]+"));\n\n            int sourceNearestRow = int(min(\n                float(int("+o+") - 1),\n                "+n+" ? float(round(sourceFracRow)) :\n                                  float(floor(sourceFracRow))));\n\n            int sourceNearestCol = int(min(\n                float(int("+a+") - 1),\n                "+n+" ? float(round(sourceFracCol)) :\n                                  float(floor(sourceFracCol))));\n\n            if (r == sourceNearestRow && c == sourceNearestCol) {\n              accumulator += getDy(b, dyR, dyC, d);\n            }\n          }\n        }\n        // End loop over dy\n\n        setOutput(accumulator);\n      }\n    "},YP=function(e,t,n,r){this.variableNames=["A"],this.outputShape=[];var o=e[0],a=e[1],i=e[2],s=e[3];this.outputShape=[o,t,n,s];var l=[r&&t>1?a-1:a,r&&n>1?i-1:i],u=[r&&t>1?t-1:t,r&&n>1?n-1:n],c=r?"0.5":"0.0";this.userCode="\n      const vec2 effectiveInputOverOutputRatioRC = vec2(\n          "+l[0]/u[0]+",\n          "+l[1]/u[1]+");\n      const vec2 inputShapeRC = vec2("+a+".0, "+i+".0);\n\n      void main() {\n        ivec4 coords = getOutputCoords();\n        int b = coords[0];\n        int d = coords[3];\n        ivec2 yRC = coords.yz;\n\n        // Fractional source index.\n        vec2 sourceFracIndexRC = vec2(yRC) * effectiveInputOverOutputRatioRC;\n\n        // Compute the coordinators of nearest neighbor point.\n        ivec2 sourceNearestRC = ivec2(\n          min(inputShapeRC - 1.0, floor(sourceFracIndexRC + "+c+")));\n\n        float newValue = getA(b, sourceNearestRC.x, sourceNearestRC.y, d);\n\n        setOutput(newValue);\n      }\n    "},QP=function(e,t){this.variableNames=["x"];var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");if(this.outputShape=e,1!==n){var r=e.map(function(n,r){return function(n){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - coords["+n+"] - 1":"coords["+n+"]"}(r)}).join(","),o=gA(n);this.userCode="\n      void main() {\n        "+o+" coords = getOutputCoords();\n        setOutput(getX("+r+"));\n      }\n    "}else this.userCode="\n        void main() {\n          int coord = getOutputCoords();\n          setOutput(getX("+e[0]+" - coord - 1));\n        }\n      "},JP=function(e,t){this.variableNames=["x"],this.packedInputs=!0,this.packedOutput=!0;var n=e.length;if(n>4)throw new Error("WebGL backend: Reverse of rank-"+n+" tensor is not yet supported");this.outputShape=e;var r=rA("rc",n),o=r[n-1]+" + 1 < "+this.outputShape[n-1],a=r[n-2]+" + 1 < "+this.outputShape[n-2],i=gA(n);function s(n){var r=e.map(function(r,o){return function(n,r){return-1!==t.indexOf(n)&&1!==e[n]?e[n]+" - "+r[n]+" - 1":""+r[n]}(o,n)});return"getChannel(getX("+r.join(",")+"), vec2("+r.slice(-2).join(",")+"))"}this.userCode=1===n?"\n        void main(){\n          int rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = getChannel(getX("+e[0]+" - rc - 1),\n            "+e[0]+" - rc - 1);\n          if("+o+"){\n              result.g = getChannel(getX("+e[0]+" - (rc  + 1) - 1),\n                "+e[0]+" - (rc  + 1) - 1);\n          }\n          setOutput(result);\n        }\n      ":"\n        void main() {\n          "+i+" rc = getOutputCoords();\n          vec4 result = vec4(0.);\n          result.r = "+function(e){return s(e)}(r.slice())+";\n          if("+o+"){\n            result.g = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",s(e)}(r.slice())+";\n          }\n          if("+a+") {\n            result.b = "+function(e){return e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            if("+o+") {\n              result.a = "+function(e){return e[n-1]="("+e[n-1]+" + 1)",e[n-2]="("+e[n-2]+" + 1)",s(e)}(r.slice())+";\n            }\n          }\n          setOutput(result);\n        }\n    "},ZP=function(e,t,n,r,o,a,i){void 0===i&&(i=!0),this.variableNames=["updates","indices","defaultValue"],this.outputShape=a;var s=gA(o.length),l=gA(a.length),u="";1===n?u="i":2===n&&(u="i, j");var c="getIndices("+u+")",d="";1===r?d="i":2===r&&(d="i, coords[1]");var p="getUpdates("+d+")",f=t>1?"strides[j]":"strides";this.userCode="\n        "+s+" strides = "+s+"("+o+");\n\n        void main() {\n          "+l+" coords = getOutputCoords();\n          float sum = 0.0;\n          bool found = false;\n          for (int i = 0; i < "+e+"; i++) {\n            int flattenedIndex = 0;\n            for (int j = 0; j < "+t+"; j++) {\n              int index = round("+c+");\n              flattenedIndex += index * "+f+";\n            }\n            if (flattenedIndex == coords[0]) {\n              sum += "+p+";\n              found = true;\n            }\n          }\n          setOutput(mix(getDefaultValue(), sum, float(found)));\n        }\n      "},eN=function(e,t){this.variableNames=["x","segmentIds"];var n=e.windowSize,r=e.batchSize,o=e.inSize,a=e.numSegments,i=a*Math.ceil(o/n);this.outputShape=[r,i];var s=4*Math.floor(n/4),l=n%4,u="\n        sumValue += dot(values, segFilter);\n    ",c="";o%n>0&&(c="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return initializationValue;\n        }\n      ");var d="";o%n>0&&(d="\n        if (inIdx < 0 || inIdx >= "+o+") {\n          return -1.0;\n        }\n      "),this.userCode="\n      const float initializationValue = 0.0;\n\n      float getValue(int batch, int inIdx) {\n        "+c+"\n        return getX(batch, inIdx);\n      }\n\n      float getSegmentIdAtIndex(int inIdx) {\n        "+d+"\n        return getSegmentIds(inIdx);\n      }\n\n      void main() {\n        ivec2 coords = getOutputCoords();\n        int batch = coords[0];\n        int outIdx = coords[1];\n        int inOffset = int(floor(float(outIdx) / float(\n          "+a+")) * float("+n+"));\n        int currentSeg = int(mod(float(outIdx), float("+a+")));\n\n        float sumValue = 0.0;\n\n        for (int i = 0; i < "+s+"; i += 4) {\n          int inIdx = inOffset + i;\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            getValue(batch, inIdx + 3)\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 3)) == currentSeg ? 1 : 0\n          );\n\n          "+u+"\n        }\n\n        int inIdx = inOffset + "+s+";\n        if ("+(1===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            initializationValue,\n            initializationValue,\n            initializationValue\n          );\n\n          int inIdxSeg = int(getSegmentIdAtIndex(inIdx));\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            0,\n            0,\n            0\n          );\n\n          "+u+"\n        } else if ("+(2===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            initializationValue,\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n              0,\n              0\n          );\n\n          "+u+"\n        } else if ("+(3===l)+") {\n          vec4 values = vec4(\n            getValue(batch, inIdx),\n            getValue(batch, inIdx + 1),\n            getValue(batch, inIdx + 2),\n            initializationValue\n          );\n\n          vec4 segFilter = vec4(\n            int(getSegmentIdAtIndex(inIdx)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 1)) == currentSeg ? 1 : 0,\n            int(getSegmentIdAtIndex(inIdx + 2)) == currentSeg ? 1 : 0,\n            0\n          );\n\n          "+u+"\n        }\n        setOutput(sumValue);\n      }\n    "},tN=function(e,t,n){var r,o;if(this.variableNames=["c","a","b"],this.outputShape=t,n>4)throw Error("Where for rank "+n+" is not yet supported");if(1===n)o="resRC",r="resRC";else{for(var a=["resRC.x","resRC.y","resRC.z","resRC.w"],i=[],s=[],l=0;l<t.length;l++)s.push(""+a[l]),l<e&&i.push(""+a[l]);r=i.join(),o=s.join()}var u=gA(n);this.userCode="\n      void main() {\n        "+u+" resRC = getOutputCoords();\n        float cVal = getC("+r+");\n        if (cVal >= 1.0) {\n          setOutput(getA("+o+"));\n        } else {\n          setOutput(getB("+o+"));\n        }\n      }\n    "},nN=function(){function e(e){this.variableNames=["source"],this.outputShape=e,this.rank=e.length;var t,n=gA(this.rank),r="uniform int start["+this.rank+"];",o=function(e){if(1===e)return"sourceLoc";if(e<=6)return rN.slice(0,e).map(function(e){return"sourceLoc."+e}).join(",");throw Error("Slicing for rank "+e+" is not yet supported")}(this.rank);t="\n        "+n+" sourceLoc;\n        "+n+" coords = getOutputCoords();\n        "+e.map(function(e,t){return"sourceLoc."+rN[t]+" = start["+t+"] + coords."+rN[t]+";"}).join("\n")+"\n      ",this.userCode="\n      "+r+"\n      void main() {\n        "+t+"\n        setOutput(getSource("+o+"));\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),rN=["x","y","z","w","u","v"],oN=function(){function e(e){this.variableNames=["source"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.rank=e.length;var t=gA(this.rank),n=rA("coords",this.rank),r=rA("sourceLoc",this.rank),o=1===this.rank?"sourceLoc":"vec2("+r.slice(-2).join()+")",a="getChannel(getSource("+r.join()+"), "+o+")",i="\n      result.x = "+a+";\n      if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n        ++"+r[this.rank-1]+";\n        result.y = "+a+";\n        --"+r[this.rank-1]+";\n      }\n    ",s=1===this.rank?"":"\n      --"+n[this.rank-1]+";\n      if (++"+n[this.rank-2]+" < "+e[this.rank-2]+") {\n        ++"+r[this.rank-2]+";\n        result.z = "+a+";\n        if (++"+n[this.rank-1]+" < "+e[this.rank-1]+") {\n          ++"+r[this.rank-1]+";\n          result.w = "+a+";\n        }\n      }\n    ",l=this.rank<=4?"sourceLoc = coords +\n            "+t+"("+e.map(function(e,t){return"start["+t+"]"}).join()+");":e.map(function(e,t){return r[t]+" = "+n[t]+" + start["+t+"];"}).join("\n");this.userCode="\n      uniform int start["+this.rank+"];\n      void main() {\n        "+t+" coords = getOutputCoords();\n        "+t+" sourceLoc;\n        "+l+"\n        vec4 result = vec4(0.);\n        "+i+"\n        "+s+"\n        setOutput(result);\n      }\n    "}return e.prototype.getCustomSetupFunc=function(e){var t=this;if(e.length!==this.rank)throw Error("The rank ("+this.rank+") of the program must match the length of start ("+e.length+")");return function(n,r){null==t.startLoc&&(t.startLoc=n.getUniformLocationNoThrow(r,"start"),null==t.startLoc)||n.gl.uniform1iv(t.startLoc,e)}},e}(),aN=function(e,t,n){this.variableNames=["x"],this.outputShape=n;var r=n.length,o=gA(n.length),a=gA(n.length),i="";if(1===r)i="coords * strides + begin";else{var s=0;i=n.map(function(e,t){return s++,1===n.length?"coords * strides["+t+"] + begin["+t+"]":"coords["+(s-1)+"] * strides["+t+"] + begin["+t+"]"}).join(",")}this.userCode="\n      "+o+" begin = "+o+"("+e+");\n      "+o+" strides = "+o+"("+t+");\n\n      void main() {\n        "+a+" coords = getOutputCoords();\n        setOutput(getX("+i+"));\n      }\n    "},iN=function(){function e(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}return e.prototype.acquireTexture=function(e,t,n){var r,o=sN(t,n),a=lN(e,o,n);if(a in this.freeTextures||(this.freeTextures[a]=[]),a in this.usedTextures||(this.usedTextures[a]=[]),this.freeTextures[a].length>0){this.numFreeTextures--,this.numUsedTextures++,this.log();var i=this.freeTextures[a].shift();return this.usedTextures[a].push(i),i}return this.numUsedTextures++,this.log(),o===kR.PACKED_2X2_FLOAT32?r=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):o===kR.PACKED_2X2_FLOAT16?r=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):o===kR.UNPACKED_FLOAT32?r=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):o===kR.UNPACKED_FLOAT16?r=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):o===kR.PACKED_4X1_UNSIGNED_BYTE&&(r=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[a].push(r),r},e.prototype.releaseTexture=function(e,t,n,r){if(null!=this.freeTextures){var o=lN(t,sN(n,r),r);o in this.freeTextures||(this.freeTextures[o]=[]),this.freeTextures[o].push(e),this.numFreeTextures++,this.numUsedTextures--;var a=this.usedTextures[o],i=a.indexOf(e);if(i<0)throw new Error("Cannot release a texture that was never provided by this texture manager");a.splice(i,1),this.log()}},e.prototype.log=function(){if(this.logEnabled){var e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",this.numFreeTextures+" / "+this.numUsedTextures,"("+e+")")}},e.prototype.getNumUsedTextures=function(){return this.numUsedTextures},e.prototype.getNumFreeTextures=function(){return this.numFreeTextures},e.prototype.dispose=function(){var e=this;if(null!=this.freeTextures){for(var t in this.freeTextures)this.freeTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});for(var t in this.usedTextures)this.usedTextures[t].forEach(function(t){e.gpgpu.deleteMatrixTexture(t)});this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0}},e}();function sN(e,t){if(e===CR.UPLOAD)return kR.PACKED_2X2_FLOAT32;if(e===CR.RENDER||null==e)return function(e){return Yk().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?kR.PACKED_2X2_FLOAT32:kR.UNPACKED_FLOAT32:e?kR.PACKED_2X2_FLOAT16:kR.UNPACKED_FLOAT16}(t);if(e===CR.DOWNLOAD||e===CR.PIXELS)return kR.PACKED_4X1_UNSIGNED_BYTE;throw new Error("Unknown logical texture type "+e)}function lN(e,t,n){return e[0]+"_"+e[1]+"_"+t+"_"+n}var uN=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[r]*t[r];this.outputShape=n,this.rank=n.length;var o=gA(this.rank),a=function(e){var t=e.length;if(t>5)throw Error("Tile for rank "+t+" is not yet supported");if(1===t)return"imod(resRC, "+e[0]+")";for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u"],r=[],o=0;o<e.length;o++)r.push("imod("+n[o]+", "+e[o]+")");return r.join()}(e);this.userCode="\n      void main() {\n        "+o+" resRC = getOutputCoords();\n        setOutput(getA("+a+"));\n      }\n    "},cN=function(e,t){this.variableNames=["A"];for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];this.outputShape=n,this.rank=n.length;var o=gA(this.rank),a=function(e){var t=e.length;if(t>6)throw Error("Transpose for rank "+t+" is not yet supported");for(var n=["resRC.x","resRC.y","resRC.z","resRC.w","resRC.u","resRC.v"],r=new Array(t),o=0;o<e.length;o++)r[e[o]]=n[o];return r.join()}(t);this.userCode="\n    void main() {\n      "+o+" resRC = getOutputCoords();\n      setOutput(getA("+a+"));\n    }\n    "},dN=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0;for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e[t[r]];if(this.outputShape=n,this.rank=n.length,this.rank>6)throw Error("Packed transpose for rank "+this.rank+" is not yet supported.");var o=gA(this.rank),a=nA("rc",this.rank),i=new Array(this.rank);for(r=0;r<t.length;r++)i[t[r]]=a[r];var s="vec2("+i.slice(-2).join()+")",l="++"+a[this.rank-1]+" < "+n[this.rank-1],u="getChannel(getA("+i.join()+"), "+s+")";this.userCode="\n    void main() {\n      "+o+" rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = "+u+";\n      if("+l+") {\n        result[1] = "+u+";\n      }\n      --"+a[this.rank-1]+";\n      if(++"+a[this.rank-2]+" < "+n[this.rank-2]+") {\n        result[2] = "+u+";\n        if("+l+") {\n          result[3] = "+u+";\n        }\n      }\n      setOutput(result);\n    }\n    "},pN=1.7580993408473768,fN=1.0507009873554805,hN=function(e,t){this.variableNames=["A"],this.outputShape=e,this.userCode="\n      float unaryOperation(float x) {\n        "+t+"\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},mN="if (isnan(x)) return x;",vN="return abs(x);",gN=mN+"\n  return (x < 0.0) ? 0.0 : x;\n",yN=mN+"\n  return (x < 0.0) ? 0.0 : min(6.0, x);\n",bN="return (x >= 0.0) ? x : (exp(x) - 1.0);",xN="\n  // Stable and Attracting Fixed Point (0, 1) for Normalized Weights.\n  // see: https://arxiv.org/abs/1706.02515\n  float scaleAlpha = "+pN+";\n  float scale = "+fN+";\n  return (x >= 0.0) ? scale * x : scaleAlpha * (exp(x) - 1.0);\n",wN="return -x;",SN="return ceil(x);",CN="return floor(x);",kN="return exp(x);",EN="return exp(x) - 1.0;",RN=mN+"\n  return sin(x);\n",_N=mN+"\n  return cos(x);\n",IN=mN+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return asin(x);\n",TN=mN+"\n  if (abs(x) > 1.) {\n    return NAN;\n  }\n  return acos(x);\n",AN=mN+"\n  return atan(x);\n",PN=mN+"return log(x + sqrt(x * x + 1.0));",NN=mN+"\n  if (x < 1.0) return NAN;\n  return log(x + sqrt(x * x - 1.0));",MN=mN+"\n  if ((x < -1.0) || (x > 1.0)) return NAN;\n  return (log(1.0 + x) - log(1.0 - x)) / 2.0;",ON="return x;",DN="\n  vec4 result = x * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",jN="\n  vec4 result = min(x, vec4(6.)) * vec4(greaterThanEqual(x, vec4(0.0)));\n  bvec4 isNaN = isnan(x);\n\n  result.r = isNaN.r ? x.r : result.r;\n  result.g = isNaN.g ? x.g : result.g;\n  result.b = isNaN.b ? x.b : result.b;\n  result.a = isNaN.a ? x.a : result.a;\n\n  return result;\n",FN="\n  vec4 result;\n\n  result.r = (x.r >= 0.0) ? x.r : (exp(x.r) - 1.0);\n  result.g = (x.g >= 0.0) ? x.g : (exp(x.g) - 1.0);\n  result.b = (x.b >= 0.0) ? x.b : (exp(x.b) - 1.0);\n  result.a = (x.a >= 0.0) ? x.a : (exp(x.a) - 1.0);\n\n  return result;\n",LN=function(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.userCode="\n      vec4 unaryOperation(vec4 x) {\n        "+t+"\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    "},BN=function(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e;var t=e.length,n=rA("rc",t),r=gA(t),o=function(e,t){if(1===e)return"rc";for(var n="",r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),a=n.slice(-2),i=t<=1?"rc":"vec2("+a.join(",")+")";this.userCode="\n      void main() {\n        "+r+" rc = getOutputCoords();\n        vec4 packedInput = getA("+o+");\n\n        setOutput(getChannel(packedInput, "+i+"));\n      }\n    "},zN={};function WN(e,t){if(void 0===t&&(t=!1),"linear"===e)return"return x;";if("relu"===e)return t?DN:gN;if("elu"===e)return t?FN:bN;if("relu6"===e)return t?jN:yN;if("prelu"===e)return t?PA:TA;throw new Error("Activation "+e+" has not been implemented for the WebGL backend.")}var UN=function(e){function t(t){var n,r=e.call(this)||this;if(r.pendingRead=new WeakMap,r.pendingDisposal=new WeakSet,r.dataRefCount=new WeakMap,r.numBytesInGPU=0,r.uploadWaitMs=0,r.downloadWaitMs=0,r.warnedAboutMemory=!1,r.pendingDeletes=0,r.disposed=!1,!Yk().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");if(null==t){var o=IR(Yk().getNumber("WEBGL_VERSION"));r.binaryCache=((n=Yk().getNumber("WEBGL_VERSION"))in zN||(zN[n]={}),zN[n]),r.gpgpu=new IP(o),r.canvas=o.canvas,r.gpgpuCreatedLocally=!0}else r.gpgpu=t,r.binaryCache={},r.gpgpuCreatedLocally=!1,r.canvas=t.gl.canvas;return r.textureManager=new iN(r.gpgpu),r.numMBBeforeWarning=null==Yk().global.screen?1024:Yk().global.screen.height*Yk().global.screen.width*window.devicePixelRatio*600/1024/1024,r.texData=new vT(r,bR),r}return Gk(t,e),t.prototype.numDataIds=function(){return this.texData.numDataIds()+(this.cpuBackend?this.cpuBackend.numDataIds():0)-this.pendingDeletes},t.prototype.write=function(e,t,n){if(Yk().getBool("DEBUG")&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");var r={};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:CR.UPLOAD}),r},t.prototype.move=function(e,t,n,r){if(Yk().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:CR.UPLOAD})},t.prototype.readSync=function(e){var t=this.texData.get(e),n=t.values,r=t.dtype,o=t.complexTensors,a=t.slice,i=t.shape,s=t.isPacked;if(null!=a){var l;l=s?new LN(i,ON):new hN(i,ON);var u=this.runWebGLProgram(l,[{dataId:e,shape:i,dtype:r}],r),c=this.readSync(u.dataId);return this.disposeData(u.dataId),c}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;var d,p,f=null!=this.activeTimers;return f&&(d=UE()),p="complex64"===r?FT(o.real.dataSync(),o.imag.dataSync()):this.getValuesFromTexture(e),f&&(this.downloadWaitMs+=UE()-d),this.convertAndCacheOnCPU(e,p)},t.prototype.read=function(e){return Kk(this,void 0,void 0,function(){var t,n,r,o,a,i,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S;return Xk(this,function(C){switch(C.label){case 0:if(this.pendingRead.has(e))return t=this.pendingRead.get(e),[2,new Promise(function(e){return t.push(e)})];if(n=this.texData.get(e),r=n.values,o=n.shape,a=n.slice,i=n.dtype,s=n.complexTensors,l=n.isPacked,null!=a)return void 0,u=l?new LN(o,ON):new hN(o,ON),c=this.runWebGLProgram(u,[{dataId:e,shape:o,dtype:i}],i),d=this.read(c.dataId),this.disposeData(c.dataId),[2,d];if(null!=r)return[2,this.convertAndCacheOnCPU(e)];if(!Yk().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===Yk().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");return p=null,"complex64"!==i&&Yk().get("WEBGL_BUFFER_SUPPORTED")&&(f=this.decode(e),h=this.texData.get(f.dataId),p=(S=this.gpgpu).createBufferFromTexture.apply(S,[h.texture].concat(AR(o)))),this.pendingRead.set(e,[]),"complex64"===i?[3,2]:[4,this.gpgpu.createAndWaitForFence()];case 1:C.sent(),C.label=2;case 2:return"complex64"!==i?[3,4]:[4,Promise.all([s.real.data(),s.imag.data()])];case 3:return v=C.sent(),g=v[0],y=v[1],m=FT(g,y),[3,5];case 4:null==p?m=this.getValuesFromTexture(e):(b=fE(o),m=this.gpgpu.downloadFloat32MatrixFromBuffer(p,b)),C.label=5;case 5:return null!=f&&this.disposeData(f.dataId),x=this.convertAndCacheOnCPU(e,m),w=this.pendingRead.get(e),this.pendingRead.delete(e),w.forEach(function(e){return e(x)}),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e),this.pendingDeletes--),[2,x]}})})},t.prototype.checkNumericalProblems=function(e){if(null!=e)for(var t=0;t<e.length;t++){var n=e[t];if(!OR(n)){if(Yk().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error("The value "+n+" cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'");throw Error("The value "+n+" cannot be represented on this device.")}}},t.prototype.getValuesFromTexture=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,a=n.isPacked,i=fE(r);if(Yk().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){var s=this.decode(e),l=this.texData.get(s.dataId),u=(t=this.gpgpu).downloadMatrixFromPackedTexture.apply(t,[l.texture].concat(AR(r))).subarray(0,i);return this.disposeData(s.dataId),u}var c=Yk().getBool("WEBGL_PACK")&&!0===a,d=c?u_(r):r,p=c?new rP(d):new nP(d),f=this.runWebGLProgram(p,[{shape:d,dtype:o,dataId:e}],"float32"),h=this.texData.get(f.dataId),m=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(h.texture,h.texShape[0],h.texShape[1]).subarray(0,i);return this.disposeData(f.dataId),m},t.prototype.time=function(e){return Kk(this,void 0,void 0,function(){var t,n,r,o,a,i,s;return Xk(this,function(l){switch(l.label){case 0:return t=this.activeTimers,n=[],r=!1,null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e(),o=pE(this.activeTimers.map(function(e){return e.query})).filter(function(e){return null!=e}),a=pE(this.activeTimers.map(function(e){return e.name})).filter(function(e){return null!=e}),this.activeTimers=t,r&&(this.programTimersStack=null),i={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null},Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[4,Promise.all(o)]:[3,2];case 1:return s=l.sent(),i.kernelMs=lE(s),i.getExtraProfileInfo=function(){return s.map(function(e,t){return{name:a[t],ms:e}}).map(function(e){return e.name+": "+e.ms}).join(", ")},[3,3];case 2:i.kernelMs={error:"WebGL query timers are not supported in this environment."},l.label=3;case 3:return this.uploadWaitMs=0,this.downloadWaitMs=0,[2,i]}})})},t.prototype.memory=function(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU}},t.prototype.startTimer=function(){return Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:UE(),endMs:null}},t.prototype.endTimer=function(e){return Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=UE(),e)},t.prototype.getQueryTime=function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){return Yk().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?[2,this.gpgpu.waitForQueryAndGetTime(e)]:[2,(t=e).endMs-t.startMs]})})},t.prototype.disposeData=function(e){if(!this.pendingDisposal.has(e)){if(this.pendingRead.has(e))return this.pendingDisposal.add(e),void this.pendingDeletes++;if(this.texData.has(e)){this.releaseGPUData(e);var t=this.texData.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.texData.delete(e)}}},t.prototype.releaseGPUData=function(e){var t=this.texData.get(e),n=t.texture,r=t.dtype,o=t.texShape,a=t.usage,i=t.isPacked,s=t.slice,l=s&&s.origDataId||e,u=this.dataRefCount.get(l);u>1?this.dataRefCount.set(l,u-1):(this.dataRefCount.delete(l),null!=n&&(this.numBytesInGPU-=this.computeBytes(o,r),this.textureManager.releaseTexture(n,o,a,i)));var c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null},t.prototype.getTexture=function(e){return this.uploadToGPU(e),this.texData.get(e).texture},t.prototype.getDataInfo=function(e){return this.texData.get(e)},t.prototype.getCPUBackend=function(){return Yk().getBool("WEBGL_CPU_FORWARD")?(null==this.cpuBackend&&(this.cpuBackend=bR.findBackend("cpu")),this.cpuBackend):null},t.prototype.shouldExecuteOnCPU=function(e,t){var n=this;return void 0===t&&(t=128),null!=this.getCPUBackend()&&e.every(function(e){return null==n.texData.get(e.dataId).texture&&e.size<t})},t.prototype.getGPGPUContext=function(){return this.gpgpu},t.prototype.complex=function(e,t){var n=this.makeOutput(e.shape,"complex64");return this.texData.get(n.dataId).complexTensors={real:bR.keep(e.clone()),imag:bR.keep(t.clone())},n},t.prototype.real=function(e){return this.texData.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.texData.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.slice(e,t,n);if(0===fE(n))return G_([],n,e.dtype);var r=this.texData.get(e.dataId).isPacked,o=dT(e.shape,t,n);if(r||!o){var a=Yk().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new oN(n):new nN(n),i=a.getCustomSetupFunc(t);return this.compileAndRun(a,[e],null,i)}return this.uploadToGPU(e.dataId),this.shallowSlice(e,t,n)},t.prototype.shallowSlice=function(e,t,n){var r=this.texData.get(e.dataId),o=this.makeOutput(n,e.dtype),a=this.texData.get(o.dataId);Object.assign(a,r),a.shape=n,a.dtype=e.dtype;var i=pT(t,e.strides);r.slice&&(i+=r.slice.flatOffset),a.slice={flatOffset:i,origDataId:r.slice&&r.slice.origDataId||e.dataId};var s=this.dataRefCount.get(a.slice.origDataId)||1;return this.dataRefCount.set(a.slice.origDataId,s+1),o},t.prototype.stridedSlice=function(e,t,n,r){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.stridedSlice(e,t,n,r);var o=lT(t,n,r);if(o.some(function(e){return 0===e}))return G_([],o);var a=new aN(t,r,o);return this.compileAndRun(a,[e])},t.prototype.reverse=function(e,t){var n=Yk().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new JP(e.shape,t):new QP(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.concat=function(e,t){if("complex64"===e[0].dtype){var n=e.map(function(e){return H_(e)}),r=e.map(function(e){return q_(e)});return V_(this.concat(n,t),this.concat(r,t))}if(this.shouldExecuteOnCPU(e))return this.cpuBackend.concat(e,t);if(1===e.length)return e[0];if(e.length>Yk().getNumber("WEBGL_MAX_TEXTURES_IN_SHADER")){var o=Math.floor(e.length/2),a=this.concat(e.slice(0,o),t),i=this.concat(e.slice(o),t);return this.concat([a,i],t)}if(Yk().getBool("WEBGL_PACK_ARRAY_OPERATIONS")&&e[0].rank>1){var s=new FA(e.map(function(e){return e.shape}),t);return this.compileAndRun(s,e)}var l=W_(e.map(function(e){return e.shape}),t),u=e.map(function(e){return e.as2D(-1,fE(e.shape.slice(t)))}),c=new jA(u.map(function(e){return e.shape}));return this.compileAndRun(c,u).reshape(l)},t.prototype.neg=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.neg(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,wN,e.dtype);var t=new hN(e.shape,wN);return this.compileAndRun(t,[e])},t.prototype.batchMatMul=function(e,t,n,r){var o=n?e.shape[2]:e.shape[1],a=r?t.shape[1]:t.shape[2],i=n?e.shape[1]:e.shape[2],s=e.shape[0];if((1===o||1===a)&&i>1e3){n&&(e=e.transpose([0,2,1])),r&&(t=t.transpose([0,2,1]));var l=1===a?e:e.as3D(s,i,1),u=1===a?2:1,c=1===a?t.as3D(s,1,i):t;return this.multiply(l,c).sum(u,!0)}var d=dR(e.dtype,t.dtype),p=new jP(e.shape,[s,o,a],n,r);return this.compileAndRun(p,[e,t],d)},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,a=e.bias,i=e.activation,s=e.preluActivationWeights,l=r?t.shape[2]:t.shape[1],u=o?n.shape[1]:n.shape[2],c=t.shape[0],d=dR(t.dtype,n.dtype),p=null!=a,f=null!=s,h=i?WN(i,!0):null,m=new jP(t.shape,[c,l,u],r,o,p,h,f),v=[t,n];return a&&v.push(a),s&&v.push(s),this.compileAndRun(m,v,d)},t.prototype.multiply=function(e,t){if("complex64"===e.dtype){var n=this.texData.get(e.dataId),r=this.texData.get(t.dataId),o=new EA("return areal * breal - aimag * bimag;",e.shape,t.shape),a=new EA("return areal * bimag + aimag * breal;",e.shape,t.shape),i=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag),this.makeComplexComponentTensorInfo(t,r.complexTensors.real),this.makeComplexComponentTensorInfo(t,r.complexTensors.imag)],s=this.compileAndRun(o,i),l=this.compileAndRun(a,i),u=this.complex(s,l);return s.dispose(),l.dispose(),u}if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.multiply(e,t);if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,IA,e.dtype);var c=new AA(IA,e.shape,t.shape);return this.compileAndRun(c,[e,t],e.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,a){var i=[e,t,n],s=null;null!=a&&(s=a.shape,i.push(a));var l=null;if(null!=o&&(l=o.shape,i.push(o)),Yk().getBool("WEBGL_PACK_NORMALIZATION")){var u=new kA(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(u,i)}var c=new CA(e.shape,t.shape,n.shape,s,l,r);return this.compileAndRun(c,i)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){var a=Yk().getBool("WEBGL_PACK_NORMALIZATION")?new MP(e.shape,t,n,r,o):new PP(e.shape,t,n,r,o);return this.compileAndRun(a,[e])},t.prototype.LRNGrad=function(e,t,n,r,o,a,i){var s=new NP(t.shape,r,o,a,i);return this.compileAndRun(s,[t,n,e])},t.prototype.tile=function(e,t){if("string"===e.dtype){var n=this.readSync(e.dataId).map(function(e){return qE(e)});return YT(CI(e.shape,e.dtype,n),t)}var r=new uN(e.shape,t);return this.compileAndRun(r,[e])},t.prototype.pad=function(e,t,n){var r=Yk().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new WP(e.shape,t,n):new zP(e.shape,t,n);return this.compileAndRun(r,[e])},t.prototype.transpose=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.transpose(e,t);var n=Yk().getBool("WEBGL_PACK_ARRAY_OPERATIONS")?new dN(e.shape,t):new cN(e.shape,t);return this.compileAndRun(n,[e])},t.prototype.gather=function(e,t,n){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.gather(e,t,n);var r=new lP(e.shape,t.size,n);return this.compileAndRun(r,[e,t])},t.prototype.batchToSpaceND=function(e,t,n){uE(e.rank<=4,function(){return"batchToSpaceND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),o=YI(e.shape,t,r),a=QI(o.length,t.length),i=JI(e.shape,t,r),s=ZI(n,t.length),l=eT(i,n,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){uE(e.rank<=4,function(){return"spaceToBatchND for rank > 4 with a WebGL backend not implemented yet"});var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=YI(i.shape,t,r,!1),l=QI(s.length,t.length,!1),u=JI(i.shape,t,r,!1);return i.reshape(s).transpose(l).reshape(u)},t.prototype.reduce=function(e,t,n){var r=e.shape[0],o=e.shape[1],a=nT(o),i=new HP({windowSize:a,inSize:o,batchSize:r},t),s=this.compileAndRun(i,[e],n);return 1===s.shape[1]?s:this.reduce(s,t,n)},t.prototype.argReduce=function(e,t,n){void 0===n&&(n=null);var r=e.shape[0],o=e.shape[1];null!=n&&(r=n.shape[0],o=n.shape[1]);var a=nT(o),i=new tA({windowSize:a,inSize:o,batchSize:r},t,null==n),s=[e];null!=n&&s.push(n);var l=this.compileAndRun(i,s,"int32");return 1===l.shape[1]?l:this.argReduce(e,t,l)},t.prototype.argReducePacked=function(e,t,n){void 0===n&&(n=null);var r=null!=n?n.shape:e.shape,o=nT(r[r.length-1]),a=new xA(r,o,t,null==n),i=null==n?[e]:[e,n],s=this.compileAndRun(a,i,"int32");return s.rank===e.rank?this.argReducePacked(e,t,s):s},t.prototype.sum=function(e,t){j_("sum",t,e.rank);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o),i=pR(e.dtype);return this.reduce(a,"sum",i).reshape(r)},t.prototype.prod=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.prod(e,t);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o),i=pR(e.dtype);return this.reduce(a,"prod",i).reshape(r)},t.prototype.unsortedSegmentSum=function(e,t,n){var r=0,o=F_([r],e.rank),a=e;null!=o&&(a=e.transpose(o),r=B_(1,e.rank)[0]);var i=function(e,t,n){for(var r=[],o=e.length,a=0;a<o;a++)a!==t?r.push(e[a]):r.push(n);return r}(a.shape,r,n),s=fE([a.shape[r]]),l=a.as2D(-1,s),u=pR(e.dtype),c=this.segOpCompute(l,"unsortedSegmentSum",t,u,n).reshape(i);return null!=o&&(c=c.transpose(L_(o))),c},t.prototype.segOpCompute=function(e,t,n,r,o){var a=e.shape[0],i=e.shape[1],s=function(e,t){var n,r=!1;for(e<=30?(n=e,r=!0):n=jE(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=jE(e,n+1);return n}(i,o),l=new eN({windowSize:s,inSize:i,batchSize:a,numSegments:o},t),u=this.compileAndRun(l,[e,n],r);return u.shape[1]===o?u:(n=nI(0,o).tile([i/s]),this.segOpCompute(u,t,n,r,o))},t.prototype.argMinMaxReduce=function(e,t,n){var r=[t];if(j_("arg"+n.charAt(0).toUpperCase()+n.slice(1),r,e.rank),!Yk().getBool("WEBGL_PACK_REDUCE")||e.rank<=2){var o=O_(e.shape,r),a=o[0],i=fE(o[1]),s=e.as2D(-1,i);return this.argReduce(s,n).reshape(a)}return this.argReducePacked(e,n)},t.prototype.argMin=function(e,t){return this.argMinMaxReduce(e,t,"min")},t.prototype.argMax=function(e,t){return this.argMinMaxReduce(e,t,"max")},t.prototype.cumsum=function(e,t,n,r){if(t!==e.rank-1)throw new Error("WebGL cumsum shader expects an inner-most axis="+(e.rank-1)+" but got axis="+t);var o=new YA(e.shape,n,r);return this.compileAndRun(o,[e])},t.prototype.equal=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(equal(a, b));\n","bool");var n=new AA("return float(a == b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.notEqual=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(notEqual(a, b));\n","bool");var n=new AA("return float(a != b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.less=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.less(e,t);if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThan(a, b));\n","bool");var n=new AA("return float(a < b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.lessEqual=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(lessThanEqual(a, b));\n","bool");var n=new AA("return float(a <= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greater=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.greater(e,t);if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThan(a, b));\n","bool");var n=new AA("return float(a > b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.greaterEqual=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(greaterThanEqual(a, b));\n","bool");var n=new AA("return float(a >= b);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalNot=function(e){var t=new hN(e.shape,"return float(!(x >= 1.0));");return this.compileAndRun(t,[e])},t.prototype.logicalAnd=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return vec4(\n    vec4(greaterThanEqual(a, vec4(1.0))) *\n    vec4(greaterThanEqual(b, vec4(1.0))));\n","bool");var n=new AA("return float(a >= 1.0 && b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.logicalOr=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  return min(\n    vec4(greaterThanEqual(a, vec4(1.0))) +\n    vec4(greaterThanEqual(b, vec4(1.0))),\n    vec4(1.0));\n","bool");var n=new AA("return float(a >= 1.0 || b >= 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t],"bool")},t.prototype.select=function(e,t,n){var r=new tN(e.rank,t.shape,t.rank);return this.compileAndRun(r,[e,t,n],dR(t.dtype,n.dtype))},t.prototype.where=function(e){__("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");var t=e.dataSync();return JT(e.shape,t)},t.prototype.topk=function(e,t,n){return QT(e.dataSync(),e.shape,e.dtype,t)},t.prototype.min=function(e,t){j_("min",t,e.rank);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o);return this.reduce(a,"min",a.dtype).reshape(r)},t.prototype.minimum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.minimum(e,t);var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  vec4 result = vec4(min(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new AA("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return min(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.mod=function(e,t){var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  vec4 result = mod(a, b);\n  vec4 isNaN = vec4(equal(b, vec4(0.0)));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new AA("if (b == 0.0) return NAN;\n  return mod(a, b);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.max=function(e,t){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.max(e,t);j_("max",t,e.rank);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o);return this.reduce(a,"max",a.dtype).reshape(r)},t.prototype.maximum=function(e,t){if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.maximum(e,t);var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  vec4 result = vec4(max(a, b));\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new AA("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return max(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.all=function(e,t){j_("all",t,e.rank);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o);return this.reduce(a,"all",a.dtype).reshape(r)},t.prototype.any=function(e,t){j_("any",t,e.rank);var n=O_(e.shape,t),r=n[0],o=fE(n[1]),a=e.as2D(-1,o);return this.reduce(a,"any",a.dtype).reshape(r)},t.prototype.realDivide=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  // vec4 one = vec4(equal(a, b));\n  // return one + (vec4(1.0) - one) * a / b;\n  vec4 result = a / b;\n  if(a.x == b.x) {\n    result.x = 1.;\n  }\n  if(a.y == b.y) {\n    result.y = 1.;\n  }\n  if(a.z == b.z) {\n    result.z = 1.;\n  }\n  if(a.w == b.w) {\n    result.w = 1.;\n  }\n\n  return result;\n","float32",!0);var n=new AA("\nif (a == b) {\n  return 1.0;\n};\nreturn a / b;",e.shape,t.shape);return this.compileAndRun(n,[e,t],"float32")},t.prototype.floorDiv=function(e,t){if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,"\n  ivec4 ia = round(a);\n  ivec4 ib = round(b);\n  bvec4 cond = notEqual(ib, ivec4(0));\n  ivec4 result = ivec4(0);\n  vec4 s = sign(a) * sign(b);\n\n  // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n  if (cond[0]) {\n    result[0] = idiv(ia[0], ib[0], s[0]);\n  }\n  if (cond[1]) {\n    result[1] = idiv(ia[1], ib[1], s[1]);\n  }\n  if (cond[2]) {\n    result[2] = idiv(ia[2], ib[2], s[2]);\n  }\n  if (cond[3]) {\n    result[3] = idiv(ia[3], ib[3], s[3]);\n  }\n  return vec4(result);\n","int32");var n=new AA("\n  float s = sign(a) * sign(b);\n  int ia = round(a);\n  int ib = round(b);\n  if (ib != 0) {\n    // Windows (D3D) wants guaranteed non-zero int division at compile-time.\n    return float(idiv(ia, ib, s));\n  } else {\n    return NAN;\n  }\n",e.shape,t.shape);return this.compileAndRun(n,[e,t],"int32")},t.prototype.add=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,RA);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.add(e,t);var n=dR(e.dtype,t.dtype);if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,RA,n);var r=new AA(RA,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.packedUnaryOp=function(e,t,n){var r=new LN(e.shape,t);return this.compileAndRun(r,[e],n)},t.prototype.packedBinaryOp=function(e,t,n,r,o){void 0===o&&(o=!1);var a=new NA(n,e.shape,t.shape,o);return this.compileAndRun(a,[e,t],r)},t.prototype.complexSeparableBinaryOp=function(e,t,n){var r=this,o=this.texData.get(e.dataId),a=this.texData.get(t.dataId),i=[[o.complexTensors.real,a.complexTensors.real],[o.complexTensors.imag,a.complexTensors.imag]].map(function(o){var a=o[0],i=o[1],s=r.makeComplexComponentTensorInfo(e,a),l=r.makeComplexComponentTensorInfo(t,i),u=new AA(n,e.shape,t.shape);return r.compileAndRun(u,[s,l],dR(a.dtype,i.dtype))}),s=i[0],l=i[1],u=this.complex(s,l);return s.dispose(),l.dispose(),u},t.prototype.makeComplexComponentTensorInfo=function(e,t){return{dataId:t.dataId,dtype:t.dtype,shape:e.shape}},t.prototype.addN=function(e){if(1===e.length)return e[0];if(e.length>Yk().get("WEBGL_MAX_TEXTURES_IN_SHADER")){var t=Math.floor(e.length/2),n=this.addN(e.slice(0,t)),r=this.addN(e.slice(t));return this.addN([n,r])}var o=e.map(function(e){return e.dtype}).reduce(function(e,t){return dR(e,t)}),a=e.map(function(e){return e.shape}),i=Yk().getBool("WEBGL_PACK")?new eA(e[0].shape,a):new ZT(e[0].shape,a);return this.compileAndRun(i,e,o)},t.prototype.subtract=function(e,t){if("complex64"===e.dtype&&"complex64"===t.dtype)return this.complexSeparableBinaryOp(e,t,_A);if(this.shouldExecuteOnCPU([e,t]))return this.cpuBackend.subtract(e,t);var n=dR(e.dtype,t.dtype);if(Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS"))return this.packedBinaryOp(e,t,_A,e.dtype);var r=new AA(_A,e.shape,t.shape);return this.compileAndRun(r,[e,t],n)},t.prototype.pow=function(e,t){var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  // isModRound1 has 1 for components with round(mod(b, 2.0)) == 1, 0 otherwise.\n  vec4 isModRound1 = vec4(equal(round(mod(b, 2.0)), ivec4(1)));\n  vec4 multiplier = sign(a) * isModRound1 + (vec4(1.0) - isModRound1);\n  vec4 result = multiplier * pow(abs(a), b);\n\n  // Ensure that a^0 = 1, including 0^0 = 1 as this correspond to TF and JS\n  bvec4 isExpZero = equal(b, vec4(0.0));\n  result.r = isExpZero.r ? 1.0 : result.r;\n  result.g = isExpZero.g ? 1.0 : result.g;\n  result.b = isExpZero.b ? 1.0 : result.b;\n  result.a = isExpZero.a ? 1.0 : result.a;\n\n  vec4 isNaN = vec4(lessThan(a, vec4(0.0))) * vec4(lessThan(floor(b), b));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new AA("\nif(a < 0.0 && floor(b) < b){\n  return NAN;\n}\nif (b == 0.0) {\n  return 1.0;\n}\nreturn (round(mod(b, 2.0)) != 1) ?\n    pow(abs(a), b) : sign(a) * pow(abs(a), b);\n",e.shape,t.shape),r=dR(e.dtype,t.dtype);return this.compileAndRun(n,[e,t],r)},t.prototype.ceil=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.ceil(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,SN,e.dtype);var t=new hN(e.shape,SN);return this.compileAndRun(t,[e])},t.prototype.floor=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.floor(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,CN,e.dtype);var t=new hN(e.shape,CN);return this.compileAndRun(t,[e])},t.prototype.sign=function(e){var t=new hN(e.shape,"\n  if (isnan(x)) { return 0.0; }\n  return sign(x);\n");return this.compileAndRun(t,[e])},t.prototype.isNaN=function(e){var t=new hN(e.shape,"return float(isnan(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isInf=function(e){var t=new hN(e.shape,"return float(isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.isFinite=function(e){var t=new hN(e.shape,"return float(!isnan(x) && !isinf(x));");return this.compileAndRun(t,[e],"bool")},t.prototype.round=function(e){var t=new hN(e.shape,"\n  // OpenGL ES does not support round function.\n  // The algorithm is based on banker's rounding.\n  float base = floor(x);\n  if ((x - base) < 0.5) {\n    return floor(x);\n  } else if ((x - base) > 0.5) {\n    return ceil(x);\n  } else {\n    if (mod(base, 2.0) == 0.0) {\n      return base;\n    } else {\n      return base + 1.0;\n    }\n  }\n");return this.compileAndRun(t,[e])},t.prototype.exp=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.exp(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,kN,e.dtype);var t=new hN(e.shape,kN);return this.compileAndRun(t,[e])},t.prototype.expm1=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.expm1(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,EN,e.dtype);var t=new hN(e.shape,EN);return this.compileAndRun(t,[e])},t.prototype.softmax=function(e,t){var n=wE([t],e.shape),r=this.max(e,n),o=D_(r.shape,n),a=this.subtract(e,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return this.realDivide(i,s)},t.prototype.log=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.log(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,"\n  vec4 result = log(x);\n  vec4 isNaN = vec4(lessThan(x, vec4(0.0)));\n  result.r = isNaN.r == 1.0 ? NAN : result.r;\n  result.g = isNaN.g == 1.0 ? NAN : result.g;\n  result.b = isNaN.b == 1.0 ? NAN : result.b;\n  result.a = isNaN.a == 1.0 ? NAN : result.a;\n\n  return result;\n",e.dtype);var t=new hN(e.shape,"if (x < 0.0) return NAN;\n  return log(x);");return this.compileAndRun(t,[e])},t.prototype.log1p=function(e){var t=new hN(e.shape,"return log(1.0 + x);");return this.compileAndRun(t,[e])},t.prototype.sqrt=function(e){var t=new hN(e.shape,"return sqrt(x);");return this.compileAndRun(t,[e])},t.prototype.rsqrt=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.rsqrt(e);var t=new hN(e.shape,"return inversesqrt(x);");return this.compileAndRun(t,[e])},t.prototype.reciprocal=function(e){var t=new hN(e.shape,"return 1.0 / x;");return this.compileAndRun(t,[e])},t.prototype.relu=function(e){var t;return t=Yk().getBool("WEBGL_PACK")?new LN(e.shape,DN):new hN(e.shape,gN),this.compileAndRun(t,[e])},t.prototype.relu6=function(e){var t;return t=Yk().getBool("WEBGL_PACK")?new LN(e.shape,jN):new hN(e.shape,yN),this.compileAndRun(t,[e])},t.prototype.prelu=function(e,t){var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA(PA,e.shape,t.shape):new AA(TA,e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.elu=function(e){if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,FN,e.dtype);var t=new hN(e.shape,bN);return this.compileAndRun(t,[e])},t.prototype.eluDer=function(e,t){var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  vec4 bGTEZero = vec4(greaterThanEqual(b, vec4(0.)));\n  return (bGTEZero * a) + ((vec4(1.0) - bGTEZero) * (a * (b + vec4(1.0))));\n",e.shape,t.shape):new AA("return (b >= 1.0) ? a : a * (b + 1.0);",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.selu=function(e){var t=new hN(e.shape,xN);return this.compileAndRun(t,[e])},t.prototype.int=function(e){var t=new hN(e.shape,"return float(int(x));");return this.compileAndRun(t,[e],"int32")},t.prototype.clip=function(e,t,n){var r,o=(r=Yk().getBool("WEBGL_PACK_CLIP")?new OA(e.shape):new MA(e.shape)).getCustomSetupFunc(t,n);return this.compileAndRun(r,[e],null,o)},t.prototype.abs=function(e){if(this.shouldExecuteOnCPU([e]))return this.cpuBackend.abs(e);if(Yk().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,vN,e.dtype);var t=new hN(e.shape,vN);return this.compileAndRun(t,[e])},t.prototype.complexAbs=function(e){var t=this.texData.get(e.dataId),n=new DA(e.shape),r=[this.makeComplexComponentTensorInfo(e,t.complexTensors.real),this.makeComplexComponentTensorInfo(e,t.complexTensors.imag)];return this.compileAndRun(n,r)},t.prototype.sigmoid=function(e){var t=new hN(e.shape,"return 1.0 / (1.0 + exp(-1.0 * x));");return this.compileAndRun(t,[e])},t.prototype.softplus=function(e){var t=new hN(e.shape,"\n  float epsilon = 1.1920928955078125e-7;\n  float threshold = log(epsilon) + 2.0;\n\n  bool too_large = x > -threshold;\n  bool too_small = x < threshold;\n\n  float result;\n  float exp_x = exp(x);\n\n  if (too_large){\n    result = x;\n  }\n  else if (too_small){\n    result = exp_x;\n  }\n  else{\n    result = log(exp_x + 1.0);\n  }\n  return result;\n");return this.compileAndRun(t,[e])},t.prototype.sin=function(e){var t=new hN(e.shape,RN);return this.compileAndRun(t,[e])},t.prototype.cos=function(e){var t=new hN(e.shape,_N);return this.compileAndRun(t,[e])},t.prototype.tan=function(e){var t=new hN(e.shape,"return tan(x);");return this.compileAndRun(t,[e])},t.prototype.asin=function(e){var t=new hN(e.shape,IN);return this.compileAndRun(t,[e])},t.prototype.acos=function(e){var t=new hN(e.shape,TN);return this.compileAndRun(t,[e])},t.prototype.atan=function(e){var t=new hN(e.shape,AN);return this.compileAndRun(t,[e])},t.prototype.atan2=function(e,t){var n=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("\n  vec4 result = atan(a, b);\n  vec4 isNaN = min(vec4(isnan(a)) + vec4(isnan(b)), vec4(1.0));\n  \n  result.r = isNaN.r > 0. ? NAN : result.r;\n  result.g = isNaN.g > 0. ? NAN : result.g;\n  result.b = isNaN.b > 0. ? NAN : result.b;\n  result.a = isNaN.a > 0. ? NAN : result.a;\n\n  return result;\n",e.shape,t.shape):new AA("\n  if (isnan(a)) return a;\n  if (isnan(b)) return b;\n\n  return atan(a, b);\n",e.shape,t.shape);return this.compileAndRun(n,[e,t])},t.prototype.sinh=function(e){var t=new hN(e.shape,"\n  float e2x = exp(x);\n  return (e2x - 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.cosh=function(e){var t=new hN(e.shape,"\n  float e2x = exp(-x);\n  return (e2x + 1.0 / e2x) / 2.0;\n");return this.compileAndRun(t,[e])},t.prototype.tanh=function(e){var t=new hN(e.shape,"\n  float e2x = exp(-2.0 * abs(x));\n  return sign(x) * (1.0 - e2x) / (1.0 + e2x);\n");return this.compileAndRun(t,[e])},t.prototype.asinh=function(e){var t=new hN(e.shape,PN);return this.compileAndRun(t,[e])},t.prototype.acosh=function(e){var t=new hN(e.shape,NN);return this.compileAndRun(t,[e])},t.prototype.atanh=function(e){var t=new hN(e.shape,MN);return this.compileAndRun(t,[e])},t.prototype.erf=function(e){var t=new hN(e.shape,'\n  // Error function is calculated approximately with elementary function.\n  // See "Handbook of Mathematical Functions with Formulas,\n  // Graphs, and Mathematical Tables", Abramowitz and Stegun.\n  float p = 0.3275911;\n  float a1 = 0.254829592;\n  float a2 = -0.284496736;\n  float a3 = 1.421413741;\n  float a4 = -1.453152027;\n  float a5 = 1.061405429;\n\n  float sign = sign(x);\n  x = abs(x);\n  float t = 1.0 / (1.0 + p * x);\n  return sign * (1.0 - (((((a5*t + a4)*t) + a3)*t + a2)*t + a1)*t*exp(-x*x));\n');return this.compileAndRun(t,[e])},t.prototype.step=function(e,t){var n=new hN(e.shape,function(e){return void 0===e&&(e=0),mN+"\n    return x > 0.0 ? 1.0 : float("+e+");\n  "}(t));return this.compileAndRun(n,[e])},t.prototype.conv2dByMatMul=function(e,t,n,r,o,a){var i=e.shape,s=this.texData.get(e.dataId),l=n.inChannels,u=i[0]*i[1]*i[2],c=n.outChannels,d="channelsLast"===n.dataFormat,p=(1===u||1===c)&&l>1e3,f=i[2]%2!=0&&!!s.isPacked;if(p||!Yk().getBool("WEBGL_LAZILY_UNPACK")||!Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")||!f){var h=d?i[0]*i[1]*i[2]:i[0]*i[2]*i[3],m=this.reshape(e,[1,h,n.inChannels]),v=this.reshape(t,[1,n.inChannels,n.outChannels]);return this.reshape(this.fusedBatchMatMul({a:m,b:v,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),n.outShape)}var g=d?i[0]*i[1]*(i[2]+1):i[0]*i[2]*(i[3]+1),y={dataId:e.dataId,shape:[1,g,n.inChannels],dtype:e.dtype},b=s.shape;s.shape=s.shape.slice(),s.shape[s.shape.length-2]++,uE(p_(s.shape,y.shape),function(){return"packed reshape "+s.shape+" to "+y.shape+" isn't free"});var x=this.reshape(t,[1,n.inChannels,n.outChannels]),w=this.fusedBatchMatMul({a:y,b:x,transposeA:!1,transposeB:!1,bias:r,activation:o,preluActivationWeights:a}),S=this.texData.get(w.dataId);return uE(S.isPacked,function(){return"batchMatMul result is expected to be packed"}),s.shape=b,S.shape=n.outShape,bR.makeTensorFromDataId(w.dataId,n.outShape,w.dtype)},t.prototype.conv2dWithIm2Row=function(e,t,n,r,o,a){var i=n.filterWidth,s=n.filterHeight,l=n.inChannels,u=n.outWidth,c=n.outHeight,d="channelsLast"===n.dataFormat,p=i*s*l,f=c*u,h=[p,f],m=e.squeeze([0]),v=t.reshape([1,p,-1]),g=new AP(h,m.shape,n),y=this.compileAndRun(g,[m]).reshape([1,h[0],h[1]]),b=null!=r,x=null!=a,w=o?WN(o,!0):null,S=new jP(y.shape,[1,f,n.outChannels],!0,!1,b,w,x),C=[y,v];r&&C.push(r),x&&C.push(a);var k=this.compileAndRun(S,C);return d?k.reshape([1,c,u,n.outChannels]):k.reshape([1,n.outChannels,c,u])},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,a=e.activation,i=e.preluActivationWeights;if(1===r.filterHeight&&1===r.filterWidth&&1===r.dilationHeight&&1===r.dilationWidth&&1===r.strideHeight&&1===r.strideWidth&&("SAME"===r.padInfo.type||"VALID"===r.padInfo.type))return this.conv2dByMatMul(t,n,r,o,a,i);if(Yk().getBool("WEBGL_CONV_IM2COL")&&1===t.shape[0])return this.conv2dWithIm2Row(t,n,r,o,a,i);var s=null!=o,l=null!=i,u=a?WN(a,!1):null,c=new qA(r,s,u,l),d=[t,n];return o&&d.push(o),i&&d.push(i),this.compileAndRun(c,d)},t.prototype.conv2d=function(e,t,n){if(1===n.filterHeight&&1===n.filterWidth&&1===n.dilationHeight&&1===n.dilationWidth&&1===n.strideHeight&&1===n.strideWidth&&("SAME"===n.padInfo.type||"VALID"===n.padInfo.type))return this.conv2dByMatMul(e,t,n);if(Yk().getBool("WEBGL_CONV_IM2COL")&&1===e.shape[0])return this.conv2dWithIm2Row(e,t,n);var r=new qA(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerInput=function(e,t,n){var r=new zA(n);return this.compileAndRun(r,[e,t])},t.prototype.conv2dDerFilter=function(e,t,n){var r=new BA(n);return this.compileAndRun(r,[e,t])},t.prototype.fusedDepthwiseConv2D=function(e){var t,n=e.input,r=e.filter,o=e.convInfo,a=e.bias,i=e.activation,s=e.preluActivationWeights,l=Yk().getBool("WEBGL_PACK_DEPTHWISECONV")&&o.strideWidth<=2&&o.outChannels/o.inChannels==1,u=i?WN(i,l):null,c=[n,r],d=null!=a,p=null!=s;return d&&c.push(a),p&&c.push(s),l?(t=new XA(o,d,u,p),this.compileAndRun(t,c)):(t=new KA(o,d,u,p),this.compileAndRun(t,c))},t.prototype.depthwiseConv2D=function(e,t,n){var r;return Yk().getBool("WEBGL_PACK_DEPTHWISECONV")&&n.strideWidth<=2&&n.outChannels/n.inChannels==1?(r=new XA(n),this.compileAndRun(r,[e,t])):(r=new KA(n),this.compileAndRun(r,[e,t]))},t.prototype.depthwiseConv2DDerInput=function(e,t,n){var r=new HA(n);return this.compileAndRun(r,[e,t])},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){var r=new VA(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3d=function(e,t,n){var r=new GA(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerInput=function(e,t,n){var r=new UA(n);return this.compileAndRun(r,[e,t])},t.prototype.conv3dDerFilter=function(e,t,n){var r=new WA(n);return this.compileAndRun(r,[e,t])},t.prototype.maxPool=function(e,t){var n=new UP(t,"max",!1);return this.compileAndRun(n,[e])},t.prototype.avgPool=function(e,t){var n=new UP(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPoolBackprop=function(e,t,n,r){var o=new UP(r,"max",!0),a=this.compileAndRun(o,[t]),i=new OP(r),s=this.compileAndRun(i,[e,a],t.dtype);return a.dispose(),s},t.prototype.avgPoolBackprop=function(e,t,n){var r=new wA(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.cast=function(e,t){return OT(e,t,this)},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,a=0;a<e.rank;a++)a!==t&&(r[o++]=e.shape[a]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(a=0;a<l.length;a++)i[t]=a,l[a]=this.slice(e,i,s).reshape(r);return l},t.prototype.avgPool3d=function(e,t){var n=new VP(t,"avg",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.avgPool3dBackprop=function(e,t,n){var r=new SA(n);return this.compileAndRun(r,[e],t.dtype)},t.prototype.maxPool3d=function(e,t){var n=new VP(t,"max",!1);return this.compileAndRun(n,[e],"float32")},t.prototype.maxPool3dBackprop=function(e,t,n,r){var o=new VP(r,"max",!0),a=this.compileAndRun(o,[t]),i=new DP(r),s=this.compileAndRun(i,[e,a],t.dtype);return a.dispose(),s},t.prototype.reshape=function(e,t){var n=this.texData.get(e.dataId);if(n.isPacked&&!p_(e.shape,t)&&(null===n.texture||!p_(n.shape,t))){var r=this.packedReshape(e,t);return bR.makeTensorFromDataId(r.dataId,r.shape,r.dtype)}return DT(e,t)},t.prototype.resizeBilinear=function(e,t,n,r){var o=Yk().getBool("WEBGL_PACK_IMAGE_OPERATIONS")?new XP(e.shape,t,n,r):new KP(e.shape,t,n,r);return this.compileAndRun(o,[e],"float32")},t.prototype.resizeBilinearBackprop=function(e,t,n){var r=new GP(e,t,n);return this.compileAndRun(r,[e])},t.prototype.resizeNearestNeighbor=function(e,t,n,r){var o=new YP(e.shape,t,n,r);return this.compileAndRun(o,[e])},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){var r=new $P(e,t,n);return this.compileAndRun(r,[e])},t.prototype.multinomial=function(e,t,n,r){var o=t?e:hT(e),a=o.shape[0],i=o.shape[1],s=new FP(a,i,n),l=s.getCustomSetupFunc(r);return this.compileAndRun(s,[o],"int32",l)},t.prototype.oneHot=function(e,t,n,r){var o=new LP(e.size,t,n,r);return this.compileAndRun(o,[e])},t.prototype.diag=function(e){var t=new tP(e.size);return this.compileAndRun(t,[e])},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return __("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead"),VT(e.dataSync(),t.dataSync(),n,r,o)},t.prototype.cropAndResize=function(e,t,n,r,o,a){var i=new $A(e.shape,t.shape,r,o,a);return this.compileAndRun(i,[e,t,n],"float32")},t.prototype.depthToSpace=function(e,t,n){uE(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});var r=e.shape[0],o="NHWC"===n?e.shape[1]:e.shape[2],a="NHWC"===n?e.shape[2]:e.shape[3],i="NHWC"===n?e.shape[3]:e.shape[1],s=o*t,l=a*t,u=i/(t*t),c=new eP("NHWC"===n?[r,s,l,u]:[r,u,s,l],t,n);return this.compileAndRun(c,[e])},t.prototype.split=function(e,t,n){return $T(e,t,n)},t.prototype.scatterND=function(e,t,n){var r=aT(0,e,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,l=r.outputSize,u=[l/i,i],c=e.reshape([a,o]),d=t.reshape([a,i]);if(0===l)return DT(G_([]),n);var p=X_(0),f=new ZP(a,o,c.rank,d.rank,s,u);return this.compileAndRun(f,[d,c,p]).reshape(n)},t.prototype.sparseToDense=function(e,t,n,r){var o=aT(0,e,n),a=o.sliceRank,i=o.numUpdates,s=o.strides,l=o.outputSize,u=new ZP(i,a,e.rank,t.rank,s,[l,1],!1);return this.compileAndRun(u,[t,e,r]).reshape(n)},t.prototype.fft=function(e){return this.fftImpl(e,!1)},t.prototype.ifft=function(e){return this.fftImpl(e,!0)},t.prototype.fftImpl=function(e,t){var n=this.texData.get(e.dataId),r=new iP("return real * expR - imag * expI;",e.shape,t),o=new iP("return real * expI + imag * expR;",e.shape,t),a=[this.makeComplexComponentTensorInfo(e,n.complexTensors.real),this.makeComplexComponentTensorInfo(e,n.complexTensors.imag)],i=this.compileAndRun(r,a),s=this.compileAndRun(o,a),l=this.complex(i,s).as2D(e.shape[0],e.shape[1]);return i.dispose(),s.dispose(),l},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=tT(e,t),a=o[0],i=o[1],s=o[2],l=o[3],u=t.reshape([i,r]),c=e.reshape([e.size/s,s]),d=new uP(r,l,[i,s]);return this.compileAndRun(d,[c,u]).reshape(a)},t.prototype.fill=function(e,t,n){if("string"===(n=n||OE(t))){var r=kE(n,fE(e));return r.fill(t),bR.makeTensor(r,e,n,this)}var o=new sP(e,t),a=o.getCustomSetupFunc(t);return this.compileAndRun(o,[],n,a)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported under string dtype");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){return this.fill(e.shape,"string"===e.dtype?"":0,e.dtype)},t.prototype.linspace=function(e,t,n){return jT(e,t,n)},t.prototype.makeTensorInfo=function(e,t){var n=this.write(null,e,t);return this.texData.get(n).usage=null,{dataId:n,shape:e,dtype:t}},t.prototype.makeOutput=function(e,t){var n=this.makeTensorInfo(e,t).dataId;return bR.makeTensorFromDataId(n,e,t,this)},t.prototype.unpackTensor=function(e){var t=new BN(e.shape);return this.runWebGLProgram(t,[e],e.dtype)},t.prototype.packTensor=function(e){var t=new BP(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)},t.prototype.packedReshape=function(e,t){var n=[s_(e.shape)].concat(l_(e.shape)),r={dtype:e.dtype,shape:n,dataId:e.dataId},o=[s_(t)].concat(l_(t)),a=new qP(o,n),i=this.runWebGLProgram(a,[r],e.dtype,null,!0);return{dataId:i.dataId,shape:t,dtype:i.dtype}},t.prototype.decode=function(e){var t,n=this.texData.get(e),r=n.isPacked,o=n.shape,a=n.dtype,i=u_(o);return t=r?new ZA(i):new JA(i),{dtype:a,shape:o,dataId:this.runWebGLProgram(t,[{shape:i,dtype:a,dataId:e}],a,null,!0).dataId}},t.prototype.runWebGLProgram=function(e,t,n,r,o){var a=this;void 0===o&&(o=!1);var i=this.makeTensorInfo(e.outputShape,n),s=this.texData.get(i.dataId);if(e.packedOutput&&(s.isPacked=!0),e.outPackingScheme===SR.DENSE){var l=AR(e.outputShape);s.texShape=l.map(function(e){return 2*e})}if(null!=e.outTexUsage&&(s.usage=e.outTexUsage),0===fE(i.shape))return s.values=CE(i.dtype,0),i;var u=[],c=t.map(function(t){if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");var n=a.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&fE(t.shape)<=Yk().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}else if(!!n.isPacked!=!!e.packedInputs)t=n.isPacked?a.unpackTensor(t):a.packTensor(t),u.push(t),n=a.texData.get(t.dataId);else if(n.isPacked&&!p_(n.shape,t.shape)){var r=t,o=t.shape;t.shape=n.shape,t=a.packedReshape(t,o),u.push(t),n=a.texData.get(t.dataId),r.shape=o}return a.uploadToGPU(t.dataId),{shape:t.shape,texData:n,isUniform:!1}});this.uploadToGPU(i.dataId);var d,p={shape:i.shape,texData:s,isUniform:!1},f=function(e,t,n){var r="";t.concat(n).forEach(function(e){var t=null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0,n=e.isUniform?"uniform":e.texData.texShape;r+=e.shape+"_"+n+"_"+t});var o=e.userCode;return e.constructor.name+"_"+r+"_"+o}(e,c,p),h=this.getAndSaveBinary(f,function(){return function(e,t,n,r){var o=t.userCode,a=n.map(function(e,n){var r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}}),i=a.map(function(e){return e.shapeInfo}),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=lA(a,s,o,t.packedInputs),u=e.createProgram(l),c=null,d=e.getUniformLocation(u,"NAN",!1);1===Yk().getNumber("WEBGL_VERSION")&&(c=e.getUniformLocation(u,"INFINITY",!1));for(var p={},f=0;f<t.variableNames.length;f++){var h=t.variableNames[f];p[h]=e.getUniformLocation(u,h,!1),p["offset"+h]=e.getUniformLocation(u,"offset"+h,!1)}return{program:t,source:l,webGLProgram:u,uniformLocations:p,inShapeInfos:i,outShapeInfo:s,infLoc:c,nanLoc:d}}(a.gpgpu,e,c,p)}),m=null!=this.activeTimers;if(m&&(d=this.startTimer()),function(e,t,n,r,o){TP(t.inShapeInfos,n),TP([t.outShapeInfo],[r]);var a=r.texData.texture,i=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a,i[0],i[1]):e.setOutputMatrixTexture(a,i[0],i[1]),e.setProgram(t.webGLProgram),1===Yk().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(function(n,r){var o=t.program.variableNames[r],a=t.uniformLocations[o],i=t.uniformLocations["offset"+o];if(null!=a)if(n.isUniform)if(fE(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{var s=n.uniformValues;s instanceof Float32Array||(s=new Float32Array(s)),e.gl.uniform1fv(a,s)}else null!=n.texData.slice&&null!=i&&e.gl.uniform1i(i,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture,a,r)}),null!=o&&o(e,t.webGLProgram),e.executeProgram()}(this.gpgpu,h,c,p,r),u.forEach(function(e){return a.disposeData(e.dataId)}),m&&(d=this.endTimer(d),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(d)})),!Yk().getBool("WEBGL_LAZILY_UNPACK")&&s.isPacked&&!1===o){var v=this.unpackTensor(i);return this.disposeData(i.dataId),v}return i},t.prototype.compileAndRun=function(e,t,n,r,o){void 0===o&&(o=!1),n=n||t[0].dtype;var a=this.runWebGLProgram(e,t,n,r,o);return bR.makeTensorFromDataId(a.dataId,a.shape,a.dtype)},t.prototype.getAndSaveBinary=function(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]},t.prototype.getTextureManager=function(){return this.textureManager},t.prototype.dispose=function(){var e=this;this.disposed||(Yk().getBool("IS_TEST")||Object.keys(this.binaryCache).forEach(function(t){e.gpgpu.deleteProgram(e.binaryCache[t].webGLProgram),delete e.binaryCache[t]}),this.textureManager.dispose(),null!=this.canvas&&"undefined"!=typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0)},t.prototype.floatPrecision=function(){var e=this;return null==this.floatPrecisionValue&&(this.floatPrecisionValue=E_(function(){if(!Yk().get("WEBGL_RENDER_FLOAT32_ENABLED")){var t=Yk().getBool("DEBUG");Yk().set("DEBUG",!1);var n=e.abs(X_(1e-8)).dataSync()[0];if(Yk().set("DEBUG",t),n>0)return 32}return 16})),this.floatPrecisionValue},t.prototype.epsilon=function(){return 32===this.floatPrecision()?1e-7:1e-4},t.prototype.uploadToGPU=function(e){var t,n=this.texData.get(e),r=n.shape,o=n.dtype,a=n.values,i=n.texture,s=n.usage,l=n.isPacked;if(null==i){var u,c=null!=this.activeTimers;c&&(u=UE());var d=n.texShape;if(null==d&&(d=c_(r,l),n.texShape=d),null!=a){var p=u_(r),f=void 0,h=d[1],m=d[0],v=a instanceof Uint8Array;l?(h=(t=PR(d[0],d[1]))[0],m=t[1],f=new aP(p,[m,h],v)):f=new oP(p,[m,h],v);var g=this.makeTensorInfo([m,h],o);this.texData.get(g.dataId).usage=v?CR.PIXELS:CR.UPLOAD,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(g.dataId),h,m,a);var y=this.runWebGLProgram(f,[g],o,null,!0),b=this.texData.get(y.dataId);n.texture=b.texture,n.texShape=b.texShape,n.isPacked=b.isPacked,n.usage=b.usage,this.disposeData(g.dataId),this.texData.delete(y.dataId),n.values=null,c&&(this.uploadWaitMs+=UE()-u)}else{var x=this.acquireTexture(d,s,o,l);n.texture=x}}},t.prototype.convertAndCacheOnCPU=function(e,t){var n=this.texData.get(e),r=n.dtype;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){for(var n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length),r=0;r<n.length;++r)n[r]=Math.round(e[r]);return n}throw new Error("Unknown dtype "+t)}(t,r)),n.values},t.prototype.acquireTexture=function(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){var o=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn("High memory usage in GPU: "+o+" MB, most likely due to a memory leak")}return this.textureManager.acquireTexture(e,t,r)},t.prototype.computeBytes=function(e,t){return e[0]*e[1]*TE(t)},t}(gT);xR()&&bR.registerBackend("webgl",function(){return new UN},2);var VN=U_({square_:function(e){var t=A_(e,"x","square"),n=[t];return bR.runKernelFunc(function(e,n){return n([t]),e.square(t)},{x:t},null,"Square",{},n,[])}}),HN="SquaredDifference",qN=U_({squaredDifference_:function(e,t){var n,r=A_(e,"a","squaredDifference"),o=A_(t,"b","squaredDifference");n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape);var a={a:r,b:o},i=[r,o];return bR.runKernelFunc(function(e,t){var n=e.squaredDifference(r,o);return t([r,o]),n},a,function(e,t){var n=t[0],r=t[1],o=X_(2);return{a:function(){return e.mul(n.sub(r).mul(o))},b:function(){return e.mul(r.sub(n).mul(o))}}},HN,{},i,[])}}),GN=U_({abs_:function(e){var t=A_(e,"x","abs");return"complex64"===t.dtype?bR.runKernelFunc(function(e){return e.complexAbs(t)},{$x:t}):bR.runKernelFunc(function(e,n){var r=e.abs(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().step(-1))}}},"Abs")}}),KN=U_({acos_:function(e){var t=A_(e,"x","acos");return bR.runKernelFunc(function(e,n){var r=e.acos(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(X_(1).sub(n.toFloat().square()).sqrt()).neg()}}})}}),XN=U_({acosh_:function(e){var t=A_(e,"x","acosh");return bR.runKernelFunc(function(e,n){var r=e.acosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(n.toFloat().square().sub(1).sqrt())}}})}}),$N=U_({asin_:function(e){var t=A_(e,"x","asin");return bR.runKernelFunc(function(e,n){var r=e.asin(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(X_(1).sub(n.toFloat().square()).sqrt())}}})}}),YN=U_({asinh_:function(e){var t=A_(e,"x","asinh");return bR.runKernelFunc(function(e,n){var r=e.asinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.divStrict(X_(1).add(n.toFloat().square()).sqrt())}}})}}),QN=U_({atan_:function(e){var t=A_(e,"x","atan");return bR.runKernelFunc(function(e,n){var r=e.atan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().square().add(1))}}})}}),JN=U_({atanh_:function(e){var t=A_(e,"x","atanh");return bR.runKernelFunc(function(e,n){var r=e.atanh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(X_(1).sub(n.toFloat().square()))}}})}}),ZN=U_({ceil_:function(e){var t=A_(e,"x","ceil");return bR.runKernelFunc(function(e){return e.ceil(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),eM=U_({clipByValue_:function(e,t,n){var r=A_(e,"x","clipByValue");uE(t<=n,function(){return"Error in clip: min ("+t+") must be less than or equal to max ("+n+")."});var o=[r],a={min:t,max:n};return bR.runKernelFunc(function(e,o){var a=e.clip(r,t,n);return o([r]),a},{x:r},function(e,r){var o=r[0];return{x:function(){return e.where(o.greaterEqual(t).logicalAnd(o.lessEqual(n)),oI(e))}}},"ClipByValue",a,o)}}),tM=U_({cos_:function(e){var t=A_(e,"x","cos"),n=[t];return bR.runKernelFunc(function(e,n){var r=e.cos(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().sin().neg().mul(e)}}},"Cos",{},n)}}),nM=U_({cosh_:function(e){var t=A_(e,"x","cosh");return bR.runKernelFunc(function(e,n){var r=e.cosh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().sinh().mulStrict(e)}}})}}),rM=U_({erf_:function(e){var t=A_(e,"x","erf");return uE("int32"===t.dtype||"float32"===t.dtype,function(){return"Input dtype must be `int32` or `float32`."}),"int32"===t.dtype&&(t=t.toFloat()),bR.runKernelFunc(function(e,n){var r=e.erf(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.square().neg().exp().mul(2/Math.sqrt(Math.PI)))}}})}}),oM=U_({exp_:function(e){var t=A_(e,"x","exp");return bR.runKernelFunc(function(e,n){var r=e.exp(t);return n([r]),r},{x:t},function(e,t){return{x:function(){return e.mulStrict(t[0])}}},"Exp",{},[],[!0])}}),aM=U_({expm1_:function(e){var t=A_(e,"x","expm1");return bR.runKernelFunc(function(e,n){var r=e.expm1(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.exp())}}})}}),iM=U_({floor_:function(e){var t=A_(e,"x","floor");return bR.runKernelFunc(function(e){return e.floor(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),sM=U_({log_:function(e){var t=A_(e,"x","log"),n=[t];return bR.runKernelFunc(function(e,n){var r=e.log(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.toFloat())}}},"Log",{},n)}}),lM=U_({log1p_:function(e){var t=A_(e,"x","log1p");return bR.runKernelFunc(function(e,n){var r=e.log1p(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.add(1))}}})}}),uM=U_({logSigmoid_:function(e){var t=A_(e,"x","logSigmoid");return bR.runKernelFunc(function(e,n){var r=e.softplus(t.neg()).neg();return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.neg().sigmoid())}}})}}),cM=U_({neg_:function(e){var t=A_(e,"x","neg"),n=[t];return bR.runKernelFunc(function(e){return e.neg(t)},{x:t},function(e){return{x:function(){return e.neg()}}},"Neg",{},n)}}),dM=U_({reciprocal_:function(e){var t=A_(e,"x","reciprocal");return bR.runKernelFunc(function(e,n){var r=e.reciprocal(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.square().neg())}}})}}),pM=U_({round_:function(e){var t=A_(e,"x","round");return bR.runKernelFunc(function(e){return e.round(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),fM=U_({rsqrt_:function(e){var t=A_(e,"x","rsqrt"),n=[t];return bR.runKernelFunc(function(e,n){var r=e.rsqrt(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.div(n.pow(1.5).mul(2)).neg()}}},"Rsqrt",{},n)}}),hM=U_({sigmoid_:function(e){var t=A_(e,"x","sigmoid");return bR.runKernelFunc(function(e,n){var r=e.sigmoid(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mul(n.mul(X_(1).sub(n)))}}},"Sigmoid")}}),mM=U_({sign_:function(e){var t=A_(e,"x","sign");return bR.runKernelFunc(function(e){return e.sign(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),vM=U_({isNaN_:function(e){var t=A_(e,"x","isNaN");return bR.runKernelFunc(function(e){return e.isNaN(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),gM=U_({isInf_:function(e){var t=A_(e,"x","isInf");return bR.runKernelFunc(function(e){return e.isInf(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),yM=U_({isFinite_:function(e){var t=A_(e,"x","isFinite");return bR.runKernelFunc(function(e){return e.isFinite(t)},{$x:t},function(e){return{$x:function(){return oI(e)}}})}}),bM=U_({sin_:function(e){var t=A_(e,"x","sin"),n=[t];return bR.runKernelFunc(function(e,n){var r=e.sin(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return n.toFloat().cos().mul(e)}}},"Sin",{},n)}}),xM=U_({sinh_:function(e){var t=A_(e,"x","sinh");return bR.runKernelFunc(function(e,n){var r=e.sinh(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return n.toFloat().cosh().mulStrict(e)}}})}}),wM=U_({softplus_:function(e){var t=A_(e,"x","softplus");return bR.runKernelFunc(function(e,n){var r=e.softplus(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.mul(n.sigmoid())}}})}}),SM=U_({sqrt_:function(e){var t=A_(e,"x","sqrt");return bR.runKernelFunc(function(e,n){var r=e.sqrt(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.toFloat().sqrt().mul(2))}}})}}),CM=U_({step_:function(e,t){void 0===t&&(t=0);var n=A_(e,"x","step");return bR.runKernelFunc(function(e){return e.step(n,t)},{$x:n},function(e){return{$x:function(){return oI(e)}}})}}),kM=U_({tan_:function(e){var t=A_(e,"x","tan");return bR.runKernelFunc(function(e,n){var r=e.tan(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return e.div(n.cos().square())}}})}}),EM=U_({tanh_:function(e){var t=A_(e,"x","tanh");return bR.runKernelFunc(function(e,n){var r=e.tanh(t);return n([r]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return X_(1).sub(n.square()).mulStrict(e)}}},"Tanh",{},null,[!0])}});function RM(e,t,n,r,o,a){var i,s,l=A_(e,"x","batchNorm"),u=A_(t,"mean","batchNorm"),c=A_(n,"variance","batchNorm");return null!=o&&(i=A_(o,"scale","batchNorm")),null!=r&&(s=A_(r,"offset","batchNorm")),uE(2===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),uE(2===u.rank||1===u.rank,function(){return"Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank "+u.rank+"."}),uE(2===c.rank||1===c.rank,function(){return"Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank "+c.rank+"."}),null!=i&&uE(2===i.rank||1===i.rank,function(){return"Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank "+i.rank+"."}),null!=s&&uE(2===s.rank||1===s.rank,function(){return"Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank "+s.rank+"."}),TM(l,u,c,s,i,a)}function _M(e,t,n,r,o,a){var i,s,l=A_(e,"x","batchNorm"),u=A_(t,"mean","batchNorm"),c=A_(n,"variance","batchNorm");return null!=o&&(i=A_(o,"scale","batchNorm")),null!=r&&(s=A_(r,"offset","batchNorm")),uE(3===l.rank,function(){return"Error in batchNorm3D: x must be rank 3 but got rank "+l.rank+"."}),uE(3===u.rank||1===u.rank,function(){return"Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank "+u.rank+"."}),uE(3===c.rank||1===c.rank,function(){return"Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank "+c.rank+"."}),null!=i&&uE(3===i.rank||1===i.rank,function(){return"Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank "+i.rank+"."}),null!=s&&uE(3===s.rank||1===s.rank,function(){return"Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank "+s.rank+"."}),TM(l,u,c,s,i,a)}function IM(e,t,n,r,o,a){var i,s,l=A_(e,"x","batchNorm"),u=A_(t,"mean","batchNorm"),c=A_(n,"variance","batchNorm");return null!=o&&(i=A_(o,"scale","batchNorm")),null!=r&&(s=A_(r,"offset","batchNorm")),uE(4===l.rank,function(){return"Error in batchNorm4D: x must be rank 4 but got rank "+l.rank+"."}),uE(4===u.rank||1===u.rank,function(){return"Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank "+u.rank+"."}),uE(4===c.rank||1===c.rank,function(){return"Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank "+c.rank+"."}),null!=i&&uE(4===i.rank||1===i.rank,function(){return"Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank "+i.rank+"."}),null!=s&&uE(4===s.rank||1===s.rank,function(){return"Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank "+s.rank+"."}),TM(l,u,c,s,i,a)}function TM(e,t,n,r,o,a){null==a&&(a=.001);var i,s,l,u=A_(e,"x","batchNorm"),c=A_(t,"mean","batchNorm"),d=A_(n,"variance","batchNorm");null!=o&&(i=A_(o,"scale","batchNorm")),null!=r&&(s=A_(r,"offset","batchNorm")),uE(c.rank===d.rank,function(){return"Batch normalization gradient requires mean and variance to have equal ranks."}),uE(null==s||c.rank===s.rank,function(){return"Batch normalization gradient requires mean and offset to have equal ranks."}),uE(null==i||c.rank===i.rank,function(){return"Batch normalization gradient requires mean and scale to have equal ranks."}),l=0===u.rank||1===u.rank?u.as4D(1,1,1,u.size):2===u.rank?u.as4D(1,1,u.shape[0],u.shape[1]):3===u.rank?u.as4D(1,u.shape[0],u.shape[1],u.shape[2]):u;var p=[u,c,d,i];return bR.runKernelFunc(function(e,t){var n=e.batchNormalization(l,AM(c),AM(d),a,AM(i),AM(s));return t([u,c,d,i]),n},{x:u,mean:c,variance:d,scale:i,offset:s},function(e,t){var n=t,r=n[0],o=n[1],i=n[2],s=n[3],u=null==s?X_(1):s,c=xT(o.shape,l.shape),d=[];if(1===o.rank){for(var p=0;p<l.shape.length-1;++p)d.push(l.shape[p]);d.push(1)}var f=r.sub(o),h=e.mul(u),m=fM(i.add(X_(a))),v=m.mul(m).mul(m).mul(X_(-.5));return{x:function(){return 1===o.rank?e.mul(KI(m.as4D(1,1,1,o.shape[0]),d)).mul(u).reshape(r.shape):e.mul(m).mul(u).reshape(r.shape)},mean:function(){var e=m.mul(X_(-1)).mul(h);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},variance:function(){var e=v.mul(f).mul(h);return 1===o.rank&&(e=e.sum(c)),e.reshape(o.shape)},scale:function(){var t=f.mul(m),n=e.mul(t);return 1===o.rank&&(n=n.sum(c)),n.reshape(o.shape)},offset:function(){var t=e;return 1===o.rank&&(t=t.sum(c)),t.reshape(o.shape)}}},"BatchNormalization",{varianceEpsilon:a},p).reshape(u.shape)}function AM(e){return null==e?null:0===e.rank?e.as1D():1===e.rank?e:2===e.rank?e.as4D(1,1,e.shape[0],e.shape[1]):3===e.rank?e.as4D(1,e.shape[0],e.shape[1],e.shape[2]):e}function PM(){k_("tf.batchNormalization() is going away. Use tf.batchNorm() instead, and note the positional argument change of scale, offset, and varianceEpsilon")}var NM=U_({batchNormalization2d_:function(e,t,n,r,o,a){return void 0===r&&(r=.001),PM(),RM(e,t,n,a,o,r)}}),MM=U_({batchNormalization3d_:function(e,t,n,r,o,a){return void 0===r&&(r=.001),PM(),_M(e,t,n,a,o,r)}}),OM=U_({batchNormalization4d_:function(e,t,n,r,o,a){return void 0===r&&(r=.001),PM(),IM(e,t,n,a,o,r)}}),DM=U_({batchNormalization_:function(e,t,n,r,o,a){return void 0===r&&(r=.001),PM(),TM(e,t,n,a,o,r)}}),jM=U_({batchNorm_:TM}),FM=U_({batchNorm2d_:RM}),LM=U_({batchNorm3d_:_M}),BM=U_({batchNorm4d_:IM}),zM=U_({logicalAnd_:function(e,t){var n=A_(e,"a","logicalAnd","bool"),r=A_(t,"b","logicalAnd","bool");return wT(n.shape,r.shape),bR.runKernelFunc(function(e){return e.logicalAnd(n,r)},{a:n,b:r},null,"LogicalAnd")}}),WM=U_({logicalNot_:function(e){var t=A_(e,"x","logicalNot","bool");return bR.runKernelFunc(function(e){return e.logicalNot(t)},{$x:t})}}),UM=U_({logicalOr_:function(e,t){var n=A_(e,"a","logicalOr","bool"),r=A_(t,"b","logicalOr","bool");return wT(n.shape,r.shape),bR.runKernelFunc(function(e){return e.logicalOr(n,r)},{$a:n,$b:r})}}),VM=U_({logicalXor_:function(e,t){var n=A_(e,"a","logicalXor","bool"),r=A_(t,"b","logicalXor","bool");return wT(n.shape,r.shape),UM(e,t).logicalAnd(zM(e,t).logicalNot())}}),HM=U_({where_:function(e,t,n){var r=A_(t,"a","where"),o=A_(n,"b","where"),a=A_(e,"condition","where","bool");return cE(r.shape,o.shape,"Error in where: "),1===a.rank?uE(a.shape[0]===r.shape[0],function(){return"The first dimension of `a` must match the size of `condition`."}):cE(a.shape,o.shape,"Error in where: "),bR.runKernelFunc(function(e,t){var n=e.select(a,r,o);return t([a]),n},{$condition:a,$a:r,$b:o},function(e,t){var n=t[0];return{$condition:function(){return oI(n).toFloat()},$a:function(){return e.mul(n.cast(e.dtype))},$b:function(){return e.mul(n.logicalNot().cast(e.dtype))}}})}}),qM=function(e){return Kk(this,void 0,void 0,function(){var t,n,r;return Xk(this,function(o){switch(o.label){case 0:return[4,(t=A_(e,"condition","whereAsync","bool")).data()];case 1:return n=o.sent(),r=JT(t.shape,n),e!==t&&t.dispose(),[2,r]}})})},GM=U_({add_:function(e,t){var n,r=A_(e,"a","add"),o=A_(t,"b","add");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e){return e.add(r,o)},{a:r,b:o},function(e){return{a:function(){var t=e,n=xT(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=xT(o.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(o.shape)}}},"Add")}}),KM=U_({addN_:function(e){uE(Array.isArray(e),function(){return"The argument passed to tf.addN() must be a list of tensors"}),uE(e.length>=1,function(){return"Must pass at least one tensor to tf.addN(), but got "+e.length});var t=e.map(function(e,t){return A_(e,"tensors"+t,"addN")}),n=t[0];t.forEach(function(e){if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),t.forEach(function(e){if(!hE(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});var r=t;return bR.runKernelFunc(function(e){return e.addN(t)},r,function(e){var n={};return t.forEach(function(t,r){n[r]=function(){return e.clone()}}),n},"AddN")}}),XM=U_({addStrict_:function(e,t){var n=A_(e,"a","addStrict"),r=A_(t,"b","addStrict");return cE(n.shape,r.shape,"Error in addStrict: "),n.add(r)}}),$M=U_({atan2_:function(e,t){var n,r=A_(e,"a","atan2"),o=A_(t,"b","atan2");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e,t){var n=e.atan2(r,o);return t([r,o]),n},{$a:r,$b:o},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=GM(n.square(),r.square()),o=e.mul(r.div(t)),i=xT(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},$b:function(){var t=GM(n.square(),r.square()),o=cM(e.mul(n.div(t))),i=xT(r.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(r.shape)}}})}}),YM=U_({div_:function(e,t){var n,r=A_(e,"a","div"),o=A_(t,"b","div");if(n=fR(r,o),r=n[0],o=n[1],"int32"===r.dtype&&"int32"===o.dtype)return ZM(r,o);var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e,t){var n=e.realDivide(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=xT(n.shape,a);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=xT(r.shape,a);o.length>0&&(t=t.sum(o).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}},"Div")}}),QM=U_({divNoNan_:function(e,t){var n,r=A_(e,"a","div"),o=A_(t,"b","div");r=(n=fR(r,o))[0],o=n[1];var a=YM(r,o),i=oI(a),s=o.equal(i);return HM(s,i,a)}}),JM=U_({divStrict_:function(e,t){var n=A_(e,"a","div"),r=A_(t,"b","div");return cE(n.shape,r.shape,"Error in divideStrict: "),n.div(r)}}),ZM=U_({floorDiv_:function(e,t){var n,r=A_(e,"a","floorDiv"),o=A_(t,"b","floorDiv");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e,t){var n=e.floorDiv(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.div(r.toFloat()),o=xT(n.shape,a);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=xT(r.shape,a);o.length>0&&(t=t.sum(o).reshape(r.shape));var i=r.square();return t.div(i.toFloat()).neg()}}},"FloorDiv")}}),eO=U_({maximum_:function(e,t){var n,r=A_(e,"a","maximum"),o=A_(t,"b","maximum");return n=fR(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),wT(r.shape,o.shape),bR.runKernelFunc(function(e,t){var n=e.maximum(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.greaterEqual(r).toFloat())},b:function(){return e.mul(n.less(r).toFloat())}}},"Maximum")}}),tO=U_({maximumStrict_:function(e,t){var n=A_(e,"a","maximumStrict"),r=A_(t,"b","maximumStrict");return cE(n.shape,r.shape,"Error in maximumStrict: "),n.maximum(r)}}),nO=U_({minimum_:function(e,t){var n,r=A_(e,"a","minimum"),o=A_(t,"b","minimum");return n=fR(r,o),r=n[0],o=n[1],"bool"===r.dtype&&(r=r.toInt(),o=o.toInt()),wT(r.shape,o.shape),bR.runKernelFunc(function(e,t){var n=e.minimum(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return e.mul(n.lessEqual(r).toFloat())},b:function(){return e.mul(n.greater(r).toFloat())}}},"Minimum")}}),rO=U_({minimumStrict_:function(e,t){var n=A_(e,"a","minimumStrict"),r=A_(t,"b","minimumStrict");return cE(n.shape,r.shape,"Error in minimumStrict: "),n.minimum(r)}}),oO=U_({mod_:function(e,t){var n,r=A_(e,"a","mod"),o=A_(t,"b","mod");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e,t){var n=e.mod(r,o);return t([r,o]),n},{$a:r,$b:o},function(e,t){var n=t[0],r=t[1];return{$a:function(){var t=xT(n.shape,a);return t.length>0?e.sum(t).reshape(n.shape):e},$b:function(){var t=e.mul(n.div(r).floor().neg()),o=xT(r.shape,a);return o.length>0?t.sum(o).reshape(r.shape):t}}})}}),aO=U_({modStrict_:function(e,t){var n=A_(e,"a","modStrict"),r=A_(t,"b","modStrict");return cE(n.shape,r.shape,"Error in modStrict: "),n.mod(r)}}),iO=U_({mul_:function(e,t){var n,r=A_(e,"a","mul"),o=A_(t,"b","mul");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e,t){var n=e.multiply(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){var t=e.mul(r.toFloat()),o=xT(n.shape,a);return o.length>0?t.sum(o).reshape(n.shape):t},b:function(){var t=e.mul(n.toFloat()),o=xT(r.shape,a);return o.length>0?t.sum(o).reshape(r.shape):t}}},"Mul")}}),sO=U_({mulStrict_:function(e,t){var n=A_(e,"a","mul"),r=A_(t,"b","mul");return cE(n.shape,r.shape,"Error in multiplyStrict: "),n.mul(r)}}),lO=U_({pow_:function(e,t){var n,r=A_(e,"base","pow"),o=A_(t,"exp","pow");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape),i=[r,o];return bR.runKernelFunc(function(e,t){var n=e.pow(r,o);return t([r,o,n]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1],o=t[2];return{a:function(){var t=r.toFloat(),o=e.mul(t.mul(n.pow(t.sub(X_(1))))),i=xT(n.shape,a);return i.length>0&&(o=o.sum(i)),o.reshape(n.shape)},b:function(){var t=n.greater(0),i=n.log().where(t,oI(n)),s=e.mul(o.mul(i)),l=xT(r.shape,a);return l.length>0&&(s=s.sum(l)),s.reshape(r.shape)}}},"Pow",{},i,[!0])}}),uO=U_({powStrict_:function(e,t){return cE(e.shape,t.shape,"Error in powStrict: "),e.pow(t)}}),cO=U_({squaredDifferenceStrict_:function(e,t){var n=A_(e,"a","squaredDifferenceStrict"),r=A_(t,"b","squaredDifferenceStrict");return cE(n.shape,r.shape,"Error in squaredDifferenceStrict: "),n.squaredDifference(r)}}),dO=U_({sub_:function(e,t){var n,r=A_(e,"a","sub"),o=A_(t,"b","sub");n=fR(r,o),r=n[0],o=n[1];var a=wT(r.shape,o.shape);return bR.runKernelFunc(function(e){return e.subtract(r,o)},{a:r,b:o},function(e){return{a:function(){var t=e,n=xT(r.shape,a);return n.length>0&&(t=t.sum(n)),t.reshape(r.shape)},b:function(){var t=e,n=xT(o.shape,a);return n.length>0&&(t=t.sum(n)),t.neg().reshape(o.shape)}}},"Sub")}}),pO=U_({subStrict_:function(e,t){var n=A_(e,"a","subStrict"),r=A_(t,"b","subStrict");return cE(n.shape,r.shape,"Error in subStrict: "),n.sub(r)}}),fO=U_({equal_:function(e,t){var n,r=A_(e,"a","equal"),o=A_(t,"b","equal");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e){return e.equal(r,o)},{$a:r,$b:o})}}),hO=U_({equalStrict_:function(e,t){var n=A_(e,"a","equalStrict"),r=A_(t,"b","equalStrict");return cE(n.shape,r.shape,"Error in equalStrict: "),n.equal(r)}}),mO=U_({greater_:function(e,t){var n,r=A_(e,"a","greater"),o=A_(t,"b","greater");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e){return e.greater(r,o)},{a:r,b:o},null,"Greater")}}),vO=U_({greaterEqual_:function(e,t){var n,r=A_(e,"a","greaterEqual"),o=A_(t,"b","greaterEqual");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e,t){var n=e.greaterEqual(r,o);return t([r,o]),n},{a:r,b:o},function(e,t){var n=t[0],r=t[1];return{a:function(){return oI(n)},b:function(){return oI(r)}}},"GreaterEqual")}}),gO=U_({greaterEqualStrict_:function(e,t){var n=A_(e,"a","greaterEqualStrict"),r=A_(t,"b","greaterEqualStrict");return cE(n.shape,r.shape,"Error in greaterEqualStrict: "),n.greaterEqual(r)}}),yO=U_({greaterStrict_:function(e,t){var n=A_(e,"a","greaterStrict"),r=A_(t,"b","greaterStrict");return cE(n.shape,r.shape,"Error in greaterStrict: "),n.greater(r)}}),bO=U_({less_:function(e,t){var n,r=A_(e,"a","less"),o=A_(t,"b","less");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e){return e.less(r,o)},{a:r,b:o},null,"Less")}}),xO=U_({lessEqual_:function(e,t){var n,r=A_(e,"a","lessEqual"),o=A_(t,"b","lessEqual");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e,t){var n=e.lessEqual(r,o);return t([r,o]),n},{a:r,b:o},null,"LessEqual")}}),wO=U_({lessEqualStrict_:function(e,t){var n=A_(e,"a","lessEqualStrict"),r=A_(t,"b","lessEqualStrict");return cE(n.shape,r.shape,"Error in lessEqualStrict: "),n.lessEqual(r)}}),SO=U_({lessStrict_:function(e,t){var n=A_(e,"a","lessStrict"),r=A_(t,"b","lessStrict");return cE(n.shape,r.shape,"Error in lessStrict: "),n.less(r)}}),CO=U_({notEqual_:function(e,t){var n,r=A_(e,"a","notEqual"),o=A_(t,"b","notEqual");return n=fR(r,o),r=n[0],o=n[1],wT(r.shape,o.shape),bR.runKernelFunc(function(e){return e.notEqual(r,o)},{a:r,b:o},null,"NotEqual")}}),kO=U_({notEqualStrict_:function(e,t){var n=A_(e,"a","notEqualStrict"),r=A_(t,"b","notEqualStrict");return cE(n.shape,r.shape,"Error in notEqualStrict: "),n.notEqual(r)}});function EO(e,t){for(var n=[],r=e;r<t;++r)n.push(r);return n}function RO(e){for(var t=[],n=0;n<e.length;++n)for(var r=0;r<e[n].length;++r)t.push(e[n][r]);return t}var _O=U_({gather_:function(e,t,n){void 0===n&&(n=0);var r=A_(e,"x","gather"),o=A_(t,"indices","gather","int32");n=wE(n,r.shape)[0];var a=function(e,t,n){for(var r=e.shape[n],o=[],a=1,i=1,s=0;s<n;s++)o.push(e.shape[s]),a*=e.shape[s];for(s=0;s<t.rank;s++)o.push(t.shape[s]);for(s=n+1;s<e.rank;s++)o.push(e.shape[s]),i*=e.shape[s];return{batchSize:a,sliceSize:i,dimSize:r,outputShape:o}}(r,o,n);return bR.runKernelFunc(function(e,t){var a=e.gather(r,o.flatten(),n);return t([o]),a},{x:r,indices:o},function(e,t){var o=t[0];return{x:function(){var t=r.shape,a=o.size,i=t.slice(0,n),s=i.length,l=t.slice(n,t.length).slice(1),u=l.length,c=EO(0,s),d=EO(s+1,s+1+u),p=RO([i,[a],l]),f=e.reshape(p),h=o.reshape([a]),m=RO([[s],c,d]),v=f.transpose(m),g=IO(v,h,r.shape[n]),y=L_(m);return g.transpose(y)},indices:function(){return o}}},"Gather",{axis:n}).reshape(a.outputShape)}}),IO=U_({unsortedSegmentSum_:function(e,t,n){var r=A_(e,"x","unsortedSegmentSum"),o=A_(t,"segmentIds","unsortedSegmentSum","int32");return uE(mE(n),function(){return"numSegments must be of dtype int"}),bR.runKernelFunc(function(e,t){var a=e.unsortedSegmentSum(r,o,n);return t([o]),a},{$x:r},function(e,t){var n=t[0];return{$x:function(){return function(e,t){for(var n=eO(t,oI(t)),r=_O(e,n),o=vO(t,X_(0,"int32")),a=r.rank-o.rank,i=0;i<a;++i)o=AI(o,i+1);o=zM(o,Z_(r.shape,"bool"));var s=oI(r);return HM(o,r,s)}(e,n)}}})}});function TO(e,t,n,r,o,a,i){void 0===a&&(a="NHWC"),uE(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var s=e,l=t,u=!1;3===t.rank&&(u=!0,l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]),s=[1,e[0],e[1],e[2]]),uE(4===s.length,function(){return"Error in conv2dDerInput: inShape must be length 4, but got length "+s.length+"."}),uE(4===l.rank,function(){return"Error in conv2dDerInput: dy must be rank 4, but got rank "+l.rank}),uE(4===n.rank,function(){return"Error in conv2dDerInput: filter must be rank 4, but got rank "+n.rank});var c="NHWC"===a?s[3]:s[1],d="NHWC"===a?l.shape[3]:l.shape[1];uE(c===n.shape[2],function(){return"Error in conv2dDerInput: depth of input ("+c+") must match input depth for filter "+n.shape[2]+"."}),uE(d===n.shape[3],function(){return"Error in conv2dDerInput: depth of output ("+d+") must match output depth for filter "+n.shape[3]+"."}),null!=i&&uE(mE(o),function(){return"Error in conv2dDerInput: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var p=MT(a),f=kT(s,n.shape,r,1,o,i,!1,p),h=bR.runKernelFunc(function(e,t){var r=e.conv2dDerInput(l,n,f);return t([n,l]),r},{dy4D:l,filter:n},function(e,t){var n=t[0],s=t[1];return{dy4D:function(){return MO(e,n,r,o,a,1,i)},filter:function(){return DO(e,s,n.shape,r,o,a,i)}}});return u?h.as3D(h.shape[1],h.shape[2],h.shape[3]):h}function AO(e){var t=function(e){return"number"==typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}(e),n=t[0],r=t[1],o=t[2];return 1===n&&1===r&&1===o}function PO(e,t,n,r,o){uE(e.length===t.rank,function(){return"Length of inShape ("+e.length+") and rank of dy ("+t.rank+") must match"});var a=e,i=t,s=!1;4===t.rank&&(s=!0,i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]),a=[1,e[0],e[1],e[2],e[3]]);var l=a[4],u=i.shape[4];uE(5===a.length,function(){return"Error in conv3dDerInput: inShape must be length 5, but got length "+a.length+"."}),uE(5===i.rank,function(){return"Error in conv3dDerInput: dy must be rank 5, but got rank "+i.rank}),uE(5===n.rank,function(){return"Error in conv3dDerInput: filter must be rank 5, but got rank "+n.rank}),uE(l===n.shape[3],function(){return"Error in conv3dDerInput: depth of input ("+l+") must match input depth for filter "+n.shape[3]+"."}),uE(u===n.shape[4],function(){return"Error in conv3dDerInput: depth of output ("+u+") must match output depth for filter "+n.shape[4]+"."});var c=ET(a,n.shape,r,1,o),d=bR.runKernelFunc(function(e){return e.conv3dDerInput(i,n,c)},{dy5D:i});return s?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}var NO=U_({conv1d_:function(e,t,n,r,o,a,i){void 0===o&&(o="NWC"),void 0===a&&(a=1);var s=A_(e,"x","conv1d"),l=A_(t,"filter","conv1d"),u=s,c=!1;2===s.rank&&(c=!0,u=s.as3D(1,s.shape[0],s.shape[1])),uE(3===u.rank,function(){return"Error in conv1d: input must be rank 3, but got rank "+u.rank+"."}),uE(3===l.rank,function(){return"Error in conv1d: filter must be rank 3, but got rank "+l.rank+"."}),null!=i&&uE(mE(r),function(){return"Error in conv1d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."}),uE(u.shape[2]===l.shape[1],function(){return"Error in conv1d: depth of input ("+u.shape[2]+") must match input depth for filter "+l.shape[1]+"."}),uE(NT(n,a),function(){return"Error in conv1D: Either stride or dilation must be 1. Got stride "+n+" and dilation '"+a+"'"}),uE("NWC"===o,function(){return"Error in conv1d: got dataFormat of "+o+" but only NWC is currently supported."});var d=l.as4D(1,l.shape[0],l.shape[1],l.shape[2]),p=u.as4D(u.shape[0],1,u.shape[1],u.shape[2]),f=MO(p,d,[1,n],r,"NHWC",[1,a],i);return c?f.as2D(f.shape[2],f.shape[3]):f.as3D(f.shape[0],f.shape[2],f.shape[3])}}),MO=U_({conv2d_:function(e,t,n,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=A_(e,"x","conv2d"),l=A_(t,"filter","conv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),uE(4===u.rank,function(){return"Error in conv2d: input must be rank 4, but got rank "+u.rank+"."}),uE(4===l.rank,function(){return"Error in conv2d: filter must be rank 4, but got rank "+l.rank+"."}),null!=i&&uE(mE(r),function(){return"Error in conv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var d="NHWC"===o?u.shape[3]:u.shape[1];uE(d===l.shape[2],function(){return"Error in conv2d: depth of input ("+d+") must match input depth for filter "+l.shape[2]+"."}),uE(NT(n,a),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"});var p=MT(o),f=kT(u.shape,l.shape,n,a,r,i,!1,p),h=[l,u],m=bR.runKernelFunc(function(e,t){var n=e.conv2d(u,l,f);return t([l,u]),n},{x:u,filter:l},function(e,t){var i=t,s=i[0],l=i[1];return uE(PT(a),function(){return"Error in gradient of conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"}),{x:function(){return jO(l.shape,e,s,n,r,o)},filter:function(){return DO(l,e,s.shape,n,r,o)}}},"Conv2D",f,h);return c?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),OO=U_({conv3d_:function(e,t,n,r,o,a){void 0===o&&(o="NDHWC"),void 0===a&&(a=[1,1,1]);var i=A_(e,"x","conv3d"),s=A_(t,"filter","conv3d"),l=i,u=!1;4===i.rank&&(u=!0,l=i.as5D(1,i.shape[0],i.shape[1],i.shape[2],i.shape[3])),uE(5===l.rank,function(){return"Error in conv3d: input must be rank 5, but got rank "+l.rank+"."}),uE(5===s.rank,function(){return"Error in conv3d: filter must be rank 5, but got rank "+s.rank+"."}),uE(l.shape[4]===s.shape[3],function(){return"Error in conv3d: depth of input ("+l.shape[4]+") must match input depth for filter "+s.shape[3]+"."}),uE(function(e,t){return AO(e)||AO(t)}(n,a),function(){return"Error in conv3D: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),uE("NDHWC"===o,function(){return"Error in conv3d: got dataFormat of "+o+" but only NDHWC is currently supported."});var c=ET(l.shape,s.shape,n,a,r),d=bR.runKernelFunc(function(e,t){var n=e.conv3d(l,s,c);return t([l,s]),n},{x:l,$filter:s},function(e,t){uE(AO(a),function(){return"Error in gradient of conv3D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+a+"'"});var o=t[0],i=t[1];return{x:function(){return PO(o.shape,e,i,n,r)},$filter:function(){return function(e,t,n,r,o){var a=e;4===e.rank&&(a=e.as5D(1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]));var i=t;4===i.rank&&(i=t.as5D(1,t.shape[0],t.shape[1],t.shape[2],t.shape[3])),uE(5===a.rank,function(){return"Error in conv3dDerFilter: input must be rank 5, but got shape "+a.shape+"."}),uE(5===i.rank,function(){return"Error in conv3dDerFilter: dy must be rank 5, but got shape "+i.shape+"."}),uE(5===n.length,function(){return"Error in conv3dDerFilter: filterShape must be length 5, but got "+n+"."}),uE(a.shape[4]===n[3],function(){return"Error in conv3dDerFilter: depth of input "+a.shape[4]+") must match input depth in filter ("+n[3]+"."}),uE(i.shape[4]===n[4],function(){return"Error in conv3dDerFilter: depth of dy ("+i.shape[4]+") must match output depth for filter ("+n[4]+")."});var s=ET(a.shape,n,r,1,o);return bR.runKernelFunc(function(e){return e.conv3dDerFilter(a,i,s)},{x5D:a,dy5D:i})}(o,e,i.shape,n,r)}}});return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),DO=U_({conv2dDerFilter_:function(e,t,n,r,o,a,i){void 0===a&&(a="NHWC");var s=e;3===e.rank&&(s=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var l=t;3===l.rank&&(l=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),uE(4===s.rank,function(){return"Error in conv2dDerFilter: input must be rank 4, but got shape "+s.shape+"."}),uE(4===l.rank,function(){return"Error in conv2dDerFilter: dy must be rank 4, but got shape "+l.shape+"."}),uE(4===n.length,function(){return"Error in conv2dDerFilter: filterShape must be length 4, but got "+n+"."});var u="NHWC"===a?s.shape[3]:s.shape[1],c="NHWC"===a?l.shape[3]:l.shape[1];uE(u===n[2],function(){return"Error in conv2dDerFilter: depth of input "+u+") must match input depth in filter ("+n[2]+"."}),uE(c===n[3],function(){return"Error in conv2dDerFilter: depth of dy ("+c+") must match output depth for filter ("+n[3]+")."}),null!=i&&uE(mE(o),function(){return"Error in conv2dDerFilter: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+o+"."});var d=MT(a),p=kT(s.shape,n,r,1,o,i,!1,d);return bR.runKernelFunc(function(e){return e.conv2dDerFilter(s,l,p)},{x4D:s,dy4D:l})}}),jO=U_({conv2dDerInput_:TO}),FO=U_({depthwiseConv2d_:function(e,t,n,r,o,a,i){void 0===o&&(o="NHWC"),void 0===a&&(a=[1,1]);var s=A_(e,"x","depthwiseConv2d"),l=A_(t,"filter","depthwiseConv2d"),u=s,c=!1;3===s.rank&&(c=!0,u=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),uE(4===u.rank,function(){return"Error in depthwiseConv2d: input must be rank 4, but got rank "+u.rank+"."}),uE(4===l.rank,function(){return"Error in depthwiseConv2d: filter must be rank 4, but got rank "+l.rank+"."}),uE(u.shape[3]===l.shape[2],function(){return"Error in depthwiseConv2d: number of input channels ("+u.shape[3]+") must match the inChannels dimension in filter "+l.shape[2]+"."}),null==a&&(a=[1,1]),uE(NT(n,a),function(){return"Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+a+"'"}),null!=i&&uE(mE(r),function(){return"Error in depthwiseConv2d: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+r+"."});var d=kT(u.shape,l.shape,n,a,r,i,!0),p=[u,l],f=bR.runKernelFunc(function(e,t){var n=e.depthwiseConv2D(u,l,d);return t([u,l]),n},{x:u,filter:l},function(e,t){uE(PT(a),function(){return"Error in gradient of depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+a+"'"});var n=t[0],r=t[1];return{x:function(){return LO(n.shape,e,r,d)},filter:function(){return BO(n,e,r.shape,d)}}},"DepthwiseConv2dNative",d,p);return c?f.as3D(f.shape[1],f.shape[2],f.shape[3]):f}}),LO=U_({depthwiseConv2dDerInput_:function(e,t,n,r){var o=t,a=!1;3===t.rank&&(a=!0,o=t.as4D(1,t.shape[0],t.shape[1],t.shape[2]));var i=bR.runKernelFunc(function(e){return e.depthwiseConv2DDerInput(o,n,r)},{dy4D:o});return a?i.as3D(i.shape[1],i.shape[2],i.shape[3]):i}}),BO=U_({depthwiseConv2dDerFilter_:function(e,t,n,r){var o=e;3===e.rank&&(o=e.as4D(1,e.shape[0],e.shape[1],e.shape[2]));var a=t;return 3===a.rank&&(a=t.as4D(1,t.shape[0],t.shape[1],t.shape[2])),bR.runKernelFunc(function(e){return e.depthwiseConv2DDerFilter(o,a,r)},{x4D:o,dy4D:a})}}),zO=U_({separableConv2d_:function(e,t,n,r,o,a,i){void 0===a&&(a=[1,1]),void 0===i&&(i="NHWC");var s=A_(e,"x","separableConv2d"),l=A_(t,"depthwiseFilter","separableConv2d"),u=A_(n,"pointwiseFilter","separableConv2d"),c=s,d=!1;if(3===s.rank&&(d=!0,c=s.as4D(1,s.shape[0],s.shape[1],s.shape[2])),"NCHW"===i)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");uE(4===c.rank,function(){return"Error in separableConv2d: input must be rank 4, but got rank "+c.rank+"."}),uE(4===l.rank,function(){return"Error in separableConv2d: depthwise filter must be rank 4, but got rank "+l.rank+"."}),uE(4===u.rank,function(){return"Error in separableConv2d: pointwise filter must be rank 4, but got rank "+l.rank+"."}),uE(1===u.shape[0],function(){return"Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got "+u.shape[0]+"."}),uE(1===u.shape[1],function(){return"Error in separableConv2d: the second dimension of pointwise filter must be 1, but got "+u.shape[1]+"."});var p=l.shape[2],f=l.shape[3];uE(u.shape[2]===p*f,function(){return"Error in separableConv2d: the third dimension of pointwise filter must be "+p*f+", but got "+u.shape[2]+"."});var h=FO(c,l,r,o,i,a),m=MO(h,u,1,"valid",i);return d?m.as3D(m.shape[1],m.shape[2],m.shape[3]):m}}),WO=U_({conv2dTranspose_:function(e,t,n,r,o,a){return TO(n,A_(e,"x","conv2dTranspose"),A_(t,"filter","conv2dTranspose"),r,o,"NHWC",a)}}),UO=U_({conv3dTranspose_:function(e,t,n,r,o){return PO(n,A_(e,"x","conv3dTranspose"),A_(t,"filter","conv3dTranspose"),r,o)}}),VO=U_({matMul_:function(e,t,n,r){var o;void 0===n&&(n=!1),void 0===r&&(r=!1);var a=A_(e,"a","matMul"),i=A_(t,"b","matMul");o=fR(a,i),a=o[0],i=o[1];var s=n?a.shape[a.rank-2]:a.shape[a.rank-1],l=r?i.shape[i.rank-1]:i.shape[i.rank-2],u=n?a.shape[a.rank-1]:a.shape[a.rank-2],c=r?i.shape[i.rank-2]:i.shape[i.rank-1],d=a.shape.slice(0,-2),p=i.shape.slice(0,-2),f=fE(d),h=fE(p);uE(a.rank>=2&&i.rank>=2&&a.rank===i.rank,function(){return"Error in matMul: inputs must have the same rank of at least 2, got ranks "+a.rank+" and "+i.rank+"."}),uE(hE(d,p),function(){return"Error in matMul: outer dimensions ("+d+") and ("+p+") of Tensors with shapes "+a.shape+" and "+i.shape+" must match."}),uE(s===l,function(){return"Error in matMul: inner shapes ("+s+") and ("+l+") of Tensors with shapes "+a.shape+" and "+i.shape+" and transposeA="+n+" and transposeB="+r+" must match."});var m=a.shape.slice(0,-2).concat([u,c]),v=n?a.as3D(f,s,u):a.as3D(f,u,s),g=r?i.as3D(h,c,l):i.as3D(h,l,c),y={transposeA:n,transposeB:r};return bR.runKernelFunc(function(e,t){var o=e.batchMatMul(v,g,n,r);return t([v,g]),o},{a:v,b:g},function(e,t){var o=t,a=o[0],i=o[1];return n||r?!n&&r?{a:function(){return e.matMul(i,!1,!1)},b:function(){return e.matMul(a,!0,!1)}}:n&&!r?{a:function(){return i.matMul(e,!1,!0)},b:function(){return a.matMul(e,!1,!1)}}:{a:function(){return i.matMul(e,!0,!0)},b:function(){return e.matMul(a,!0,!0)}}:{a:function(){return e.matMul(i,!1,!0)},b:function(){return a.matMul(e,!0,!1)}}},"BatchMatMul",y).reshape(m)}}),HO=U_({dot_:function(e,t){var n=A_(e,"t1","dot"),r=A_(t,"t2","dot");uE(!(1!==n.rank&&2!==n.rank||1!==r.rank&&2!==r.rank),function(){return"Error in dot: inputs must all be rank 1 or 2, but got ranks "+n.rank+" and "+r.rank+"."});var o=1===n.rank?n.size:n.shape[1],a=1===r.rank?r.size:r.shape[0];return uE(o===a,function(){return"Error in dot: inner dimensions of inputs must match, but got "+o+" and "+a+"."}),1===n.rank&&1===r.rank?n.as2D(1,-1).matMul(r.as2D(-1,1)).asScalar():1===n.rank&&2===r.rank?n.as2D(1,-1).matMul(r.as2D(r.shape[0],r.shape[1])).as1D():2===n.rank&&1===r.rank?n.matMul(r.as2D(-1,1)).as1D():n.matMul(r.as2D(r.shape[0],r.shape[1]))}}),qO=U_({outerProduct_:function(e,t){var n=A_(e,"v1","outerProduct"),r=A_(t,"v2","outerProduct");return uE(1===n.rank&&1===r.rank,function(){return"Error in outerProduct: inputs must be rank 1, but got ranks "+n.rank+" and "+r.rank+"."}),n.as2D(-1,1).matMul(r.as2D(1,-1))}}),GO=U_({reverse_:function(e,t){var n=A_(e,"x","reverse");if(0===n.rank)return n.clone();var r=wE(t,n.shape);return bR.runKernelFunc(function(e){return e.reverse(n,r)},{$x:n},function(e){return{$x:function(){return e.reverse(r)}}}).reshapeAs(n)}}),KO=U_({reverse1d_:function(e){var t=A_(e,"x","reverse");return uE(1===t.rank,function(){return"Error in reverse1D: x must be rank 1 but got rank "+t.rank+"."}),GO(t,0)}}),XO=U_({reverse2d_:function(e,t){var n=A_(e,"x","reverse");return uE(2===n.rank,function(){return"Error in reverse2D: x must be rank 2 but got rank "+n.rank+"."}),GO(n,t)}}),$O=U_({reverse3d_:function(e,t){var n=A_(e,"x","reverse");return uE(3===n.rank,function(){return"Error in reverse3D: x must be rank 3 but got rank "+n.rank+"."}),GO(n,t)}}),YO=U_({reverse4d_:function(e,t){var n=A_(e,"x","reverse");return uE(4===n.rank,function(){return"Error in reverse4D: x must be rank 4 but got rank "+n.rank+"."}),GO(n,t)}});function QO(e,t,n,r,o,a){var i=A_(e,"x","maxPool"),s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),null==r&&(r=[1,1]),uE(4===s.rank,function(){return"Error in maxPool: input must be rank 4 but got rank "+s.rank+"."}),uE(NT(n,r),function(){return"Error in maxPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"}),null!=a&&uE(mE(o),function(){return"Error in maxPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var u=ST(s.shape,t,n,r,o,a);if(1===u.filterWidth&&1===u.filterHeight&&hE(u.inShape,u.outShape))return i.clone();var c=[s],d=bR.runKernelFunc(function(e,t){var n=e.maxPool(s,u);return t([s,n]),n},{x:s},function(e,a){var i=a[0],s=a[1];return{x:function(){return function(e,t,n,r,o,a,i,s){var l=A_(e,"dy","maxPoolBackprop"),u=A_(t,"input","maxPoolBackprop"),c=A_(n,"output","maxPoolBackprop");uE(u.rank===l.rank,function(){return"Rank of input ("+u.rank+") does not match rank of dy ("+l.rank+")"}),null==a&&(a=[1,1]),uE(NT(o,a),function(){return"Error in maxPoolBackProp: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}),uE(4===l.rank,function(){return"Error in maxPoolBackprop: dy must be rank 4 but got rank "+l.rank+"."}),uE(4===u.rank,function(){return"Error in maxPoolBackprop: input must be rank 4 but got rank "+u.rank+"."});var d=ST(u.shape,r,o,a,i,s);return bR.runKernelFunc(function(e){return e.maxPoolBackprop(l,u,c,d)},{$dy:l,$input:u})}(e,i,s,t,n,r,o)}}},"MaxPool",u,c);return l?d.as3D(d.shape[1],d.shape[2],d.shape[3]):d}function JO(e,t,n,r,o,a){var i=A_(e,"x","avgPool","float32");null==r&&(r=[1,1]),uE(NT(n,r),function(){return"Error in avgPool: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+r+"'"});var s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),uE(4===s.rank,function(){return"Error in avgPool: x must be rank 4 but got rank "+s.rank+"."}),null!=a&&uE(mE(o),function(){return"Error in avgPool: pad must be an integer when using, dimRoundingMode "+a+" but got pad "+o+"."});var u=ST(s.shape,t,n,r,o,a);if(1===u.filterWidth&&1===u.filterHeight&&hE(u.inShape,u.outShape))return i.clone();var c=bR.runKernelFunc(function(e){return e.avgPool(s,u)},{x:s},function(e){return{x:function(){return function(e,t,n,r,o,a){var i=A_(e,"dy","avgPoolBackprop"),s=A_(t,"input","avgPoolBackprop");uE(s.rank===i.rank,function(){return"Rank of input ("+s.rank+") does not match rank of dy ("+i.rank+")"}),null==o&&(o=[1,1]),uE(NT(r,o),function(){return"Error in avgPoolBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"});var l=s,u=i,c=!1;3===s.rank&&(c=!0,l=s.as4D(1,s.shape[0],s.shape[1],s.shape[2]),u=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),uE(4===u.rank,function(){return"Error in avgPoolBackprop: dy must be rank 4 but got rank "+u.rank+"."}),uE(4===l.rank,function(){return"Error in avgPoolBackprop: input must be rank 4 but got rank "+l.rank+"."});var d=ST(l.shape,n,r,o,a),p=bR.runKernelFunc(function(e){return e.avgPoolBackprop(u,l,d)},{dy4D:u,input4D:l});return c?p.as3D(p.shape[1],p.shape[2],p.shape[3]):p}(e,s,t,n,r,o)}}},"AvgPool",u);return c=c.cast(i.dtype),l?c.as3D(c.shape[1],c.shape[2],c.shape[3]):c}var ZO=U_({maxPool_:function(e,t,n,r,o){return QO(e,t,n,1,r,o)}}),eD=U_({avgPool_:function(e,t,n,r,o){return JO(e,t,n,1,r,o)}}),tD=U_({pool_:function(e,t,n,r,o,a){null==o&&(o=[1,1]),null==a&&(a=1),0===r&&(r="valid");var i=A_(e,"x","maxPool"),s=i,l=!1;3===i.rank&&(l=!0,s=i.as4D(1,i.shape[0],i.shape[1],i.shape[2])),uE(NT(a,o),function(){return"Error in pool: Either strides or dilations must be 1. Got strides "+a+" and dilations '"+o+"'"});var u,c=ST(s.shape,t,a,o,r),d=[c.dilationHeight,c.dilationWidth];u="same"===r?function(e,t){var n=e.map(function(e,n){return e+(e-1)*(t[n]-1)}).map(function(e){return e-1}),r=n.map(function(e){return Math.floor(e/2)}),o=n.map(function(e,t){return e-r[t]});return n.map(function(e,t){return[r[t],o[t]]})}([c.filterHeight,c.filterWidth],d):[[0,0],[0,0]];var p=1===d[0]&&1===d[1],f=function(e,t,n){var r=n.map(function(e){return e[0]}),o=n.map(function(e){return e[1]}),a=e.concat(r,o),i=t.map(function(e,t){return(e-a[t]%e)%e}),s=o.map(function(e,t){return e+i[t]});return[t.map(function(e,t){return[r[t],s[t]]}),t.map(function(e,t){return[0,i[t]]})]}([c.inHeight,c.inWidth],d,u),h=f[0],m=f[1],v=p?r:"valid",g=p?s:HI(s,d,h),y=("avg"===n?function(){return JO(g,t,a,1,v)}:function(){return QO(g,t,a,1,v)})(),b=p?y:kI(y,d,m);return l?b.as3D(b.shape[1],b.shape[2],b.shape[3]):b}}),nD=U_({maxPool3d_:function(e,t,n,r,o,a,i){void 0===a&&(a="NDHWC");var s=A_(e,"x","maxPool3d"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),uE(5===l.rank,function(){return"Error in maxPool3d: x must be rank 5 but got rank "+l.rank+"."}),uE("NDHWC"===a,function(){return"Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),uE(NT(n,i),function(){return"Error in maxPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),null!=o&&uE(mE(r),function(){return"Error in maxPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var c=CT(l.shape,t,n,i,r,o,a),d=bR.runKernelFunc(function(e,t){var n=e.maxPool3d(l,c);return t([l,n]),n},{x:l},function(e,a){var s=a[0],l=a[1];return{x:function(){return function(e,t,n,r,o,a,i,s){var l=A_(e,"dy","maxPool3dBackprop"),u=A_(t,"input","maxPool3dBackprop"),c=A_(n,"output","maxPool3dBackprop"),d=l,p=u,f=c,h=!1;4===u.rank&&(h=!0,d=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3]),p=u.as5D(1,u.shape[0],u.shape[1],u.shape[2],u.shape[3]),f=c.as5D(1,c.shape[0],c.shape[1],c.shape[2],c.shape[3])),uE(5===d.rank,function(){return"Error in maxPool3dBackprop: dy must be rank 5 but got rank "+d.rank+"."}),uE(5===p.rank,function(){return"Error in maxPool3dBackprop: input must be rank 5 but got rank "+p.rank+"."}),uE(5===f.rank,function(){return"Error in maxPool3dBackprop: output must be rank 5 but got rank "+f.rank+"."}),null==a&&(a=[1,1,1]),uE(NT(o,a),function(){return"Error in maxPool3dBackprop: Either strides or dilations must be 1. Got strides "+o+" and dilations '"+a+"'"}),null!=s&&uE(mE(i),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+s+" but got pad "+i+"."});var m=CT(p.shape,r,o,a,i,s),v=bR.runKernelFunc(function(e){return e.maxPool3dBackprop(d,p,f,m)},{dy5D:d,input5D:p});return h?v.as4D(v.shape[1],v.shape[2],v.shape[3],v.shape[4]):v}(e,s,l,t,n,i,r,o)}}});return u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),rD=U_({avgPool3d_:function(e,t,n,r,o,a,i){void 0===a&&(a="NDHWC");var s=A_(e,"x","avgPool3d","float32"),l=s,u=!1;4===s.rank&&(u=!0,l=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3])),null==i&&(i=[1,1,1]),uE(5===l.rank,function(){return"Error in avgPool3d: x must be rank 5 but got rank "+l.rank+"."}),uE("NDHWC"===a,function(){return"Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of "+a}),uE(NT(n,i),function(){return"Error in avgPool3d: Either strides or dilations must be 1. Got strides "+n+" and dilations '"+i+"'"}),null!=o&&uE(mE(r),function(){return"Error in avgPool3d: pad must be an integer when using, dimRoundingMode "+o+" but got pad "+r+"."});var c=CT(l.shape,t,n,i,r,o,a),d=bR.runKernelFunc(function(e){return e.avgPool3d(l,c)},{x:l},function(e){return{x:function(){return function(e,t,n,r,o,a,i){var s=A_(e,"dy","avgPool3dBackprop"),l=A_(t,"input","avgPool3dBackprop"),u=s,c=l,d=!1;4===l.rank&&(d=!0,u=s.as5D(1,s.shape[0],s.shape[1],s.shape[2],s.shape[3]),c=l.as5D(1,l.shape[0],l.shape[1],l.shape[2],l.shape[3])),uE(5===u.rank,function(){return"Error in avgPool3dBackprop: dy must be rank 5 but got rank "+u.rank+"."}),uE(5===c.rank,function(){return"Error in avgPool3dBackprop: input must be rank 5 but got rank "+c.rank+"."}),null==o&&(o=[1,1,1]),uE(NT(r,o),function(){return"Error in avgPool3dBackprop: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+o+"'"}),null!=i&&uE(mE(a),function(){return"Error in maxPool3dBackprop: pad must be an integer when using, dimRoundingMode "+i+" but got pad "+a+"."});var p=CT(c.shape,n,r,o,a,i),f=bR.runKernelFunc(function(e){return e.avgPool3dBackprop(u,c,p)},{dy5D:u,input5D:c});return d?f.as4D(f.shape[1],f.shape[2],f.shape[3],f.shape[4]):f}(e,l,t,n,i,r,o)}}});return d=d.cast(l.dtype),u?d.as4D(d.shape[1],d.shape[2],d.shape[3],d.shape[4]):d}}),oD=U_({slice_:function(e,t,n){var r,o,a=A_(e,"x","slice");if(0===a.rank)throw new Error("Slicing scalar is not possible");(r="number"==typeof t?[t].concat(new Array(a.rank-1).fill(0)):t.length<a.rank?t.concat(new Array(a.rank-t.length).fill(0)):t.slice()).forEach(function(e){uE(-1!==e,function(){return"slice() does not support negative begin indexing."})}),o=(o=null==n?new Array(a.rank).fill(-1):"number"==typeof n?[n].concat(new Array(a.rank-1).fill(-1)):n.length<a.rank?n.concat(new Array(a.rank-n.length).fill(-1)):n).map(function(e,t){return e>=0?e:(uE(-1===e,function(){return"Negative size values should be exactly -1 but got "+e+" for the slice() size at index "+t+"."}),a.shape[t]-r[t])}),iT(a,r,o);var i=a.shape,s={begin:r,size:o};return bR.runKernelFunc(function(e){return e.slice(a,r,o)},{x:a},function(e){for(var t=[],n=0;n<e.rank;n++)t.push([r[n],i[n]-r[n]-o[n]]);return{x:function(){return e.pad(t)}}},"Slice",s)}}),aD=U_({slice1d_:function(e,t,n){var r=A_(e,"x","slice1d");return uE(1===r.rank,function(){return"slice1d expects a rank-1 tensor, but got a rank-"+r.rank+" tensor"}),oD(r,[t],[n])}}),iD=U_({slice2d_:function(e,t,n){var r=A_(e,"x","slice2d");return uE(2===r.rank,function(){return"slice2d expects a rank-2 tensor, but got a rank-"+r.rank+" tensor"}),oD(r,t,n)}}),sD=U_({slice3d_:function(e,t,n){var r=A_(e,"x","slice3d");return uE(3===r.rank,function(){return"slice3d expects a rank-3 tensor, but got a rank-"+r.rank+" tensor"}),oD(r,t,n)}}),lD=U_({slice4d_:function(e,t,n){var r=A_(e,"x","slice4d");return uE(4===r.rank,function(){return"slice4d expects a rank-4 tensor, but got a rank-"+r.rank+" tensor"}),oD(r,t,n)}});function uD(e,t,n,r,o){return t.rank<n.rank&&(t=t.reshape(D_(t.shape,r))),e.rank<n.rank&&(e=e.reshape(D_(e.shape,r))),{x:function(){var r=e.mul(n.equal(t).cast(e.dtype));return null==o?r:r.transpose(o)}}}var cD=U_({all_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","all","bool"),o=wE(t,r.shape),a=o,i=F_(a,r.rank);null!=i&&(r=r.transpose(i),a=B_(a.length,r.rank));var s=bR.runKernelFunc(function(e){return e.all(r,a)},{$x:r});if(n){var l=D_(s.shape,o);return s.reshape(l)}return s}}),dD=U_({any_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","any","bool"),o=wE(t,r.shape),a=o,i=F_(a,r.rank);null!=i&&(r=r.transpose(i),a=B_(a.length,r.rank));var s=bR.runKernelFunc(function(e){return e.any(r,a)},{$x:r});if(n){var l=D_(s.shape,o);return s.reshape(l)}return s}}),pD=U_({argMax_:function(e,t){void 0===t&&(t=0);var n=A_(e,"x","argMax");null==t&&(t=0);var r=wE(t,n.shape),o=F_(r,n.rank);null!=o&&(n=n.transpose(o),r=B_(r.length,n.rank));var a={axis:r[0]},i=[n];return bR.runKernelFunc(function(e,t){var o=e.argMax(n,r[0]);return t([n]),o},{x:n},function(e,t){var n=t[0];return{x:function(){return oI(n)}}},"ArgMax",a,i)}}),fD=U_({argMin_:function(e,t){void 0===t&&(t=0);var n=A_(e,"x","argMin");null==t&&(t=0);var r=wE(t,n.shape),o=F_(r,n.rank);return null!=o&&(n=n.transpose(o),r=B_(r.length,n.rank)),bR.runKernelFunc(function(e,t){var o=e.argMin(n,r[0]);return t([n]),o},{$x:n},function(e,t){var n=t[0];return{$x:function(){return oI(n)}}})}}),hD=U_({logSumExp_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","logSumExp"),o=wE(t,r.shape),a=r.max(o,!0),i=r.sub(a).exp().sum(o).log(),s=a.reshape(i.shape).add(i);if(n){var l=D_(s.shape,o);return s.reshape(l)}return s}}),mD=U_({max_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","max"),o=r,a=wE(t,r.shape),i=a,s=F_(i,r.rank);null!=s&&(r=r.transpose(s),i=B_(i.length,r.rank));var l=[r],u=bR.runKernelFunc(function(e,t){var n=e.max(r,i);return t([o,n]),n},{x:r},function(e,t){return uD(e,t[1],t[0],a,s)},"Max",{axes:i},l,[!0]);if(n){var c=D_(u.shape,a);u=u.reshape(c)}return u}}),vD=U_({mean_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","mean"),o=wE(t,r.shape),a=fE(O_(r.shape,o)[1]);return fT(function(e){var r=X_(a);return{value:(r.dtype===e.dtype?e:e.cast(r.dtype)).div(r).sum(t,n),gradFunc:function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(Z_(e.shape,"float32")).div(a)}}})(r)}}),gD=U_({min_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","min"),o=r,a=wE(t,r.shape),i=a,s=F_(i,r.rank);null!=s&&(r=r.transpose(s),i=B_(i.length,r.rank));var l=[r],u=bR.runKernelFunc(function(e,t){var n=e.min(r,i);return t([o,n]),n},{x:r},function(e,t){return uD(e,t[1],t[0],a,s)},"Min",{axes:i},l,[!0]);if(n){var c=D_(u.shape,a);u=u.reshape(c)}return u}}),yD=U_({moments_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=wE(t,(e=A_(e,"x","moments")).shape),o=e.mean(r,n),a=o.shape;n||(a=D_(o.shape,r));var i=e.toFloat().sub(o.reshape(a)).square();return{mean:o,variance:i.mean(r,n)}}}),bD=U_({sum_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","sum");"bool"===r.dtype&&(r=r.toInt());var o=wE(t,r.shape);return fT(function(e){var t=F_(o,e.rank),r=o,a=e;null!=t&&(a=e.transpose(t),r=B_(r.length,e.rank));var i=function(t){var n=e.shape.slice();return o.forEach(function(e){n[e]=1}),t.reshape(n).mul(Z_(e.shape,"float32"))},s={axes:r},l=bR.runKernelFunc(function(e){return e.sum(a,r)},{x:a},function(e){return{x:function(){return i(e)}}},"Sum",s);if(n){var u=D_(l.shape,o);l=l.reshape(u)}return{value:l,gradFunc:i}})(r)}}),xD=U_({prod_:function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=!1);var r=A_(e,"x","prod");"bool"===r.dtype&&(r=r.toInt());var o=wE(t,r.shape),a=F_(o,r.rank),i=o,s=r;null!=a&&(s=r.transpose(a),i=B_(i.length,r.rank));var l=bR.runKernelFunc(function(e){return e.prod(s,i)},{permutedX:s});if(n){var u=D_(l.shape,o);l=l.reshape(u)}return l}}),wD=U_({elu_:function(e){var t=A_(e,"x","elu");return bR.runKernelFunc(function(e,n){var r=e.elu(t);return n([r]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){return bR.runKernelFunc(function(t){return t.eluDer(e,n)},{dy:e,y:n})}}})}}),SD=U_({leakyRelu_:function(e,t){void 0===t&&(t=.2);var n=A_(e,"x","leakyRelu");return eO(X_(t).mul(n),n)}}),CD=U_({prelu_:function(e,t){var n=A_(e,"x","prelu"),r=A_(t,"alpha","prelu");return bR.runKernelFunc(function(e,t){var o=e.prelu(n,r);return t([n,r]),o},{x:n,alpha:r},function(e,t){var n=t[0],r=t[1],o=n.greater(0);return{x:function(){return HM(o,e,e.mul(r))},alpha:function(){var t=HM(o,oI(e),e.mul(n)),a=xT(r.shape,e.shape);return a.length>0&&(t=t.sum(a)),t.reshape(r.shape)}}},"Prelu")}}),kD=U_({relu_:function(e){var t=A_(e,"x","relu");return"bool"===t.dtype?t.toInt():bR.runKernelFunc(function(e,n){var r=e.relu(t);return n([t]),r},{x:t},function(e,t){var n=t[0];return{x:function(){return e.mulStrict(n.step().toFloat())}}},"Relu")}}),ED=U_({relu6_:function(e){var t=A_(e,"x","relu6");return"bool"===t.dtype?t.toInt():bR.runKernelFunc(function(e,n){var r=e.relu6(t);return n([t]),r},{x:t},function(e,t){var n=t[0],r=n.lessEqual(6).mul(n.step());return{x:function(){return e.mulStrict(r.toFloat())}}},"Relu6")}}),RD=U_({selu_:function(e){var t=A_(e,"x","selu");return bR.runKernelFunc(function(e,n){var r=e.selu(t);return n([t]),r},{$x:t},function(e,t){var n=t[0];return{$x:function(){var t=n.greater(X_(0)),r=X_(pN),o=X_(fN),a=e.mul(o),i=e.mul(r).mul(n.toFloat().exp());return HM(t,a,i)}}})}}),_D=U_({transpose_:function(e,t){var n=A_(e,"x","transpose");if(null==t&&(t=n.shape.map(function(e,t){return t}).reverse()),uE(n.rank===t.length,function(){return"Error in transpose: rank of input "+n.rank+" must match length of perm "+t+"."}),t.forEach(function(e){uE(e>=0&&e<n.rank,function(){return"All entries in 'perm' must be between 0 and "+(n.rank-1)+" but got "+t})}),n.rank<=1)return n.clone();var r={perm:t};return bR.runKernelFunc(function(e){return e.transpose(n,t)},{x:n},function(e){var n=L_(t);return{x:function(){return e.transpose(n)}}},"Transpose",r)}}),ID=U_({localResponseNormalization_:function(e,t,n,r,o){void 0===t&&(t=5),void 0===n&&(n=1),void 0===r&&(r=1),void 0===o&&(o=.5);var a=A_(e,"x","localResponseNormalization");uE(4===a.rank||3===a.rank,function(){return"Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank "+a.rank+"."}),uE(mE(t),function(){return"Error in localResponseNormalization: depthRadius must be an integer but got depthRadius "+t+"."});var i=a,s=!1;3===a.rank&&(s=!0,i=a.as4D(1,a.shape[0],a.shape[1],a.shape[2]));var l=bR.runKernelFunc(function(e,a){var s=e.localResponseNormalization4D(i,t,n,r,o);return a([i,s]),s},{x4D:i},function(e,a){var i=a[0],s=a[1];return{x4D:function(){return bR.runKernelFunc(function(a){return a.LRNGrad(e,i,s,t,n,r,o)},{})}}});return s?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),TD=U_({norm_:function(e,t,n,r){void 0===t&&(t="euclidean"),void 0===n&&(n=null),void 0===r&&(r=!1);var o=function e(t,n,r){if(void 0===r&&(r=null),0===t.rank)return t.abs();if(1!==t.rank&&null===r)return e(t.reshape([-1]),n,r);if(1===t.rank||"number"==typeof r||Array.isArray(r)&&1===r.length){if(1===n)return t.abs().sum(r);if(n===1/0)return t.abs().max(r);if(n===-1/0)return t.abs().min(r);if("euclidean"===n||2===n)return t.abs().pow(X_(2,"int32")).sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}if(Array.isArray(r)&&2===r.length){if(1===n)return t.abs().sum(r[0]).max(r[1]-1);if(n===1/0)return t.abs().sum(r[1]).max(r[0]);if(n===-1/0)return t.abs().sum(r[1]).min(r[0]);if("fro"===n||"euclidean"===n)return t.square().sum(r).sqrt();throw new Error("Error in norm: invalid ord value: "+n)}throw new Error("Error in norm: invalid axis: "+r)}(e=A_(e,"x","norm"),t,n),a=o.shape;if(r){var i=wE(n,e.shape);a=D_(o.shape,i)}return o.reshape(a)}}),AD=U_({basicLSTMCell_:function(e,t,n,r,o,a){var i=A_(e,"forgetBias","basicLSTMCell"),s=A_(t,"lstmKernel","basicLSTMCell"),l=A_(n,"lstmBias","basicLSTMCell"),u=A_(r,"data","basicLSTMCell"),c=A_(o,"c","basicLSTMCell"),d=A_(a,"h","basicLSTMCell"),p=u.concat(d,1).matMul(s).add(l),f=p.shape[0],h=p.shape[1]/4,m=[f,h],v=p.slice([0,0],m),g=p.slice([0,h],m),y=p.slice([0,2*h],m),b=p.slice([0,3*h],m),x=v.sigmoid().mulStrict(g.tanh()).addStrict(c.mulStrict(i.add(y).sigmoid())),w=x.tanh().mulStrict(b.sigmoid());return[x,w]}}),PD=U_({multiRNNCell_:function(e,t,n,r){for(var o=A_(t,"data","multiRNNCell"),a=P_(n,"c","multiRNNCell"),i=P_(r,"h","multiRNNCell"),s=o,l=[],u=0;u<e.length;u++){var c=e[u](s,a[u],i[u]);l.push(c[0]),l.push(c[1]),s=c[1]}var d=[],p=[];for(u=0;u<l.length;u+=2)d.push(l[u]),p.push(l[u+1]);return[d,p]}}),ND=U_({movingAverage_:function(e,t,n,r,o){void 0===o&&(o=!0);var a=A_(e,"v","movingAverage"),i=A_(t,"x","movingAverage"),s=A_(n,"decay","movingAverage");hR(a,i),uE(hE(a.shape,i.shape),function(){return"Shape mismatch in v and x"});var l=X_(1),u=l.sub(s),c=i.sub(a).mul(u);if(o){uE(null!=r,function(){return"When using zeroDebias: true, step is required."});var d=A_(r,"step","movingAverage");c=c.div(l.sub(lO(s,d)))}return a.add(c)}}),MD=U_({stridedSlice_:function(e,t,n,r,o,a,i,s,l){if(void 0===o&&(o=0),void 0===a&&(a=0),void 0===i&&(i=0),void 0===s&&(s=0),void 0===l&&(l=0),null==r&&(r=new Array(t.length)),0!==i)throw new Error("ellipsis mask is not yet supported");var u=A_(e,"x","stridedSlice"),c=sT(s),d=u.shape.slice();c.forEach(function(e){t[e]=0,n[e]=1,d.splice(e,0,1)}),u=u.reshape(d);for(var p=0;p<u.rank;p++)t[p]=uT(o,t,r,u.shape,p),n[p]=cT(a,n,r,u.shape,p),r[p]=r[p]||1;var f=sT(l);f.forEach(function(e){n[e]=t[e]+1,r[e]=1});var h=lT(t,n,r),m=h.filter(function(e,t){return-1===f.indexOf(t)});return r.every(function(e){return 1===e})?oD(u,t,h).reshape(m):bR.runKernelFunc(function(e){return e.stridedSlice(u,t,n,r)},{$x:u}).reshape(m)}}),OD=U_({topk_:function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!0);var r=A_(e,"x","topk");if(0===r.rank)throw new Error("topk() expects the input to be of rank 1 or higher");var o=r.shape[r.shape.length-1];if(t>o)throw new Error("'k' passed to topk() must be <= the last dimension ("+o+") but got "+t);var a=bR.runKernelFunc(function(e){return e.topk(r,t,n)},{$x:r});return{values:a[0],indices:a[1]}}}),DD=U_({scatterND_:function(e,t,n){var r=A_(e,"indices","scatterND","int32"),o=A_(t,"updates","scatterND");return oT(o,r,n),bR.runKernelFunc(function(e){return e.scatterND(r,o,n)},{indices:r,updates:o},null,"ScatterNd",{shape:n})}}),jD=U_({fft_:function(e){uE("complex64"===e.dtype,function(){return"The dtype for tf.spectral.fft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return bR.runKernelFunc(function(e){return e.fft(r)},{input:e}).reshape(e.shape)}}),FD=U_({ifft_:function(e){uE("complex64"===e.dtype,function(){return"The dtype for tf.spectral.ifft() must be complex64 but got "+e.dtype+"."});var t=e.shape[e.shape.length-1],n=e.size/t,r=e.as2D(n,t);return bR.runKernelFunc(function(e){return e.ifft(r)},{input:e}).reshape(e.shape)}}),LD=U_({rfft_:function(e,t){uE("float32"===e.dtype,function(){return"The dtype for rfft() must be real value but got "+e.dtype});var n,r=e.shape[e.shape.length-1],o=e.size/r;if(null!=t&&t<r){var a=e.shape.map(function(e){return 0}),i=e.shape.map(function(e){return e});i[e.shape.length-1]=t,n=e.slice(a,i),r=t}else if(null!=t&&t>r){var s=e.shape.map(function(e){return e});s[e.shape.length-1]=t-r,n=e.concat(eI(s),e.shape.length-1),r=t}else n=e;var l=n.zerosLike(),u=V_(n,l).as2D(o,r),c=jD(u),d=Math.floor(r/2)+1,p=H_(c),f=q_(c),h=p.split([d,r-d],p.shape.length-1),m=f.split([d,r-d],f.shape.length-1),v=n.shape.slice();return v[n.shape.length-1]=d,V_(h[0],m[0]).reshape(v)}}),BD=U_({irfft_:function(e){var t=e.shape[e.shape.length-1],n=e.size/t;if(t<=2){var r=e.as2D(n,t),o=FD(r);return H_(o)}var a=[n,2*(t-1)],i=H_(e).as2D(n,t),s=q_(e).as2D(n,t),l=i.slice([0,1],[n,t-2]).reverse(1),u=s.slice([0,1],[n,t-2]).reverse(1).mul(X_(-1)),c=i.concat(l,1),d=s.concat(u,1);return r=V_(c,d).as2D(a[0],a[1]),o=FD(r),H_(o)}}),zD=Object.freeze({fft:jD,ifft:FD,rfft:LD,irfft:BD}),WD=U_({sparseToDense_:function(e,t,n,r){void 0===r&&(r=0);var o=A_(e,"sparseIndices","sparseToDense","int32"),a=A_(t,"sparseValues","sparseToDense"),i=A_(r,"defaultValue","sparseToDense",a.dtype);return function(e,t,n,r){if("int32"!==e.dtype)throw new Error("tf.sparseToDense() expects the indices to be int32 type, but the dtype was "+e.dtype+".");if(e.rank>2)throw new Error("sparseIndices should be a scalar, vector, or matrix, but got shape "+e.shape+".");var o=e.rank>0?e.shape[0]:1,a=e.rank>1?e.shape[1]:1;if(n.length!==a)throw new Error("outputShape has incorrect number of elements:, "+n.length+", should be: "+a+".");var i=t.size;if(0!==t.rank&&(1!==t.rank||i!==o))throw new Error("sparseValues has incorrect shape "+t.shape+", should be [] or ["+o+"]");if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(o,a,n,i),bR.runKernelFunc(function(e){return e.sparseToDense(o,a,n,i)},{$sparseIndices:o,$sparseValues:a,$defaultValue:i})}}),UD=U_({gatherND_:function(e,t){var n=A_(t,"indices","gatherND","int32"),r=A_(e,"x","gatherND");return bR.runKernelFunc(function(e){return e.gatherND(r,n)},{x:r,indices:n},null,"GatherNd")}}),VD=U_({diag_:function(e){var t=A_(e,"x","diag").flatten(),n=e.shape.concat(e.shape);return bR.runKernelFunc(function(e){return e.diag(t)},{$x:t}).reshape(n)}}),HD=U_({dropout_:function(e,t,n,r){var o=A_(e,"x","dropout");if(uE("float32"===o.dtype,function(){return"x has to be a floating point tensor since it's going to be scaled, but got a "+o.dtype+" tensor instead."}),uE(t>=0&&t<1,function(){return"rate must be a float in the range [0, 1), but got "+t+"."}),0===t)return e instanceof rR?o.clone():o;var a=function(e,t){if(null==t)return e.shape.slice();if(hE(e.shape,t))return t;if(e.shape.length===t.length){for(var n=[],r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(o,n),i=1-t,s=UI(a,0,1,"float32",r).add(i).floor().div(i);return o.mul(s)}});function qD(e,t,n){for(var r=1-e%2,o=new Float32Array(e),a=0;a<e;++a){var i=2*Math.PI*a/(e+r-1);o[a]=t-n*Math.cos(i)}return $_(o,"float32")}var GD,KD=U_({hannWindow_:function(e){return qD(e,.5,.5)}}),XD=U_({hammingWindow_:function(e){return qD(e,.54,.46)}}),$D=U_({frame_:function(e,t,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=0);for(var a=0,i=[];a+t<=e.size;)i.push(oD(e,a,t)),a+=n;if(r)for(;a<e.size;){var s=a+t-e.size,l=aI([oD(e,a,t-s),tI([s],o)]);i.push(l),a+=n}return 0===i.length?Y_([],[0,t]):aI(i).as2D(i.length,t)}}),YD=U_({stft_:function(e,t,n,r,o){var a;void 0===o&&(o=KD),null==r&&(a=t,r=Math.floor(Math.pow(2,Math.ceil(Math.log(a)/Math.log(2)))));for(var i=$D(e,t,n),s=iO(i,o(t)),l=[],u=0;u<i.shape[0];u++)l.push(LD(s.slice([u,0],[1,t]),r));return aI(l)}}),QD=Object.freeze({hannWindow:KD,hammingWindow:XD,frame:$D,stft:YD});!function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(GD||(GD={}));var JD=U_({absoluteDifference_:function(e,t,n,r){void 0===r&&(r=GD.SUM_BY_NONZERO_WEIGHTS);var o=A_(e,"labels","absoluteDifference"),a=A_(t,"predictions","absoluteDifference"),i=null;null!=n&&(i=A_(n,"weights","absoluteDifference")),cE(o.shape,a.shape,"Error in absoluteDifference: ");var s=o.sub(a).abs();return ZD(s,i,r)}}),ZD=U_({computeWeightedLoss_:function(e,t,n){void 0===n&&(n=GD.SUM_BY_NONZERO_WEIGHTS);var r=A_(e,"losses","computeWeightedLoss"),o=null;null!=t&&(o=A_(t,"weights","computeWeightedLoss"));var a=null==o?r:r.mul(o);if(n===GD.NONE)return a;if(n===GD.SUM)return a.sum();if(n===GD.MEAN){if(null==o)return a.mean();var i=r.size/o.size,s=a.sum().div(o.sum());return i>1?s.div(X_(i)):s}if(n===GD.SUM_BY_NONZERO_WEIGHTS){if(null==o)return a.sum().div(X_(r.size));var l=o.mul(Z_(r.shape)).notEqual(X_(0)).sum().toFloat();return a.sum().div(l)}throw Error("Unknown reduction: "+n)}}),ej=U_({cosineDistance_:function(e,t,n,r,o){void 0===o&&(o=GD.SUM_BY_NONZERO_WEIGHTS);var a=A_(e,"labels","cosineDistance"),i=A_(t,"predictions","cosineDistance"),s=null;null!=r&&(s=A_(r,"weights","cosineDistance")),cE(a.shape,i.shape,"Error in cosineDistance: ");var l=X_(1).sub(a.mul(i).sum(n,!0));return ZD(l,s,o)}}),tj=U_({hingeLoss_:function(e,t,n,r){void 0===r&&(r=GD.SUM_BY_NONZERO_WEIGHTS);var o=A_(e,"labels","hingeLoss"),a=A_(t,"predictions","hingeLoss"),i=null;null!=n&&(i=A_(n,"weights","hingeLoss")),cE(o.shape,a.shape,"Error in hingeLoss: ");var s=X_(1);o=X_(2).mul(o).sub(s);var l=s.sub(o.mul(a)).relu();return ZD(l,i,r)}}),nj=U_({huberLoss_:function(e,t,n,r,o){void 0===r&&(r=1),void 0===o&&(o=GD.SUM_BY_NONZERO_WEIGHTS);var a=A_(e,"labels","huberLoss"),i=A_(t,"predictions","huberLoss"),s=null;null!=n&&(s=A_(n,"weights","huberLoss")),cE(a.shape,i.shape,"Error in huberLoss: ");var l=X_(r),u=i.sub(a).abs(),c=nO(u,l),d=u.sub(c),p=X_(.5).mul(c.square()).add(l.mul(d));return ZD(p,s,o)}}),rj=U_({logLoss_:function(e,t,n,r,o){void 0===r&&(r=1e-7),void 0===o&&(o=GD.SUM_BY_NONZERO_WEIGHTS);var a=A_(e,"labels","logLoss"),i=A_(t,"predictions","logLoss"),s=null;null!=n&&(s=A_(n,"weights","logLoss")),cE(a.shape,i.shape,"Error in logLoss: ");var l=X_(1),u=X_(r),c=a.mul(i.add(u).log()).neg().sub(l.sub(a).mul(l.sub(i).add(u).log()));return ZD(c,s,o)}}),oj=U_({meanSquaredError_:function(e,t,n,r){void 0===r&&(r=GD.SUM_BY_NONZERO_WEIGHTS);var o=A_(e,"labels","meanSquaredError"),a=A_(t,"predictions","meanSquaredError"),i=null;null!=n&&(i=A_(n,"weights","meanSquaredError")),cE(o.shape,a.shape,"Error in meanSquaredError: ");var s=o.squaredDifference(a);return ZD(s,i,r)}}),aj=U_({sigmoidCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=GD.SUM_BY_NONZERO_WEIGHTS);var a=A_(e,"multiClassLabels","sigmoidCrossEntropy"),i=A_(t,"logits","sigmoidCrossEntropy"),s=null;if(null!=n&&(s=A_(n,"weights","sigmoidCrossEntropy")),cE(a.shape,i.shape,"Error in sigmoidCrossEntropy: "),r>0){var l=X_(r),u=X_(1),c=X_(.5);a=a.mul(u.sub(l)).add(c.mul(l))}var d=function(e,t){var n=A_(e,"labels","sigmoidCrossEntropyWithLogits"),r=A_(t,"logits","sigmoidCrossEntropyWithLogits");cE(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");var o=r.relu(),a=r.mul(n),i=r.abs().neg().exp().log1p();return o.sub(a).add(i)}(a,i);return ZD(d,s,o)}}),ij=U_({softmaxCrossEntropy_:function(e,t,n,r,o){void 0===r&&(r=0),void 0===o&&(o=GD.SUM_BY_NONZERO_WEIGHTS);var a=A_(e,"onehotLabels","softmaxCrossEntropy"),i=A_(t,"logits","softmaxCrossEntropy"),s=null;if(null!=n&&(s=A_(n,"weights","softmaxCrossEntropy")),cE(a.shape,i.shape,"Error in softmaxCrossEntropy: "),r>0){var l=X_(r),u=X_(1),c=X_(a.shape[1]);a=a.mul(u.sub(l)).add(l.div(c))}var d=function(e,t,n){if(void 0===n&&(n=-1),-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error("Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank "+t.rank+" and dim was "+n);return fT(function(e,t,r){var o=t.logSumExp([n],!0),a=t.toFloat().sub(o);return r([e,a]),{value:a.mul(e).neg().sum([n]),gradFunc:function(e,t){var r=t[0],o=t[1],a=D_(e.shape,[n]);return[e.reshape(a).mul(r.toFloat().sub(o.exp())),e.reshape(a).mul(o.exp().sub(r.toFloat()))]}}})(e,t)}(a,i);return ZD(d,s,o)}}),sj=Object.freeze({get Reduction(){return GD},absoluteDifference:JD,computeWeightedLoss:ZD,cosineDistance:ej,hingeLoss:tj,huberLoss:nj,logLoss:rj,meanSquaredError:oj,sigmoidCrossEntropy:aj,softmaxCrossEntropy:ij});function lj(e,t){return void 0===t&&(t=!1),bR.tidy(function(){if(2!==e.shape.length)throw new Error("qr2d() requires a 2D Tensor, but got a "+e.shape.length+"D Tensor.");for(var n=e.shape[0],r=e.shape[1],o=PI(n),a=e.clone(),i=Y_([[1]],[1,1]),s=i.clone(),l=n>=r?r:n,u=function(e){var t,l=a,u=s,c=o;t=bR.tidy(function(){var t=a.slice([e,e],[n-e,1]),l=t.norm(),u=a.slice([e,e],[1,1]),c=Y_([[-1]]).where(u.greater(0),Y_([[1]])),d=u.sub(c.mul(l)),p=t.div(d);s=1===p.shape[0]?i.clone():i.concat(p.slice([1,0],[p.shape[0]-1,p.shape[1]]),0);var f=c.matMul(d).div(l).neg(),h=a.slice([e,0],[n-e,r]),m=f.mul(s);if(0===e)a=h.sub(m.matMul(s.transpose().matMul(h)));else{var v=h.sub(m.matMul(s.transpose().matMul(h)));a=a.slice([0,0],[e,r]).concat(v,0)}var g=o.slice([0,e],[n,o.shape[1]-e]);if(0===e)o=g.sub(g.matMul(s).matMul(m.transpose()));else{var y=g.sub(g.matMul(s).matMul(m.transpose()));o=o.slice([0,0],[n,e]).concat(y,1)}return[s,a,o]}),s=t[0],a=t[1],o=t[2],R_([l,u,c])},c=0;c<l;++c)u(c);return!t&&n>r&&(o=o.slice([0,0],[n,r]),a=a.slice([0,0],[r,r])),[o,a]})}var uj=U_({bandPart_:function(e,t,n){if(t%1!=0)throw new Error("bandPart(): numLower must be an integer, got "+t+".");if(n%1!=0)throw new Error("bandPart(): numUpper must be an integer, got "+n+".");var r=A_(e,"a","bandPart");if(r.rank<2)throw new Error("bandPart(): Rank must be at least 2, got "+r.rank+".");var o=r.shape,a=r.shape.slice(-2),i=a[0],s=a[1];if(!(t<=i))throw new Error("bandPart(): numLower ("+t+") must not be greater than the number of rows ("+i+").");if(!(n<=s))throw new Error("bandPart(): numUpper ("+n+") must not be greater than the number of columns ("+s+").");t<0&&(t=i),n<0&&(n=s);var l=nI(0,i,1,"int32").reshape([-1,1]),u=nI(0,s,1,"int32"),c=dO(l,u),d=zM(c.lessEqual(X_(+t,"int32")),c.greaterEqual(X_(-n,"int32"))),p=eI([i,s],r.dtype);return GI($I(r.reshape([-1,i,s])).map(function(e){return HM(d,e,p)})).reshape(o)}}),cj=U_({gramSchmidt_:function(e){var t;if(Array.isArray(e)){t=!1,uE(null!=e&&e.length>0,function(){return"Gram-Schmidt process: input must not be null, undefined, or empty"});for(var n=e[0].shape[0],r=function(t){uE(e[t].shape[0]===n,function(){return"Gram-Schmidt: Non-unique lengths found in the input vectors: ("+e[t].shape[0]+" vs. "+n+")"})},o=1;o<e.length;++o)r(o)}else t=!0,e=cI(e,e.shape[0],0).map(function(e){return qI(e,[0])});uE(e.length<=e[0].shape[0],function(){return"Gram-Schmidt: Number of vectors ("+e.length+") exceeds number of dimensions ("+e[0].shape[0]+")."});var a=[],i=e,s=function(e){a.push(bR.tidy(function(){var t=i[e];if(e>0)for(var n=0;n<e;++n){var r=bD(a[n].mulStrict(t)).mul(a[n]);t=t.sub(r)}return t.div(TD(t,"euclidean"))}))};for(o=0;o<e.length;++o)s(o);return t?GI(a,0):a}}),dj=U_({qr_:function(e,t){if(void 0===t&&(t=!1),e.rank<2)throw new Error("qr() requires input tensor to have a rank >= 2, but got rank "+e.rank);if(2===e.rank)return lj(e,t);var n=e.shape.slice(0,e.shape.length-2).reduce(function(e,t){return e*t}),r=$I(e.reshape([n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),o=[],a=[];return r.forEach(function(e){var n=lj(e,t),r=n[0],i=n[1];o.push(r),a.push(i)}),[GI(o,0).reshape(e.shape),GI(a,0).reshape(e.shape)]}}),pj=Object.freeze({bandPart:uj,gramSchmidt:cj,qr:dj});function fj(e,t,n,r,o,a){null==r&&(r=.5),null==o&&(o=Number.NEGATIVE_INFINITY),null==a&&(a=0);var i=e.shape[0];return n=Math.min(n,i),uE(0<=r&&r<=1,function(){return"iouThreshold must be in [0, 1], but was '"+r+"'"}),uE(2===e.rank,function(){return"boxes must be a 2D tensor, but was of rank '"+e.rank+"'"}),uE(4===e.shape[1],function(){return"boxes must have 4 columns, but 2nd dimension was "+e.shape[1]}),uE(1===t.rank,function(){return"scores must be a 1D tensor"}),uE(t.shape[0]===i,function(){return"scores has incompatible shape with boxes. Expected "+i+", but was "+t.shape[0]}),uE(0<=a&&a<=1,function(){return"softNmsSigma must be in [0, 1], but was '"+a+"'"}),{maxOutputSize:n,iouThreshold:r,scoreThreshold:o,softNmsSigma:a}}var hj=U_({resizeBilinear_:function(e,t,n){void 0===n&&(n=!1);var r=A_(e,"images","resizeBilinear");uE(3===r.rank||4===r.rank,function(){return"Error in resizeBilinear: x must be rank 3 or 4, but got rank "+r.rank+"."}),uE(2===t.length,function(){return"Error in resizeBilinear: new shape must 2D, but got shape "+t+"."});var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],l=bR.runKernelFunc(function(e,t){return t([o]),e.resizeBilinear(o,i,s,n)},{x:o},function(e,t){return{x:function(){return bR.runKernelFunc(function(r){return r.resizeBilinearBackprop(e,t[0],n)},{})}}},"ResizeBilinear",{alignCorners:n,newHeight:i,newWidth:s});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),mj=U_({resizeNearestNeighbor_:function(e,t,n){void 0===n&&(n=!1);var r=A_(e,"images","resizeNearestNeighbor");uE(3===r.rank||4===r.rank,function(){return"Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank "+r.rank+"."}),uE(2===t.length,function(){return"Error in resizeNearestNeighbor: new shape must 2D, but got shape "+t+"."}),uE("float32"===r.dtype||"int32"===r.dtype,function(){return"`images` must have `int32` or `float32` as dtype"});var o=r,a=!1;3===r.rank&&(a=!0,o=r.as4D(1,r.shape[0],r.shape[1],r.shape[2]));var i=t[0],s=t[1],l=bR.runKernelFunc(function(e,t){return t([o]),e.resizeNearestNeighbor(o,i,s,n)},{batchImages:o},function(e,t){return{batchImages:function(){return bR.runKernelFunc(function(r){return r.resizeNearestNeighborBackprop(e,t[0],n)},{})}}});return a?l.as3D(l.shape[1],l.shape[2],l.shape[3]):l}}),vj=U_({nonMaxSuppression_:function(e,t,n,r,o){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY);var a=A_(e,"boxes","nonMaxSuppression"),i=A_(t,"scores","nonMaxSuppression"),s=fj(a,i,n,r,o);n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold;var l={maxOutputSize:n,iouThreshold:r,scoreThreshold:o};return bR.runKernelFunc(function(e){return e.nonMaxSuppression(a,i,n,r,o)},{boxes:a,scores:i},null,"NonMaxSuppressionV3",l)}}),gj=U_({nonMaxSuppressionWithScore_:function(e,t,n,r,o,a){void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=0);var i=A_(e,"boxes","nonMaxSuppression"),s=A_(t,"scores","nonMaxSuppression"),l=fj(i,s,n,r,o,a),u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:o=l.scoreThreshold,softNmsSigma:a=l.softNmsSigma},c=bR.runKernel("NonMaxSuppressionV5",{boxes:i,scores:s},u);return{selectedIndices:c[0],selectedScores:c[1]}}}),yj=U_({cropAndResize_:function(e,t,n,r,o,a){var i=A_(e,"image","cropAndResize"),s=A_(t,"boxes","cropAndResize","float32"),l=A_(n,"boxInd","cropAndResize","int32");o=o||"bilinear",a=a||0;var u=s.shape[0];return uE(4===i.rank,function(){return"Error in cropAndResize: image must be rank 4,but got rank "+i.rank+"."}),uE(2===s.rank&&4===s.shape[1],function(){return"Error in cropAndResize: boxes must be have size ["+u+",4] but had shape "+s.shape+"."}),uE(1===l.rank&&l.shape[0]===u,function(){return"Error in cropAndResize: boxInd must be have size ["+u+"] but had shape "+s.shape+"."}),uE(2===r.length,function(){return"Error in cropAndResize: cropSize must be of length 2, but got length "+r.length+"."}),uE(r[0]>=1&&r[1]>=1,function(){return"cropSize must be atleast [1,1], but was "+r}),uE("bilinear"===o||"nearest"===o,function(){return"method must be bilinear or nearest, but was "+o}),bR.runKernelFunc(function(e,t){return e.cropAndResize(i,s,l,r,o,a)},{images:i,boxes:s,boxInd:l},null,"CropAndResize",{method:o,extrapolationValue:a,cropSize:r})}}),bj=Object.freeze({resizeBilinear:hj,resizeNearestNeighbor:mj,nonMaxSuppression:vj,nonMaxSuppressionAsync:function(e,t,n,r,o){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),Kk(this,void 0,void 0,function(){var a,i,s,l,u,c,d;return Xk(this,function(p){switch(p.label){case 0:return a=A_(e,"boxes","nonMaxSuppressionAsync"),i=A_(t,"scores","nonMaxSuppressionAsync"),s=fj(a,i,n,r,o),n=s.maxOutputSize,r=s.iouThreshold,o=s.scoreThreshold,[4,Promise.all([a.data(),i.data()])];case 1:return l=p.sent(),u=l[0],c=l[1],d=VT(u,c,n,r,o),a!==e&&a.dispose(),i!==t&&i.dispose(),[2,d]}})})},nonMaxSuppressionWithScore:gj,nonMaxSuppressionWithScoreAsync:function(e,t,n,r,o,a){return void 0===r&&(r=.5),void 0===o&&(o=Number.NEGATIVE_INFINITY),void 0===a&&(a=0),Kk(this,void 0,void 0,function(){var i,s,l,u,c,d,p;return Xk(this,function(f){switch(f.label){case 0:return i=A_(e,"boxes","nonMaxSuppressionAsync"),s=A_(t,"scores","nonMaxSuppressionAsync"),l=fj(i,s,n,r,o,a),n=l.maxOutputSize,r=l.iouThreshold,o=l.scoreThreshold,a=l.softNmsSigma,[4,Promise.all([i.data(),s.data()])];case 1:return u=f.sent(),c=u[0],d=u[1],p=HT(c,d,n,r,o,a),i!==e&&i.dispose(),s!==t&&s.dispose(),[2,p]}})})},cropAndResize:yj}),xj=function(e,t){return!(e>0)||"linear"===t},wj=function(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return e.mul(t.step());throw new Error("Gradient for activation "+n+" has not been implemented yet.")},Sj=function(e,t){var n=t,r=xT(e.shape,t.shape);return r.length>0&&(n=n.sum(r)),n.reshape(e.shape)},Cj=function(e,t,n){if("linear"===t)return e;if("relu"===t)return kD(e);if("elu"===t)return wD(e);if("relu6"===t)return ED(e);if("prelu"===t)return CD(e,n);throw new Error("Unknown fused activation "+t+".")},kj=U_({fusedMatMul_:function(e){var t,n=e.a,r=e.b,o=e.transposeA,a=void 0!==o&&o,i=e.transposeB,s=void 0!==i&&i,l=e.bias,u=e.activation,c=void 0===u?"linear":u,d=e.preluActivationWeights;if(!1===xj(bR.state.gradientDepth,c)){var p=VO(n,r,a,s);return null!=l&&(p=GM(p,l)),Cj(p,c,d)}var f=A_(n,"a","fused matMul"),h=A_(r,"b","fused matMul");t=fR(f,h),f=t[0],h=t[1];var m=a?f.shape[f.rank-2]:f.shape[f.rank-1],v=s?h.shape[h.rank-1]:h.shape[h.rank-2],g=a?f.shape[f.rank-1]:f.shape[f.rank-2],y=s?h.shape[h.rank-2]:h.shape[h.rank-1],b=f.shape.slice(0,-2),x=h.shape.slice(0,-2),w=fE(b),S=fE(x);uE(f.rank>=2&&h.rank>=2&&f.rank===h.rank,function(){return"Error in fused matMul: inputs must have the same rank of at least 2, got ranks "+f.rank+" and "+h.rank+"."}),uE(hE(b,x),function(){return"Error in fused matMul: outer dimensions ("+b+") and ("+x+") of Tensors with shapes "+f.shape+" and "+h.shape+" must match."}),uE(m===v,function(){return"Error in fused matMul: inner shapes ("+m+") and ("+v+") of Tensors with shapes "+f.shape+" and "+h.shape+" and transposeA="+a+" and transposeB="+s+" must match."});var C,k,E=f.shape.slice(0,-2).concat([g,y]),R=a?f.as3D(w,m,g):f.as3D(w,g,m),_=s?h.as3D(S,y,v):h.as3D(S,v,y);null!=l&&wT(E,(C=fR(C=A_(l,"bias","fused matMul"),f)[0]).shape),null!=d&&(k=A_(d,"prelu weights","fused matMul"));var I={a:R,b:_};null!=l&&(I.bias=C),null!=d&&(I.preluActivationWeights=k);var T=[R,_];return bR.runKernelFunc(function(e,t){var n=e.fusedBatchMatMul({a:R,b:_,transposeA:a,transposeB:s,bias:C,activation:c,preluActivationWeights:k});return t([R,_,n]),n},I,function(e,t){var n=t[0],r=t[1],o=t[2],i=wj(e,o,c),u={};return null!=l&&(u={bias:function(){return Sj(C,i)}}),a||s?!a&&s?Object.assign({a:function(){return i.matMul(r,!1,!1)},b:function(){return i.matMul(n,!0,!1)}},u):a&&!s?Object.assign({a:function(){return r.matMul(i,!1,!0)},b:function(){return n.matMul(i,!1,!1)}},u):Object.assign({a:function(){return r.matMul(i,!0,!0)},b:function(){return i.matMul(n,!0,!0)}},u):Object.assign({a:function(){return i.matMul(r,!1,!0)},b:function(){return n.matMul(i,!0,!1)}},u)},"_FusedMatMul",{transposeA:a,transposeB:s,activation:c},T,[!0]).reshape(E)}}),Ej=U_({fusedConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=void 0===a?"NHWC":a,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights;if(p=p||"linear",!1===xj(bR.state.gradientDepth,p)){var h=MO(t,n,r,o,i,l,u);return null!=c&&(h=GM(h,c)),Cj(h,p,f)}var m=A_(t,"x","conv2d"),v=A_(n,"filter","conv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),uE(4===g.rank,function(){return"Error in fused conv2d: input must be rank 4, but got rank "+g.rank+"."}),uE(4===v.rank,function(){return"Error in fused conv2d: filter must be rank 4, but got rank "+v.rank+"."}),null!=u&&uE(mE(o),function(){return"Error in fused conv2d: pad must be an integer when using, dimRoundingMode "+u+" but got pad "+o+"."}),uE(g.shape[3]===v.shape[2],function(){return"Error in conv2d: depth of input ("+g.shape[3]+") must match input depth for filter "+v.shape[2]+"."}),uE(NT(r,l),function(){return"Error in conv2D: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),uE("NHWC"===i,function(){return"Error in conv2d: got dataFormat of "+i+" but only NHWC is currently supported."});var b,x,w=kT(g.shape,v.shape,r,l,o,u);null!=c&&(b=fR(b=A_(c,"bias","fused conv2d"),m)[0],wT(w.outShape,b.shape)),null!=f&&(x=A_(f,"prelu weights","fused conv2d"));var S={x:g,filter:v};null!=c&&(S.bias=b),null!=f&&(S.preluActivationWeights=x);var C=[v,g],k=bR.runKernelFunc(function(e,t){var n=e.fusedConv2d({input:g,filter:v,convInfo:w,bias:b,activation:p,preluActivationWeights:x});return t([v,g,n]),n},S,function(e,t){var n=t,a=n[0],i=n[1],s=n[2],u=wj(e,s,p);uE(PT(l),function(){return"Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '"+l+"'"});var d={};return null!=c&&(d={bias:function(){return Sj(b,u)}}),Object.assign({x:function(){return jO(i.shape,u,a,r,o)},filter:function(){return DO(i,u,a.shape,r,o)}},d)},"FusedConv2D",{convInfo:w,activation:p},C,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),Rj=U_({fusedDepthwiseConv2d_:function(e){var t=e.x,n=e.filter,r=e.strides,o=e.pad,a=e.dataFormat,i=void 0===a?"NHWC":a,s=e.dilations,l=void 0===s?[1,1]:s,u=e.dimRoundingMode,c=e.bias,d=e.activation,p=void 0===d?"linear":d,f=e.preluActivationWeights;if(!1===xj(bR.state.gradientDepth,p)){var h=FO(t,n,r,o,i,l,u);return null!=c&&(h=GM(h,c)),Cj(h,p,f)}var m=A_(t,"x","depthwiseConv2d"),v=A_(n,"filter","depthwiseConv2d"),g=m,y=!1;3===m.rank&&(y=!0,g=m.as4D(1,m.shape[0],m.shape[1],m.shape[2])),uE(4===g.rank,function(){return"Error in fused depthwiseConv2d: input must be rank 4, but got rank "+g.rank+"."}),uE(4===v.rank,function(){return"Error in fused depthwiseConv2d: filter must be rank 4, but got rank "+v.rank+"."}),uE(g.shape[3]===v.shape[2],function(){return"Error in fused depthwiseConv2d: number of input channels ("+g.shape[3]+") must match the inChannels dimension in filter "+v.shape[2]+"."}),null==l&&(l=[1,1]),uE(NT(r,l),function(){return"Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides "+r+" and dilations '"+l+"'"}),null!=u&&uE(mE(o),function(){return"Error in fused depthwiseConv2d: pad must be an integer when using dimRoundingMode "+u+" but got pad "+o+"."});var b,x,w=kT(g.shape,v.shape,r,l,o,u,!0);null!=c&&(b=fR(b=A_(c,"bias","fused conv2d"),m)[0],wT(w.outShape,b.shape)),null!=f&&(x=A_(f,"prelu weights","fused depthwiseConv2d"));var S={x:g,filter:v};null!=c&&(S.bias=b),null!=f&&(S.preluActivationWeights=x);var C=[v,g],k=bR.runKernelFunc(function(e,t){var n=e.fusedDepthwiseConv2D({input:g,filter:v,convInfo:w,bias:b,activation:p,preluActivationWeights:x});return t([v,g,n]),n},S,function(e,t){uE(PT(l),function(){return"Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '"+l+"'"});var n=t[0],r=t[1],o=t[2],a=wj(e,o,p),i={};return null!=c&&(i={bias:function(){return Sj(b,a)}}),Object.assign({x:function(){return LO(r.shape,a,n,w)},filter:function(){return BO(r,a,n.shape,w)}},i)},"FusedDepthwiseConv2D",{convInfo:w,activation:p},C,[!0]);return y?k.as3D(k.shape[1],k.shape[2],k.shape[3]):k}}),_j=Object.freeze({matMul:kj,conv2d:Ej,depthwiseConv2d:Rj}),Ij=Object.freeze({image:bj,linalg:pj,losses:sj,spectral:zD,fused:_j,signal:QD,square:VN,squaredDifference:qN,conv1d:NO,conv2d:MO,conv3d:OO,depthwiseConv2d:FO,separableConv2d:zO,conv2dTranspose:WO,conv3dTranspose:UO,op:U_,batchNormalization2d:NM,batchNormalization3d:MM,batchNormalization4d:OM,batchNormalization:DM,batchNorm:jM,batchNorm2d:FM,batchNorm3d:LM,batchNorm4d:BM,booleanMaskAsync:function(e,t,n){return Kk(this,void 0,void 0,function(){var r,o,a,i,s,l,u,c,d,p,f,h,m;return Xk(this,function(v){switch(v.label){case 0:for(r=A_(e,"tensor","boolMask"),o=A_(t,"mask","boolMask","bool"),a=null==n?0:n,i=o.rank,s=r.shape,uE(i>0,function(){return"mask cannot be scalar"}),cE(s.slice(a,a+i),o.shape,"mask's shape must match the first K dimensions of tensor's shape,"),l=1,u=a;u<a+i;u++)l*=s[u];return c=s.slice(0,a).concat([l],s.slice(a+i)),d=r.reshape(c),p=o.reshape([-1]),[4,qM(p)];case 1:return f=v.sent(),h=f.squeeze([1]),m=_O(d,h,a),e!==r&&r.dispose(),t!==o&&o.dispose(),h.dispose(),d.dispose(),p.dispose(),f.dispose(),[2,m]}})})},complex:V_,real:H_,imag:q_,concat:aI,concat1d:iI,concat2d:sI,concat3d:lI,concat4d:uI,split:cI,matMul:VO,dot:HO,outerProduct:qO,reverse:GO,reverse1d:KO,reverse2d:XO,reverse3d:$O,reverse4d:YO,maxPool:ZO,avgPool:eD,pool:tD,maxPool3d:nD,avgPool3d:rD,slice:oD,slice1d:aD,slice2d:iD,slice3d:sD,slice4d:lD,abs:GN,acos:KN,acosh:XN,asin:$N,asinh:YN,atan:QN,atanh:JN,ceil:ZN,clipByValue:eM,cos:tM,cosh:nM,erf:rM,exp:oM,expm1:aM,floor:iM,log:sM,log1p:lM,logSigmoid:uM,neg:cM,reciprocal:dM,round:pM,rsqrt:fM,sigmoid:hM,sign:mM,isNaN:vM,isInf:gM,isFinite:yM,sin:bM,sinh:xM,softplus:wM,sqrt:SM,step:CM,tan:kM,tanh:EM,all:cD,any:dD,argMax:pD,argMin:fD,logSumExp:hD,max:mD,mean:vD,min:gD,moments:yD,sum:bD,prod:xD,equal:fO,equalStrict:hO,greater:mO,greaterEqual:vO,greaterEqualStrict:gO,greaterStrict:yO,less:bO,lessEqual:xO,lessEqualStrict:wO,lessStrict:SO,notEqual:CO,notEqualStrict:kO,add:GM,addN:KM,addStrict:XM,atan2:$M,div:YM,divNoNan:QM,divStrict:JM,floorDiv:ZM,maximum:eO,maximumStrict:tO,minimum:nO,minimumStrict:rO,mod:oO,modStrict:aO,mul:iO,mulStrict:sO,pow:lO,powStrict:uO,squaredDifferenceStrict:cO,sub:dO,subStrict:pO,elu:wD,leakyRelu:SD,prelu:CD,relu:kD,relu6:ED,selu:RD,logicalAnd:zM,logicalNot:WM,logicalOr:UM,logicalXor:VM,where:HM,whereAsync:qM,buffer:CI,print:function(e,t){void 0===t&&(t=!1),console.log(e.toString(t))},batchToSpaceND:kI,broadcastTo:EI,cast:RI,clone:_I,cumsum:II,depthToSpace:TI,expandDims:AI,eye:PI,multinomial:NI,oneHot:MI,pad:OI,pad1d:DI,pad2d:jI,pad3d:FI,pad4d:LI,rand:BI,randomNormal:zI,randomGamma:WI,randomUniform:UI,reshape:VI,spaceToBatchND:HI,squeeze:qI,stack:GI,tile:KI,truncatedNormal:XI,unstack:$I,setdiff1dAsync:function(e,t){return Kk(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c,d;return Xk(this,function(p){switch(p.label){case 0:return n=A_(e,"x","setdiff1d"),r=A_(t,"y","setdiff1d"),uE(n.dtype===r.dtype,function(){return"x and y should have the same dtype, but got x ("+n.dtype+") and y ("+r.dtype+")."}),uE(1===n.rank,function(){return"x should be 1D tensor, but got x ("+n.shape+")."}),uE(1===r.rank,function(){return"y should be 1D tensor, but got y ("+r.shape+")."}),[4,n.data()];case 1:return o=p.sent(),[4,r.data()];case 2:for(a=p.sent(),i=new Set(a),s=0,c=0;c<o.length;c++)i.has(o[c])||s++;for(l=new ZE([s],n.dtype),u=new ZE([s],"int32"),c=0,d=0;c<o.length;c++)i.has(o[c])||(l.values[d]=o[c],u.values[d]=c,d++);return[2,[l.toTensor(),u.toTensor()]]}})})},fill:tI,linspace:function(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");return bR.runKernelFunc(function(r){return r.linspace(e,t,n)},{})},ones:Z_,range:nI,scalar:X_,tensor:G_,tensor1d:$_,tensor2d:Y_,tensor3d:Q_,tensor4d:J_,tensor5d:function(e,t,n){if(dE(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");var r=I_(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return K_(e,t,r,n)},tensor6d:function(e,t,n){if(dE(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");var r=I_(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return K_(e,t=t||r,r,n)},variable:function(e,t,n,r){return void 0===t&&(t=!0),bR.makeVariable(e,t,n,r)},zeros:eI,onesLike:rI,zerosLike:oI,transpose:_D,softmax:hT,logSoftmax:mT,localResponseNormalization:ID,norm:TD,gather:_O,unsortedSegmentSum:IO,basicLSTMCell:AD,multiRNNCell:PD,movingAverage:ND,stridedSlice:MD,topk:OD,scatterND:DD,fft:jD,ifft:FD,rfft:LD,irfft:BD,sparseToDense:WD,gatherND:UD,diag:VD,dropout:HD,hannWindow:KD,hammingWindow:XD,frame:$D,stft:YD,inTopKAsync:function(e,t,n){return void 0===n&&(n=1),Kk(this,void 0,void 0,function(){var r,o,a,i,s,l,u,c,d,p,f,h,m,v;return Xk(this,function(g){switch(g.label){case 0:return r=A_(e,"predictions","inTopK"),o=A_(t,"targets","inTopK"),uE(r.rank>1,function(){return"inTopK() expects the predictions to be of rank 2 or higher, but got "+r.rank}),uE(r.rank-1===o.rank,function(){return"predictions rank should be 1 larger than targets rank, but got predictions rank "+r.rank+" and targets rank "+o.rank}),cE(r.shape.slice(0,r.shape.length-1),o.shape,"predictions's shape should be align with the targets' shape, except the last dimension."),a=r.shape[r.shape.length-1],uE(n>0&&n<=a,function(){return"'k' passed to inTopK() must be > 0 && <= the predictions last dimension ("+a+"), but got "+n}),[4,r.data()];case 1:return i=g.sent(),[4,o.data()];case 2:for(s=g.sent(),l=[i.length/a,a],c=l[1],d=CE("bool",u=l[0]),p=0;p<u;p++){for(f=p*c,h=i.subarray(f,f+c),m=[],v=0;v<h.length;v++)m.push({value:h[v],index:v});for(m.sort(function(e,t){return t.value-e.value}),d[p]=0,v=0;v<n;v++)if(m[v].index===s[p]){d[p]=1;break}}return e!==r&&r.dispose(),t!==o&&o.dispose(),[2,G_(d,o.shape,"bool")]}})})}});function Tj(e,t){Array.isArray(e)||(e=[e]),e.forEach(function(e){null!=e&&uE("complex64"!==e.dtype,function(){return t+" does not support complex64 tensors."})})}function Aj(e,t,n,r){if("linear"===n)return e.linear(t);if("relu"===n)return e.relu(t);if("elu"===n)return e.elu(t);if("relu6"===n)return e.relu6(t);if("prelu"===n)return e.prelu(t,r);throw new Error("Activation "+n+" has not been implemented for the CPU backend.")}var Pj=function(e){function t(){var t=e.call(this)||this;return t.blockSize=48,t.firstUse=!0,t.data=new vT(t,bR),t}return Gk(t,e),t.prototype.write=function(e,t,n){this.firstUse&&(this.firstUse=!1,Yk().get("IS_NODE")&&__("\n============================\nHi there \ud83d\udc4b. Looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, which binds to TensorFlow C++, by running npm i @tensorflow/tfjs-node, or npm i @tensorflow/tfjs-node-gpu if you have CUDA. Then call require('@tensorflow/tfjs-node'); (-gpu suffix for CUDA) at the start of your program. Visit https://github.com/tensorflow/tfjs-node for more details.\n============================"));var r={};return this.data.set(r,{values:e,dtype:n}),r},t.prototype.move=function(e,t,n,r){this.data.set(e,{values:t,dtype:r})},t.prototype.numDataIds=function(){return this.data.numDataIds()},t.prototype.read=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){return[2,this.readSync(e)]})})},t.prototype.readSync=function(e){var t=this.data.get(e),n=t.dtype,r=t.complexTensors;return"complex64"===n?FT(this.readSync(r.real.dataId),this.readSync(r.imag.dataId)):this.data.get(e).values},t.prototype.bufferSync=function(e){var t=this.readSync(e.dataId),n=t;if("string"===e.dtype)try{n=t.map(function(e){return qE(e)})}catch(e){throw new Error("Failed to decode encoded string bytes into utf-8")}return CI(e.shape,e.dtype,n)},t.prototype.makeOutput=function(e,t,n){var r=this.write(e,t,n);return bR.makeTensorFromDataId(r,t,n,this)},t.prototype.disposeData=function(e){if(this.data.has(e)){var t=this.data.get(e).complexTensors;null!=t&&(t.real.dispose(),t.imag.dispose()),this.data.delete(e)}},t.prototype.time=function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){return t=UE(),e(),[2,{kernelMs:UE()-t}]})})},t.prototype.memory=function(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}},t.prototype.complex=function(e,t){var n=this.makeOutput(null,e.shape,"complex64");return this.data.get(n.dataId).complexTensors={real:bR.keep(e.clone()),imag:bR.keep(t.clone())},n},t.prototype.real=function(e){return this.data.get(e.dataId).complexTensors.real.clone()},t.prototype.imag=function(e){return this.data.get(e.dataId).complexTensors.imag.clone()},t.prototype.slice=function(e,t,n){if(Tj(e,"slice"),dT(e.shape,t,n)){var r=pT(t,e.strides),o=fE(n);return G_(this.readSync(e.dataId).subarray(r,r+o),n,e.dtype)}for(var a=CI(n,e.dtype),i=this.bufferSync(e),s=0;s<a.size;++s){var l=a.indexToLoc(s).map(function(e,n){return e+t[n]});a.values[s]=i.get.apply(i,l)}return a.toTensor()},t.prototype.stridedSlice=function(e,t,n,r){Tj(e,"stridedSlice");var o=lT(t,n,r);if(o.some(function(e){return 0===e}))return G_([],o);for(var a=CI(o,e.dtype),i=this.bufferSync(e),s=0;s<a.size;s++){for(var l=a.indexToLoc(s),u=new Array(l.length),c=0;c<u.length;c++)u[c]=l[c]*r[c]+t[c];a.set.apply(a,[i.get.apply(i,u)].concat(l))}return a.toTensor()},t.prototype.diag=function(e){for(var t=this.readSync(e.dataId),n=CI([e.size,e.size],e.dtype),r=n.values,o=0;o<t.length;o++)r[o*e.size+o]=t[o];return n.toTensor()},t.prototype.unstack=function(e,t){for(var n=e.shape[t],r=new Array(e.rank-1),o=0,a=0;a<e.rank;a++)a!==t&&(r[o++]=e.shape[a]);var i=new Array(e.rank).fill(0),s=e.shape.slice();s[t]=1;var l=new Array(n);for(a=0;a<l.length;a++)i[t]=a,l[a]=this.slice(e,i,s).reshape(r);return l},t.prototype.reverse=function(e,t){Tj(e,"reverse");for(var n=CI(e.shape,e.dtype),r=this.bufferSync(e),o=function(o){var a=n.indexToLoc(o),i=a.slice();t.forEach(function(t){return i[t]=e.shape[t]-1-i[t]}),n.set.apply(n,[r.get.apply(r,i)].concat(a))},a=0;a<n.size;a++)o(a);return n.toTensor()},t.prototype.concat=function(e,t){var n=this;if("complex64"===e[0].dtype){var r=e.map(function(e){return H_(e)}),o=e.map(function(e){return q_(e)});return V_(this.concat(r,t),this.concat(o,t))}var a=e.map(function(e){var n=fE(e.shape.slice(t));return e.as2D(-1,n)}),i=W_(a.map(function(e){return e.shape}),1),s=CI(i,e[0].dtype).values;if(1===a[0].shape[0]){var l=0;a.forEach(function(e){s.set(n.readSync(e.dataId),l),l+=e.size})}else{var u=0;a.forEach(function(e){for(var t=n.readSync(e.dataId),r=0,o=0;o<e.shape[0];++o)for(var a=o*i[1]+u,l=0;l<e.shape[1];++l)s[a+l]=t[r++];u+=e.shape[1]})}var c=W_(e.map(function(e){return e.shape}),t);return G_(s,c,e[0].dtype)},t.prototype.neg=function(e){return Tj(e,"neg"),this.multiply(X_(-1),e)},t.prototype.add=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e+n,imag:t+r}}):this.broadcastedBinaryOp(e,t,dR(e.dtype,t.dtype),function(e,t){return e+t})},t.prototype.addN=function(e){var t=this;Tj(e,"addN");for(var n=e.map(function(e){return t.readSync(e.dataId)}),r=CI(e[0].shape,e[0].dtype),o=r.values,a=0;a<e.length;a++)for(var i=n[a],s=0;s<o.length;s++)o[s]+=i[s];return r.toTensor()},t.prototype.softmax=function(e,t){var n=wE([t],e.shape),r=this.max(e,n),o=D_(r.shape,n),a=this.subtract(e,r.reshape(o)),i=this.exp(a),s=this.sum(i,n).reshape(o);return this.realDivide(i,s)},t.prototype.subtract=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e-n,imag:t-r}}):this.broadcastedBinaryOp(e,t,dR(e.dtype,t.dtype),function(e,t){return e-t})},t.prototype.pow=function(e,t){return Tj([e,t],"pow"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.pow(e,t)})},t.prototype.batchMatMul=function(e,t,n,r){Tj([e,t],"matMul");for(var o=n?e.shape[1]:e.shape[2],a=n?e.shape[2]:e.shape[1],i=r?t.shape[1]:t.shape[2],s=e.shape[0],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=n?[e.strides[0],1,e.strides[1]]:[e.strides[0],e.strides[1],1],d=c[0],p=c[1],f=c[2],h=r?[1,t.strides[1],t.strides[0]]:[t.strides[1],1,t.strides[0]],m=h[0],v=h[1],g=h[2],y=a*i,b=CI([s,a,i],e.dtype),x=b.values,w=this.blockSize,S=0;S<s;S++)for(var C=0;C<a;C+=w)for(var k=0;k<i;k+=w)for(var E=0;E<o;E+=w)for(var R=Math.min(C+w,a),_=Math.min(k+w,i),I=Math.min(E+w,o),T=C;T<R;T++)for(var A=k;A<_;A++){for(var P=0,N=E;N<I;N++)P+=l[S*d+T*p+N*f]*u[N*m+A*v+S*g];x[S*y+(T*i+A)]+=P}return b.toTensor()},t.prototype.fusedBatchMatMul=function(e){var t=e.a,n=e.b,r=e.transposeA,o=e.transposeB,a=e.bias,i=e.activation,s=e.preluActivationWeights,l=this.batchMatMul(t,n,r,o);return a&&(l=this.add(l,a)),i&&(l=Aj(this,l,i,s)),l},t.prototype.multiply=function(e,t){return"complex64"===e.dtype||"complex64"===t.dtype?this.broadcastedBinaryComplexOp(e.cast("complex64"),t.cast("complex64"),function(e,t,n,r){return{real:e*n-t*r,imag:e*r+t*n}}):this.broadcastedBinaryOp(e,t,dR(e.dtype,t.dtype),function(e,t){return e*t})},t.prototype.realDivide=function(e,t){return Tj([e,t],"realDivide"),this.broadcastedBinaryOp(e,t,"float32",function(e,t){return e/t})},t.prototype.floorDiv=function(e,t){return Tj([e,t],"floorDiv"),this.broadcastedBinaryOp(e,t,"int32",function(e,t){return Math.floor(e/t)})},t.prototype.sum=function(e,t){Tj(e,"sum"),j_("sum",t,e.rank);for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,dR(e.dtype,"int32")),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=0,p=0;p<i;++p)d+=l[c+p];s[u]=d}return a},t.prototype.prod=function(e,t){Tj(e,"sum");for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,dR(e.dtype,"int32")),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=1,p=0;p<i;++p)d*=l[c+p];s[u]=d}return a},t.prototype.unsortedSegmentSum=function(e,t,n){Tj(e,"unsortedSegmentSum");for(var r=[],o=e.rank-t.rank,a=0;a<o;++a)t=t.expandDims(a+1);for(a=0;a<n;++a){var i=X_(a,"int32"),s=fO(i,t).asType("float32").mul(e).sum(0);r.push(s)}return GI(r)},t.prototype.argMin=function(e,t){Tj(e,"argMin");var n=[t];j_("argMin",n,e.rank);for(var r=O_(e.shape,n),o=r[0],a=r[1],i=eI(o,"int32"),s=fE(a),l=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var d=c*s,p=u[d],f=0,h=0;h<s;++h){var m=u[d+h];m<p&&(p=m,f=h)}l[c]=f}return i},t.prototype.argMax=function(e,t){Tj(e,"argMax");var n=[t];j_("argMax",n,e.rank);for(var r=O_(e.shape,n),o=r[0],a=r[1],i=eI(o,"int32"),s=fE(a),l=this.readSync(i.dataId),u=this.readSync(e.dataId),c=0;c<l.length;++c){for(var d=c*s,p=u[d],f=0,h=0;h<s;++h){var m=u[d+h];m>p&&(p=m,f=h)}l[c]=f}return i},t.prototype.cumsum=function(e,t,n,r){if(Tj(e,"cumsum"),t!==e.rank-1)throw new Error("backend.cumsum in CPU expects an inner-most axis="+(e.rank-1)+" but got axis="+t);for(var o=dR(e.dtype,"int32"),a=eI(e.shape,o),i=this.readSync(a.dataId),s=this.readSync(e.dataId),l=e.shape[e.rank-1],u=r?function(e,t){return e+l-t-1}:function(e,t){return e+t},c=0;c<s.length;c+=l)for(var d=0;d<l;d++){var p=u(c,d);if(0===d)i[p]=n?0:s[p];else{var f=u(c,d-1);i[p]=n?s[f]+i[f]:s[p]+i[f]}}return a},t.prototype.equal=function(e,t){return Tj([e,t],"equal"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e===t?1:0})},t.prototype.notEqual=function(e,t){return Tj([e,t],"notEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e!==t?1:0})},t.prototype.less=function(e,t){return Tj([e,t],"less"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<t?1:0})},t.prototype.lessEqual=function(e,t){return Tj([e,t],"lessEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e<=t?1:0})},t.prototype.greater=function(e,t){return Tj([e,t],"greater"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>t?1:0})},t.prototype.greaterEqual=function(e,t){return Tj([e,t],"greaterEqual"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e>=t?1:0})},t.prototype.logicalNot=function(e){Tj(e,"logicalNot");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)n[r]=t[r]?0:1;return this.makeOutput(n,e.shape,"bool")},t.prototype.logicalAnd=function(e,t){return Tj([e,t],"logicalAnd"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e&&t})},t.prototype.logicalOr=function(e,t){return Tj([e,t],"logicalOr"),this.broadcastedBinaryOp(e,t,"bool",function(e,t){return e||t})},t.prototype.select=function(e,t,n){Tj([e,t,n],"select");for(var r=this.readSync(e.dataId),o=this.readSync(t.dataId),a=this.readSync(n.dataId),i=eI(t.shape,dR(t.dtype,n.dtype)),s=this.readSync(i.dataId),l=0,u=0===e.rank||e.rank>1||1===t.rank?1:fE(t.shape.slice(1)),c=0;c<r.length;c++)for(var d=0;d<u;d++)1===r[c]?s[l++]=o[c]:s[l++]=a[c];return i},t.prototype.where=function(e){Tj([e],"where");var t=this.readSync(e.dataId);return JT(e.shape,t)},t.prototype.topk=function(e,t,n){return Tj(e,"topk"),QT(this.readSync(e.dataId),e.shape,e.dtype,t)},t.prototype.min=function(e,t){Tj(e,"min"),j_("min",t,e.rank);for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,e.dtype),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=l[c],p=0;p<i;++p){var f=l[c+p];f<d&&(d=f)}s[u]=d}return a},t.prototype.minimum=function(e,t){return Tj([e,t],"minimum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.min(e,t)})},t.prototype.mod=function(e,t){return Tj([e,t],"mod"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e%t;return e<0&&t<0||e>=0&&t>=0?n:(n+t)%t})},t.prototype.max=function(e,t){Tj(e,"max"),j_("max",t,e.rank);for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,e.dtype),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=l[c],p=0;p<i;++p){var f=l[c+p];f>d&&(d=f)}s[u]=d}return a},t.prototype.maximum=function(e,t){return Tj([e,t],"maximum"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.max(e,t)})},t.prototype.all=function(e,t){Tj(e,"all"),j_("all",t,e.rank);for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,e.dtype),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=l[c],p=0;p<i;++p){var f=l[c+p];d=d&&f}s[u]=d}return a},t.prototype.any=function(e,t){Tj(e,"any"),j_("any",t,e.rank);for(var n=O_(e.shape,t),r=n[0],o=n[1],a=eI(r,e.dtype),i=fE(o),s=this.readSync(a.dataId),l=this.readSync(e.dataId),u=0;u<s.length;++u){for(var c=u*i,d=l[c],p=0;p<i;++p){var f=l[c+p];d=d||f}s[u]=d}return a},t.prototype.squaredDifference=function(e,t){return Tj([e,t],"squaredDifference"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){var n=e-t;return n*n})},t.prototype.ceil=function(e){Tj(e,"ceil");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.ceil(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.floor=function(e){Tj(e,"floor");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.floor(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.sign=function(e){Tj(e,"x");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)t[r]<0?n[r]=-1:t[r]>0?n[r]=1:n[r]=0;return this.makeOutput(n,e.shape,"float32")},t.prototype.isNaN=function(e){Tj(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isNaN(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isInf=function(e){Tj(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Math.abs(t[r])===1/0&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.isFinite=function(e){Tj(e,"x");for(var t=this.readSync(e.dataId),n=new Uint8Array(t.length),r=0;r<t.length;++r)Number.isFinite(t[r])&&(n[r]=1);return this.makeOutput(n,e.shape,"bool")},t.prototype.round=function(e){Tj(e,"round");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=Math.floor(t[r]);t[r]-o<.5?n[r]=Math.floor(t[r]):t[r]-o>.5?n[r]=Math.ceil(t[r]):n[r]=o%2==0?o:o+1}return this.makeOutput(n,e.shape,"float32")},t.prototype.exp=function(e){Tj(e,"exp");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.exp(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.expm1=function(e){Tj(e,"expm1");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=Math.expm1(t[r]);return this.makeOutput(n,e.shape,"float32")},t.prototype.log=function(e){Tj(e,"log");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.log1p=function(e){Tj(e,"log1p");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.log1p(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.sqrt=function(e){Tj(e,"sqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.rsqrt=function(e){Tj(e,"rsqrt");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r){var o=t[r];n[r]=1/Math.sqrt(o)}return this.makeOutput(n,e.shape,"float32")},t.prototype.reciprocal=function(e){Tj(e,"reciprocal");for(var t=this.readSync(e.dataId),n=new Float32Array(t.length),r=0;r<t.length;++r)n[r]=1/t[r];return this.makeOutput(n,e.shape,"float32")},t.prototype.linear=function(e){return e},t.prototype.relu=function(e){Tj(e,"relu");for(var t=eI(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.max(0,r[o]);return t},t.prototype.relu6=function(e){Tj(e,"relu");for(var t=eI(e.shape,e.dtype),n=this.readSync(t.dataId),r=this.readSync(e.dataId),o=0;o<r.length;++o)n[o]=Math.min(Math.max(0,r[o]),6);return t},t.prototype.prelu=function(e,t){return Tj([e,t],"prelu"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return e<0?t*e:e})},t.prototype.elu=function(e){Tj(e,"elu");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=n[r];t[r]=o>=0?o:Math.exp(o)-1}return this.makeOutput(t,e.shape,"float32")},t.prototype.eluDer=function(e,t){Tj([e,t],"eluDer");for(var n=new Float32Array(t.size),r=this.readSync(t.dataId),o=this.readSync(e.dataId),a=0;a<r.length;++a){var i=r[a];n[a]=i>=1?o[a]:o[a]*(i+1)}return this.makeOutput(n,t.shape,"float32")},t.prototype.selu=function(e){Tj(e,"selu");for(var t=pN,n=fN,r=new Float32Array(e.size),o=this.readSync(e.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>=0?n*i:t*(Math.exp(i)-1)}return this.makeOutput(r,e.shape,"float32")},t.prototype.clip=function(e,t,n){Tj(e,"clip");for(var r=new Float32Array(e.size),o=this.readSync(e.dataId),a=0;a<o.length;++a){var i=o[a];r[a]=i>n?n:i<t?t:i}return this.makeOutput(r,e.shape,"float32")},t.prototype.abs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.abs(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.complexAbs=function(e){for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<e.size;++r){var o=n[2*r],a=n[2*r+1];t[r]=Math.hypot(o,a)}return this.makeOutput(t,e.shape,"float32")},t.prototype.int=function(e){Tj(e,"int");for(var t=new Int32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=n[r];return this.makeOutput(t,e.shape,"int32")},t.prototype.sigmoid=function(e){Tj(e,"sigmoid");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=1/(1+Math.exp(-n[r]));return this.makeOutput(t,e.shape,"float32")},t.prototype.softplus=function(e){Tj(e,"softplus");for(var t=Math.log(1.1920928955078125e-7)+2,n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var a,i=r[o]>-t,s=r[o]<t,l=Math.exp(r[o]);a=s?l:i?r[o]:Math.log(1+l),n[o]=a}return this.makeOutput(n,e.shape,"float32")},t.prototype.sin=function(e){Tj(e,"sin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cos=function(e){Tj(e,"cos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tan=function(e){Tj(e,"tan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.tan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asin=function(e){Tj(e,"asin");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asin(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acos=function(e){Tj(e,"acos");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acos(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan=function(e){Tj(e,"atan");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atan(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atan2=function(e,t){return Tj([e,t],"atan2"),this.broadcastedBinaryOp(e,t,e.dtype,function(e,t){return Math.atan2(e,t)})},t.prototype.sinh=function(e){Tj(e,"sinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.sinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.cosh=function(e){Tj(e,"cosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.cosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.tanh=function(e){Tj(e,"tanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=vE(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.asinh=function(e){Tj(e,"asinh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.asinh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.acosh=function(e){Tj(e,"acosh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.acosh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.atanh=function(e){Tj(e,"atanh");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r)t[r]=Math.atanh(n[r]);return this.makeOutput(t,e.shape,"float32")},t.prototype.erf=function(e){Tj(e,"erf");for(var t=new Float32Array(e.size),n=this.readSync(e.dataId),r=0;r<n.length;++r){var o=Math.sign(n[r]),a=Math.abs(n[r]),i=1/(1+.3275911*a);t[r]=o*(1-((((1.061405429*i-1.453152027)*i+1.421413741)*i-.284496736)*i+.254829592)*i*Math.exp(-a*a))}return this.makeOutput(t,e.shape,"float32")},t.prototype.step=function(e,t){void 0===t&&(t=0),Tj(e,"step");for(var n=new Float32Array(e.size),r=this.readSync(e.dataId),o=0;o<r.length;++o){var a=r[o];isNaN(a)?n[o]=NaN:n[o]=a>0?1:t}return this.makeOutput(n,e.shape,"float32")},t.prototype.fusedConv2d=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,a=e.activation,i=e.preluActivationWeights,s=this.conv2d(t,n,r);return o&&(s=this.add(s,o)),a&&(s=Aj(this,s,a,i)),s},t.prototype.conv2d=function(e,t,n){Tj([e,t],"conv2d");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u="channelsLast"===n.dataFormat,c=CI(n.outShape,e.dtype),d=e.strides[0],p=u?e.strides[1]:e.strides[2],f=u?e.strides[2]:1,h=u?1:e.strides[1],m=c.strides[0],v=u?c.strides[1]:c.strides[2],g=u?c.strides[2]:1,y=u?1:c.strides[1],b=this.readSync(e.dataId),x=this.readSync(t.dataId),w=c.values,S=0;S<n.batchSize;++S)for(var C=S*d,k=S*m,E=0;E<n.outHeight;++E)for(var R=k+E*v,_=E*n.strideHeight-l,I=0;I<r;I++){var T=_+I*a;if(!(T<0||T>=n.inHeight))for(var A=I*t.strides[0],P=C+T*p,N=0;N<n.outWidth;++N)for(var M=R+N*g,O=N*n.strideWidth-s,D=0;D<o;D++){var j=O+D*i;if(!(j<0||j>=n.inWidth))for(var F=P+j*f,L=A+D*t.strides[1],B=0;B<n.inChannels;++B){for(var z=b[F+B*h],W=0;W<n.outChannels;++W)w[M+W*y]+=z*x[L+W];L+=n.outChannels}}}return c.toTensor()},t.prototype.conv3d=function(e,t,n){for(var r=n.filterDepth,o=n.filterHeight,a=n.filterWidth,i=n.dilationDepth,s=n.dilationHeight,l=n.dilationWidth,u=n.padInfo.front,c=n.padInfo.left,d=n.padInfo.top,p=CI(n.outShape,e.dtype),f=this.readSync(e.dataId),h=this.readSync(t.dataId),m=p.values,v=0;v<n.batchSize;++v)for(var g=v*e.strides[0],y=v*p.strides[0],b=0;b<n.outDepth;++b)for(var x=y+b*p.strides[1],w=b*n.strideDepth-u,S=0;S<r;S++){var C=w+S*i;if(!(C<0||C>=n.inDepth))for(var k=S*t.strides[0],E=g+C*e.strides[1],R=0;R<n.outHeight;++R)for(var _=x+R*p.strides[2],I=R*n.strideHeight-d,T=0;T<o;T++){var A=I+T*s;if(!(A<0||A>=n.inHeight))for(var P=k+T*t.strides[1],N=E+A*e.strides[2],M=0;M<n.outWidth;++M)for(var O=_+M*n.outChannels,D=M*n.strideWidth-c,j=0;j<a;j++){var F=D+j*l;if(!(F<0||F>=n.inWidth))for(var L=P+j*t.strides[2],B=N+F*n.inChannels,z=L,W=0;W<n.inChannels;++W){for(var U=f[B+W],V=0;V<n.outChannels;++V)m[O+V]+=U*h[z+V];z+=n.outChannels}}}}return p.toTensor()},t.prototype.conv2dDerInput=function(e,t,n){Tj([e,t],"conv2dDerInput");for(var r=CI(n.inShape,"float32"),o=r.values,a=this.readSync(e.dataId),i=this.readSync(t.dataId),s=t.strides,l=s[0],u=s[1],c=s[2],d=n.batchSize,p=n.filterHeight,f=n.filterWidth,h=n.inChannels,m=n.inHeight,v=n.inWidth,g=n.outChannels,y=n.outHeight,b=n.outWidth,x=n.strideHeight,w=n.strideWidth,S=n.dataFormat,C=p-1-n.padInfo.top,k=f-1-n.padInfo.left,E="channelsLast"===S,R=r.strides[0],_=E?r.strides[1]:r.strides[2],I=E?r.strides[2]:1,T=E?1:r.strides[1],A=e.strides[0],P=E?e.strides[1]:e.strides[2],N=E?e.strides[2]:1,M=E?1:e.strides[1],O=0;O<d;++O)for(var D=0;D<h;++D)for(var j=0;j<m;++j)for(var F=j-C,L=Math.max(0,Math.ceil(F/x)),B=Math.min(y,(p+F)/x),z=0;z<v;++z){for(var W=z-k,U=Math.max(0,Math.ceil(W/w)),V=Math.min(b,(f+W)/w),H=0,q=L;q<B;++q)for(var G=q*x-F,K=U;K<V;++K)for(var X=A*O+P*q+N*K,$=l*(p-1-G)+u*(f-1-(K*w-W))+c*D,Y=0;Y<g;++Y)H+=a[X+M*Y]*i[$+Y];o[R*O+_*j+I*z+T*D]=H}return r.toTensor()},t.prototype.conv3dDerInput=function(e,t,n){for(var r=CI(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],l=a[2],u=a[3],c=this.readSync(e.dataId),d=e.strides,p=d[0],f=d[1],h=d[2],m=d[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],x=g[2],w=g[3],S=n.batchSize,C=n.filterDepth,k=n.filterHeight,E=n.filterWidth,R=n.inChannels,_=n.inDepth,I=n.inHeight,T=n.inWidth,A=n.outChannels,P=n.outDepth,N=n.outHeight,M=n.outWidth,O=n.strideDepth,D=n.strideHeight,j=n.strideWidth,F=C-1-n.padInfo.front,L=k-1-n.padInfo.top,B=E-1-n.padInfo.left,z=0;z<S;++z)for(var W=0;W<R;++W)for(var U=0;U<_;++U)for(var V=U-F,H=Math.max(0,Math.ceil(V/O)),q=Math.min(P,(C+V)/O),G=0;G<I;++G)for(var K=G-L,X=Math.max(0,Math.ceil(K/D)),$=Math.min(N,(k+K)/D),Y=0;Y<T;++Y){for(var Q=Y-B,J=Math.max(0,Math.ceil(Q/j)),Z=Math.min(M,(E+Q)/j),ee=0,te=H;te<q;++te)for(var ne=te*O-V,re=X;re<$;++re)for(var oe=re*D-K,ae=J;ae<Z;++ae)for(var ie=p*z+f*te+h*re+m*ae,se=y*(C-1-ne)+b*(k-1-oe)+x*(E-1-(ae*j-Q))+w*W,le=0;le<A;++le)ee+=c[ie+le]*v[se+le];o[i*z+s*U+l*G+u*Y+W]=ee}return r.toTensor()},t.prototype.conv2dDerFilter=function(e,t,n){Tj([e,t],"conv2dDerFilter");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s="channelsLast"===n.dataFormat,l=CI(n.filterShape,"float32"),u=n.padInfo.left,c=n.padInfo.top,d=this.bufferSync(e),p=this.bufferSync(t),f=0;f<a;++f)for(var h=Math.max(0,Math.ceil((c-f)/r)),m=Math.min(n.outHeight,(n.inHeight+c-f)/r),v=0;v<i;++v)for(var g=Math.max(0,Math.ceil((u-v)/o)),y=Math.min(n.outWidth,(n.inWidth+u-v)/o),b=0;b<n.inChannels;++b)for(var x=0;x<n.outChannels;++x){for(var w=0,S=0;S<n.batchSize;++S)for(var C=h;C<m;++C)for(var k=f+C*r-c,E=g;E<y;++E){var R=v+E*o-u;w+=s?d.get(S,k,R,b)*p.get(S,C,E,x):d.get(S,b,k,R)*p.get(S,x,C,E)}l.set(w,f,v,b,x)}return l.toTensor()},t.prototype.conv3dDerFilter=function(e,t,n){for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=CI(n.filterShape,"float32"),c=u.values,d=u.strides,p=d[0],f=d[1],h=d[2],m=d[3],v=this.readSync(t.dataId),g=t.strides,y=g[0],b=g[1],x=g[2],w=g[3],S=this.readSync(e.dataId),C=e.strides,k=C[0],E=C[1],R=C[2],_=C[3],I=n.padInfo.front,T=n.padInfo.left,A=n.padInfo.top,P=0;P<i;++P)for(var N=Math.max(0,Math.ceil((I-P)/r)),M=Math.min(n.outDepth,(n.inDepth+I-P)/r),O=P*p,D=0;D<s;++D)for(var j=Math.max(0,Math.ceil((A-D)/o)),F=Math.min(n.outHeight,(n.inHeight+A-D)/o),L=D*f+O,B=0;B<l;++B)for(var z=Math.max(0,Math.ceil((T-B)/a)),W=Math.min(n.outWidth,(n.inWidth+T-B)/a),U=B*h+L,V=0;V<n.inChannels;++V)for(var H=V*m+U,q=0;q<n.outChannels;++q){for(var G=0,K=0;K<n.batchSize;++K)for(var X=K*k,$=K*y,Y=N;Y<M;++Y)for(var Q=(P+Y*r-I)*E+X,J=Y*b+$,Z=j;Z<F;++Z)for(var ee=(D+Z*o-A)*R+Q,te=Z*x+J,ne=z;ne<W;++ne){var re=ne*w+te;G+=S[(B+ne*a-T)*_+ee+V]*v[re+q]}c[H+q]=G}return u.toTensor()},t.prototype.fusedDepthwiseConv2D=function(e){var t=e.input,n=e.filter,r=e.convInfo,o=e.bias,a=e.activation,i=e.preluActivationWeights,s=this.depthwiseConv2D(t,n,r);return o&&(s=this.add(s,o)),a&&(s=Aj(this,s,a,i)),s},t.prototype.depthwiseConv2D=function(e,t,n){Tj([e,t],"depthwiseConv2D");for(var r=n.filterHeight,o=n.filterWidth,a=n.dilationHeight,i=n.dilationWidth,s=n.padInfo.left,l=n.padInfo.top,u=n.outChannels/n.inChannels,c=CI(n.outShape,e.dtype),d=this.readSync(e.dataId),p=this.readSync(t.dataId),f=c.values,h=0;h<n.batchSize;++h)for(var m=h*e.strides[0],v=h*c.strides[0],g=0;g<n.outHeight;++g)for(var y=v+g*c.strides[1],b=g*n.strideHeight-s,x=0;x<r;++x){var w=b+x*a;if(!(w<0||w>=n.inHeight))for(var S=x*t.strides[0],C=m+w*e.strides[1],k=0;k<n.outWidth;++k)for(var E=y+k*c.strides[2],R=k*n.strideWidth-l,_=0;_<o;++_){var I=R+_*i;if(!(I<0||I>=n.inWidth))for(var T=S+_*t.strides[1],A=C+I*n.inChannels,P=E,N=T,M=0;M<n.inChannels;++M){for(var O=d[A+M],D=0;D<u;++D)f[P+D]+=O*p[N+D];P+=u,N+=u}}}return c.toTensor()},t.prototype.depthwiseConv2DDerInput=function(e,t,n){Tj([e,t],"depthwiseConv2DDerInput");for(var r=CI(n.inShape,"float32"),o=r.values,a=r.strides,i=a[0],s=a[1],l=a[2],u=this.readSync(e.dataId),c=e.strides,d=c[0],p=c[1],f=c[2],h=this.readSync(t.dataId),m=t.strides,v=m[0],g=m[1],y=m[2],b=n.batchSize,x=n.filterHeight,w=n.filterWidth,S=n.inChannels,C=n.inHeight,k=n.inWidth,E=n.outChannels,R=n.outHeight,_=n.outWidth,I=n.strideHeight,T=n.strideWidth,A=x-1-n.padInfo.top,P=w-1-n.padInfo.left,N=E/S,M=0;M<b;++M)for(var O=0;O<S;++O)for(var D=0;D<C;++D)for(var j=D-A,F=Math.max(0,Math.ceil(j/I)),L=Math.min(R,(x+j)/I),B=0;B<k;++B){for(var z=B-P,W=Math.max(0,Math.ceil(z/T)),U=Math.min(_,(w+z)/T),V=0,H=F;H<L;++H)for(var q=H*I-j,G=W;G<U;++G)for(var K=d*M+p*H+f*G,X=v*(x-1-q)+g*(w-1-(G*T-z))+y*O,$=0;$<N;++$)V+=u[K+(O*N+$)]*h[X+$];o[i*M+s*D+l*B+O]=V}return r.toTensor()},t.prototype.depthwiseConv2DDerFilter=function(e,t,n){Tj([e,t],"depthwiseConv2DDerFilter");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=CI(n.filterShape,"float32"),l=n.padInfo.left,u=n.padInfo.top,c=n.outChannels/n.inChannels,d=this.bufferSync(e),p=this.bufferSync(t),f=0;f<a;++f)for(var h=Math.max(0,Math.ceil((u-f)/r)),m=Math.min(n.outHeight,(n.inHeight+u-f)/r),v=0;v<i;++v)for(var g=Math.max(0,Math.ceil((l-v)/o)),y=Math.min(n.outWidth,(n.inWidth+l-v)/o),b=0;b<n.outChannels;++b){for(var x=Math.trunc(b/c),w=b%c,S=0,C=0;C<n.batchSize;++C)for(var k=h;k<m;++k)for(var E=f+k*r-u,R=g;R<y;++R){var _=v+R*o-l;S+=d.get(C,E,_,x)*p.get(C,k,R,b)}s.set(S,f,v,x,w)}return s.toTensor()},t.prototype.tile=function(e,t){return Tj(e,"tile"),YT(this.bufferSync(e),t)},t.prototype.pad=function(e,t,n){Tj(e,"pad");var r=t.map(function(t,n){return t[0]+e.shape[n]+t[1]}),o=t.map(function(e){return e[0]}),a=this.bufferSync(e),i=CI(r,e.dtype);0!==n&&i.values.fill(n);for(var s=0;s<e.size;s++){var l=a.indexToLoc(s),u=l.map(function(e,t){return e+o[t]});i.set.apply(i,[a.get.apply(a,l)].concat(u))}return i.toTensor()},t.prototype.transpose=function(e,t){Tj(e,"transpose");for(var n=new Array(e.rank),r=0;r<n.length;r++)n[r]=e.shape[t[r]];var o=this.readSync(e.dataId),a=CI(n,e.dtype),i=this.bufferSync(e);for(r=0;r<e.size;++r){for(var s=i.indexToLoc(r),l=new Array(s.length),u=0;u<l.length;u++)l[u]=s[t[u]];var c=a.locToIndex(l);a.values[c]=o[r]}return a.toTensor()},t.prototype.gather=function(e,t,n){Tj([e,t],"gather");var r=e.shape.slice(),o=this.readSync(t.dataId);r[n]=o.length;for(var a=CI(r,e.dtype),i=this.bufferSync(e),s=0;s<a.size;++s){var l=a.indexToLoc(s),u=l.slice();u[n]=o[l[n]];var c=i.locToIndex(u);a.values[s]=i.values[c]}return a.toTensor()},t.prototype.batchToSpaceND=function(e,t,n){Tj([e],"batchToSpaceND");var r=t.reduce(function(e,t){return e*t}),o=YI(e.shape,t,r),a=QI(o.length,t.length),i=JI(e.shape,t,r),s=ZI(n,t.length),l=eT(i,n,t.length);return e.reshape(o).transpose(a).reshape(i).slice(s,l)},t.prototype.spaceToBatchND=function(e,t,n){Tj([e],"spaceToBatchND");var r=t.reduce(function(e,t){return e*t}),o=[[0,0]];o.push.apply(o,n);for(var a=1+t.length;a<e.shape.length;++a)o.push([0,0]);var i=e.pad(o),s=YI(i.shape,t,r,!1),l=QI(s.length,t.length,!1),u=JI(i.shape,t,r,!1);return i.reshape(s).transpose(l).reshape(u)},t.prototype.pool=function(e,t,n){Tj(e,"pool");for(var r=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,p=this.readSync(e.dataId),f=CI(t.outShape,e.dtype),h=f.values,m=t.outShape[1]*t.outShape[2]*t.outShape[3],v=t.outShape[2]*t.outShape[3],g=t.outShape[3],y=0;y<t.batchSize;++y)for(var b=y*m,x=y*e.strides[0],w=0;w<t.inChannels;++w)for(var S=0;S<t.outHeight;++S)for(var C=S*r-u,k=Math.max(0,C),E=Math.min(t.inHeight,s+C),R=b+S*v,_=0;_<t.outWidth;++_){for(var I=_*o-c,T=Math.max(0,I),A=Math.min(t.inWidth,l+I),P=d,N=0,M=0,O=k;O<E;O+=a){for(var D=x+O*e.strides[1],j=T;j<A;j+=i){var F=p[D+j*e.strides[2]+w];"max"===n&&F>P?P=F:"avg"===n&&(N+=F,M++)}if(isNaN(P))break}h[R+_*g+w]="avg"===n?N/M:P}return f.toTensor()},t.prototype.maxPool=function(e,t){return this.pool(e,t,"max")},t.prototype.maxPoolPositions=function(e,t){for(var n=CI(t.outShape,"int32"),r=t.strideHeight,o=t.strideWidth,a=t.dilationHeight,i=t.dilationWidth,s=t.effectiveFilterHeight,l=t.effectiveFilterWidth,u=t.padInfo.top,c=t.padInfo.left,d=this.bufferSync(e),p=0;p<t.batchSize;++p)for(var f=0;f<t.inChannels;++f)for(var h=0;h<t.outHeight;++h){for(var m=h*r-u,v=m;v<0;)v+=a;for(var g=Math.min(t.inHeight,s+m),y=0;y<t.outWidth;++y){for(var b=y*o-c,x=b;x<0;)x+=i;for(var w=Math.min(t.inWidth,l+b),S=Number.NEGATIVE_INFINITY,C=-1,k=v;k<g;k+=a)for(var E=k-m,R=x;R<w;R+=i){var _=R-b,I=d.get(p,k,R,f);I>S&&(S=I,C=E*l+_)}n.set(C,p,h,y,f)}}return n.toTensor()},t.prototype.maxPoolBackprop=function(e,t,n,r){Tj([t,n],"maxPoolBackprop");for(var o=this.maxPoolPositions(t,r),a=r.strideHeight,i=r.strideWidth,s=r.dilationHeight,l=r.dilationWidth,u=r.effectiveFilterHeight,c=r.effectiveFilterWidth,d=c-1-r.padInfo.left,p=u-1-r.padInfo.top,f=CI(t.shape,"float32"),h=this.bufferSync(o),m=this.bufferSync(e),v=0;v<r.batchSize;++v)for(var g=0;g<r.inChannels;++g)for(var y=0;y<r.inHeight;++y)for(var b=0;b<r.inWidth;++b){for(var x=y-p,w=b-d,S=0,C=0;C<u;C+=s){var k=(x+C)/a;if(!(k<0||k>=r.outHeight||Math.floor(k)!==k))for(var E=0;E<c;E+=l){var R=(w+E)/i;if(!(R<0||R>=r.outWidth||Math.floor(R)!==R)){var _=u*c-1-h.get(v,k,R,g)===C*c+E?1:0;0!==_&&(S+=m.get(v,k,R,g)*_)}}}f.set(S,v,y,b,g)}return f.toTensor()},t.prototype.avgPoolBackprop=function(e,t,n){Tj([e,t],"avgPoolBackprop");for(var r=n.strideHeight,o=n.strideWidth,a=n.filterHeight,i=n.filterWidth,s=n.dilationHeight,l=n.dilationWidth,u=n.effectiveFilterHeight,c=n.effectiveFilterWidth,d=c-1-n.padInfo.left,p=u-1-n.padInfo.top,f=CI(t.shape,"float32"),h=1/(a*i),m=this.bufferSync(e),v=0;v<n.batchSize;++v)for(var g=0;g<n.inChannels;++g)for(var y=0;y<n.inHeight;++y)for(var b=0;b<n.inWidth;++b){for(var x=y-p,w=b-d,S=0,C=0;C<u;C+=s){var k=(x+C)/r;if(!(k<0||k>=n.outHeight||Math.floor(k)!==k))for(var E=0;E<c;E+=l){var R=(w+E)/o;R<0||R>=n.outWidth||Math.floor(R)!==R||(S+=m.get(v,k,R,g))}}f.set(S*h,v,y,b,g)}return f.toTensor()},t.prototype.pool3d=function(e,t,n){Tj(e,"pool3d");for(var r=t.strideDepth,o=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,m="max"===n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=this.readSync(e.dataId),g=CI(t.outShape,e.dtype),y=g.values,b=t.outShape[1]*t.outShape[2]*t.outShape[3]*t.outShape[4],x=t.outShape[2]*t.outShape[3]*t.outShape[4],w=t.outShape[3]*t.outShape[4],S=t.outShape[4],C=0;C<t.batchSize;++C)for(var k=C*b,E=C*e.strides[0],R=0;R<t.inChannels;++R)for(var _=0;_<t.outDepth;++_){for(var I=_*r-p,T=I;T<0;)T+=i;for(var A=Math.min(t.inDepth,u+I),P=k+_*x,N=0;N<t.outHeight;++N){for(var M=N*o-f,O=M;O<0;)O+=s;for(var D=Math.min(t.inHeight,c+M),j=P+N*w,F=0;F<t.outWidth;++F){for(var L=F*a-h,B=L;B<0;)B+=l;for(var z=Math.min(t.inWidth,d+L),W=j+F*S,U=m,V=0,H=0,q=T;q<A;q+=i){for(var G=E+q*e.strides[1],K=O;K<D;K+=s){for(var X=G+K*e.strides[2],$=B;$<z;$+=l){var Y=v[X+$*e.strides[3]+R];if("max"===n&&Y>U?U=Y:"avg"===n&&(V+=Y,H++),isNaN(U))break}if(isNaN(U))break}if(isNaN(U))break}y[W+R]="avg"===n?V/H:U}}}return g.toTensor()},t.prototype.avgPool3d=function(e,t){return Tj(e,"avgPool3d"),this.pool3d(e,t,"avg").toFloat()},t.prototype.avgPool3dBackprop=function(e,t,n){Tj([e,t],"avgPool3dBackprop");for(var r=n.strideDepth,o=n.strideHeight,a=n.strideWidth,i=n.filterDepth,s=n.filterHeight,l=n.filterWidth,u=n.dilationDepth,c=n.dilationHeight,d=n.dilationWidth,p=n.effectiveFilterDepth,f=n.effectiveFilterHeight,h=n.effectiveFilterWidth,m=p-1-n.padInfo.front,v=h-1-n.padInfo.left,g=f-1-n.padInfo.top,y=CI(t.shape,"float32"),b=1/(i*s*l),x=this.bufferSync(e),w=0;w<n.batchSize;++w)for(var S=0;S<n.inChannels;++S)for(var C=0;C<n.inDepth;++C)for(var k=0;k<n.inHeight;++k)for(var E=0;E<n.inWidth;++E){for(var R=C-m,_=k-g,I=E-v,T=0,A=0;A<p;A+=u){var P=(R+A)/r;if(!(P<0||P>=n.outDepth||Math.floor(P)!==P))for(var N=0;N<f;N+=c){var M=(_+N)/o;if(!(M<0||M>=n.outHeight||Math.floor(M)!==M))for(var O=0;O<h;O+=d){var D=(I+O)/a;D<0||D>=n.outWidth||Math.floor(D)!==D||(T+=x.get(w,P,M,D,S))}}}y.set(T*b,w,C,k,E,S)}return y.toTensor()},t.prototype.maxPool3d=function(e,t){return Tj(e,"maxPool3d"),this.pool3d(e,t,"max").toFloat()},t.prototype.maxPool3dPositions=function(e,t){for(var n=CI(t.outShape,"int32"),r=t.strideDepth,o=t.strideHeight,a=t.strideWidth,i=t.dilationDepth,s=t.dilationHeight,l=t.dilationWidth,u=t.effectiveFilterDepth,c=t.effectiveFilterHeight,d=t.effectiveFilterWidth,p=t.padInfo.front,f=t.padInfo.top,h=t.padInfo.left,m=this.bufferSync(e),v=0;v<t.batchSize;++v)for(var g=0;g<t.inChannels;++g)for(var y=0;y<t.outDepth;++y){for(var b=y*r-p,x=b;x<0;)x+=i;for(var w=Math.min(t.inDepth,u+b),S=0;S<t.outHeight;++S){for(var C=S*o-f,k=C;k<0;)k+=s;for(var E=Math.min(t.inHeight,c+C),R=0;R<t.outWidth;++R){for(var _=R*a-h,I=_;I<0;)I+=l;for(var T=Math.min(t.inWidth,d+_),A=Number.NEGATIVE_INFINITY,P=-1,N=x;N<w;N+=i)for(var M=N-b,O=k;O<E;O+=s)for(var D=O-C,j=I;j<T;j+=l){var F=j-_,L=m.get(v,N,O,j,g);L>=A&&(A=L,P=M*c*d+D*c+F)}n.set(P,v,y,S,R,g)}}}return n.toTensor()},t.prototype.maxPool3dBackprop=function(e,t,n,r){Tj([t,n],"maxPool3dBackprop");for(var o=this.maxPool3dPositions(t,r),a=r.strideDepth,i=r.strideHeight,s=r.strideWidth,l=r.dilationDepth,u=r.dilationHeight,c=r.dilationWidth,d=r.effectiveFilterDepth,p=r.effectiveFilterHeight,f=r.effectiveFilterWidth,h=d-1-r.padInfo.front,m=f-1-r.padInfo.left,v=p-1-r.padInfo.top,g=CI(t.shape,"float32"),y=this.bufferSync(o),b=this.bufferSync(e),x=0;x<r.batchSize;++x)for(var w=0;w<r.inChannels;++w)for(var S=0;S<r.inDepth;++S)for(var C=0;C<r.inHeight;++C)for(var k=0;k<r.inWidth;++k){for(var E=S-h,R=C-v,_=k-m,I=0,T=0;T<d;T+=l){var A=(E+T)/a;if(!(A<0||A>=r.outDepth||Math.floor(A)!==A))for(var P=0;P<p;P+=u){var N=(R+P)/i;if(!(N<0||N>=r.outHeight||Math.floor(N)!==N))for(var M=0;M<f;M+=c){var O=(_+M)/s;if(!(O<0||O>=r.outWidth||Math.floor(O)!==O)){var D=d*p*f-1-y.get(x,A,N,O,w)===T*p*f+P*f+M?1:0;0!==D&&(I+=b.get(x,A,N,O,w)*D)}}}}g.set(I,x,S,C,k,w)}return g.toTensor()},t.prototype.cast=function(e,t){return OT(e,t,this)},t.prototype.reshape=function(e,t){return DT(e,t)},t.prototype.avgPool=function(e,t){return Tj(e,"avgPool"),this.pool(e,t,"avg").toFloat()},t.prototype.resizeBilinear=function(e,t,n,r){Tj(e,"resizeBilinear");for(var o=e.shape,a=o[0],i=o[1],s=o[2],l=o[3],u=this.readSync(e.dataId),c=new Float32Array(fE([a,t,n,l])),d=[r&&t>1?i-1:i,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=0,h=d[0]/p[0],m=d[1]/p[1],v=0;v<a;v++)for(var g=0;g<t;g++)for(var y=h*g,b=Math.floor(y),x=y-b,w=Math.min(i-1,Math.ceil(y)),S=v*e.strides[0]+b*e.strides[1],C=v*e.strides[0]+w*e.strides[1],k=0;k<n;k++)for(var E=m*k,R=Math.floor(E),_=E-R,I=Math.min(s-1,Math.ceil(E)),T=S+R*e.strides[2],A=C+R*e.strides[2],P=S+I*e.strides[2],N=C+I*e.strides[2],M=0;M<l;M++){var O=u[T+M],D=u[A+M],j=O+(u[P+M]-O)*_,F=j+(D+(u[N+M]-D)*_-j)*x;c[f++]=F}return G_(c,[a,t,n,l])},t.prototype.resizeBilinearBackprop=function(e,t,n){Tj([e,t],"resizeBilinearBackprop");for(var r=t.shape,o=r[0],a=r[1],i=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*a*i*s),p=[n&&u>1?a-1:a,n&&c>1?i-1:i],f=[n&&u>1?u-1:u,n&&c>1?c-1:c],h=p[0]/f[0],m=p[1]/f[1],v=this.readSync(e.dataId),g=0,y=0;y<o;y++)for(var b=y*t.strides[0],x=0;x<u;x++)for(var w=x*h,S=Math.floor(w),C=Math.min(Math.ceil(w),a-1),k=b+S*t.strides[1],E=b+C*t.strides[1],R=w-S,_=1-R,I=0;I<c;I++)for(var T=I*m,A=Math.floor(T),P=Math.min(Math.ceil(T),i-1),N=T-A,M=1-N,O=k+A*t.strides[2],D=k+P*t.strides[2],j=E+A*t.strides[2],F=E+P*t.strides[2],L=_*M,B=_*N,z=R*M,W=R*N,U=0;U<s;U++){var V=v[g++];d[O+U]+=V*L,d[D+U]+=V*B,d[j+U]+=V*z,d[F+U]+=V*W}return J_(d,[o,i,a,s],t.dtype)},t.prototype.resizeNearestNeighbor=function(e,t,n,r){Tj(e,"resizeNearestNeighbor");for(var o=e.shape,a=o[0],i=o[1],s=o[2],l=o[3],u=this.readSync(e.dataId),c=new Float32Array(a*t*n*l),d=[r&&t>1?i-1:i,r&&n>1?s-1:s],p=[r&&t>1?t-1:t,r&&n>1?n-1:n],f=d[0]/p[0],h=d[1]/p[1],m=0,v=0;v<a;v++)for(var g=v*e.strides[0],y=0;y<t;y++)for(var b=f*y,x=g+Math.min(i-1,r?Math.round(b):Math.floor(b))*e.strides[1],w=0;w<n;w++)for(var S=h*w,C=x+Math.min(s-1,r?Math.round(S):Math.floor(S))*e.strides[2],k=0;k<l;k++){var E=u[C+k];c[m++]=E}return G_(c,[a,t,n,l],e.dtype)},t.prototype.resizeNearestNeighborBackprop=function(e,t,n){Tj([e,t],"resizeNearestNeighborBackprop");for(var r=t.shape,o=r[0],a=r[1],i=r[2],s=r[3],l=e.shape,u=l[1],c=l[2],d=new Float32Array(o*a*i*s),p=this.readSync(e.dataId),f=[n&&u>1?a-1:a,n&&c>1?i-1:i],h=[n&&u>1?u-1:u,n&&c>1?c-1:c],m=f[0]/h[0],v=f[1]/h[1],g=1/m,y=1/v,b=2*Math.ceil(g)+2,x=2*Math.ceil(y)+2,w=0;w<o;w++)for(var S=w*t.strides[0],C=0;C<a;C++)for(var k=S+C*t.strides[1],E=Math.floor(C*g),R=Math.floor(E-b/2),_=0;_<i;_++)for(var I=k+_*t.strides[2],T=Math.floor(_*y),A=Math.floor(T-x/2),P=0;P<s;P++){for(var N=0,M=0;M<b;M++){var O=M+R;if(!(O<0||O>=u)){var D=S+O*e.strides[1],j=O*m;if(C===Math.min(a-1,n?Math.round(j):Math.floor(j)))for(var F=0;F<x;F++){var L=F+A;if(!(L<0||L>=c)){var B=D+L*e.strides[2],z=L*v;_===Math.min(i-1,n?Math.round(z):Math.floor(z))&&(N+=p[B+P])}}}}d[I+P]=N}return J_(d,t.shape,t.dtype)},t.prototype.batchNormalization=function(e,t,n,r,o,a){Tj([e,t,n,o,a],"batchNorm");for(var i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=this.readSync(n.dataId),u=o?this.readSync(o.dataId):new Float32Array([1]),c=a?this.readSync(a.dataId):new Float32Array([0]),d=new Float32Array(i.length),p=c.length,f=u.length,h=l.length,m=s.length,v=0,g=0,y=0,b=0,x=0;x<i.length;++x)d[x]=c[v++]+(i[x]-s[g++])*u[y++]/Math.sqrt(l[b++]+r),v>=p&&(v=0),g>=m&&(g=0),y>=f&&(y=0),b>=h&&(b=0);return J_(d,e.shape)},t.prototype.localResponseNormalization4D=function(e,t,n,r,o){Tj(e,"localResponseNormalization4D");var a=e.shape[3],i=a-1,s=this.readSync(e.dataId),l=e.size,u=new Float32Array(l);function c(e){for(var n=e%a,r=e-n+Math.max(0,n-t),o=e-n+Math.min(n+t,i),l=0;r<=o;r++){var u=s[r];l+=u*u}return l}for(var d=0;d<l;d++){var p=c(d),f=s[d]*Math.pow(n+r*p,-o);u[d]=f}return J_(u,e.shape)},t.prototype.LRNGrad=function(e,t,n,r,o,a,i){Tj(e,"LRNGrad");for(var s=e.shape[3],l=this.readSync(e.dataId),u=this.readSync(t.dataId),c=this.readSync(n.dataId),d=new Float32Array(e.size),p=e.size,f=0;f<p;f++){for(var h=f%s,m=f-h+Math.max(0,h-r),v=f-h+Math.min(s,h+r+1),g=0,y=m;y<v;y++)g+=Math.pow(u[y],2);for(g=a*g+o,y=m;y<v;y++){var b=-2*a*i*u[y]*c[f]/g;f===y&&(b+=Math.pow(g,-i)),b*=l[f],d[y]+=b}}return J_(d,e.shape)},t.prototype.multinomial=function(e,t,n,r){Tj(e,"multinomial");for(var o=t?e:hT(e),a=o.shape[0],i=o.shape[1],s=eI([a,n],"int32"),l=this.readSync(s.dataId),u=this.readSync(o.dataId),c=0;c<a;++c){var d=c*i,p=new Float32Array(i-1);p[0]=u[d];for(var f=1;f<p.length;++f)p[f]=p[f-1]+u[d+f];for(var h=bI(r.toString()),m=c*n,v=0;v<n;++v){var g=h();l[m+v]=p.length;for(var y=0;y<p.length;y++)if(g<p[y]){l[m+v]=y;break}}}return s},t.prototype.oneHot=function(e,t,n,r){Tj(e,"oneHot");var o=new Float32Array(e.size*t);o.fill(r);for(var a=this.readSync(e.dataId),i=0;i<e.size;++i)a[i]>=0&&a[i]<t&&(o[i*t+a[i]]=n);return Y_(o,[e.size,t],"int32")},t.prototype.nonMaxSuppression=function(e,t,n,r,o){return Tj(e,"nonMaxSuppression"),VT(this.readSync(e.dataId),this.readSync(t.dataId),n,r,o)},t.prototype.fft=function(e){return this.fftBatch(e,!1)},t.prototype.ifft=function(e){return this.fftBatch(e,!0)},t.prototype.fftBatch=function(e,t){for(var n=e.shape[0],r=e.shape[1],o=CI(e.shape,"float32"),a=CI(e.shape,"float32"),i=H_(e).as2D(n,r),s=q_(e).as2D(n,r),l=0;l<n;l++)for(var u=i.slice([l,0],[1,r]),c=s.slice([l,0],[1,r]),d=V_(u,c),p=this.readSync(this.fftImpl(d,t).dataId),f=0;f<r;f++){var h=LT(p,f);o.values[l*r+f]=h.real,a.values[l*r+f]=h.imag}return V_(o.toTensor(),a.toTensor()).as2D(n,r)},t.prototype.fftImpl=function(e,t){var n=e.as1D(),r=n.size;if(this.isExponentOf2(r)){var o=this.fftRadix2(n,r,t).as2D(e.shape[0],e.shape[1]);return t&&(o=V_(H_(o).div(X_(r)),q_(o).div(X_(r)))),o}var a=this.readSync(e.dataId),i=function(e){for(var t=new Float32Array(e.length/2),n=new Float32Array(e.length/2),r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}(this.fourierTransformByMatmul(a,r,t));return V_(i.real,i.imag).as2D(e.shape[0],e.shape[1])},t.prototype.isExponentOf2=function(e){return 0==(e&e-1)},t.prototype.fftRadix2=function(e,t,n){if(1===t)return e;var r=this.readSync(e.dataId),o=t/2,a=function(e){for(var t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=0;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),i=V_(a.real,a.imag).as1D(),s=function(e){for(var t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t),o=2;o<e.length;o+=4)n[Math.floor(o/4)]=e[o],r[Math.floor(o/4)]=e[o+1];return{real:n,imag:r}}(r),l=V_(s.real,s.imag).as1D();i=this.fftRadix2(i,o,n),l=this.fftRadix2(l,o,n);var u=function(e,t){for(var n=new Float32Array(e/2),r=new Float32Array(e/2),o=0;o<Math.ceil(e/2);o++){var a=(t?2:-2)*Math.PI*(o/e);n[o]=Math.cos(a),r[o]=Math.sin(a)}return{real:n,imag:r}}(t,n),c=V_(u.real,u.imag).mul(l),d=i.add(c),p=i.sub(c),f=H_(d).concat(H_(p)),h=q_(d).concat(q_(p));return V_(f,h).as1D()},t.prototype.fourierTransformByMatmul=function(e,t,n){for(var r=new Float32Array(2*t),o=0;o<t;o++){for(var a=0,i=0,s=0;s<t;s++){var l=zT(o*s,t,n),u=LT(e,s);a+=u.real*l.real-u.imag*l.imag,i+=u.real*l.imag+u.imag*l.real}n&&(a/=t,i/=t),BT(r,a,i,o)}return r},t.prototype.depthToSpace=function(e,t,n){uE("NHWC"===n,function(){return"Only NHWC dataFormat supported on CPU for depthToSpace. Got "+n}),uE(t>1,function(){return"blockSize should be > 1 for depthToSpace, but was: "+t});for(var r=e.shape[0],o=e.shape[1],a=e.shape[2],i=e.shape[3],s=o*t,l=a*t,u=i/(t*t),c=this.readSync(e.dataId),d=new Float32Array(r*s*l*u),p=0,f=0;f<r;++f)for(var h=0;h<s;++h)for(var m=Math.floor(h/t),v=h%t,g=0;g<l;++g)for(var y=Math.floor(g/t),b=(v*t+g%t)*u,x=0;x<u;++x){var w=x+b+i*(y+a*(m+o*f));d[p++]=c[w]}return J_(d,[r,s,l,u])},t.prototype.broadcastedBinaryOp=function(e,t,n,r){var o=wT(e.shape,t.shape),a=CI(o,n),i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=bT(e.shape,o),u=bT(t.shape,o),c=a.values;if(l.length+u.length===0)for(var d=0;d<c.length;++d)c[d]=r(i[d%i.length],s[d%s.length]);else{var p=this.bufferSync(e),f=this.bufferSync(t),h=function(n){var o=a.indexToLoc(n),d=o.slice(-e.rank);l.forEach(function(e){return d[e]=0});var h=p.locToIndex(d),m=o.slice(-t.rank);u.forEach(function(e){return m[e]=0});var v=f.locToIndex(m);c[n]=r(i[h],s[v])};for(d=0;d<c.length;++d)h(d)}return a.toTensor()},t.prototype.broadcastedBinaryComplexOp=function(e,t,n){var r=wT(e.shape,t.shape),o=CI(r,"float32"),a=CI(r,"float32"),i=this.readSync(e.dataId),s=this.readSync(t.dataId),l=bT(e.shape,r),u=bT(t.shape,r),c=o.values,d=a.values;if(l.length+u.length===0)for(var p=0;p<c.length;p++){var f=p%i.length,h=p%s.length,m=n(i[2*f],i[2*f+1],s[2*h],s[2*h+1]);c[p]=m.real,d[p]=m.imag}else{var v=this.bufferSync(this.data.get(e.dataId).complexTensors.real),g=this.bufferSync(this.data.get(t.dataId).complexTensors.real),y=function(r){var a=o.indexToLoc(r),p=a.slice(-e.rank);l.forEach(function(e){return p[e]=0});var f=v.locToIndex(p),h=a.slice(-t.rank);u.forEach(function(e){return h[e]=0});var m=g.locToIndex(h),y=n(i[2*f],i[2*f+1],s[2*m],s[2*m+1]);c[r]=y.real,d[r]=y.imag};for(p=0;p<c.length;p++)y(p)}return this.complex(o.toTensor(),a.toTensor())},t.prototype.split=function(e,t,n){return $T(e,t,n)},t.prototype.dispose=function(){},t.prototype.floatPrecision=function(){return 32},t.prototype.epsilon=function(){return 1e-7},t.prototype.cropAndResize=function(e,t,n,r,o,a){for(var i=e.shape,s=i[0],l=i[1],u=i[2],c=i[3],d=t.shape[0],p=r[0],f=r[1],h=CI([d,p,f,c],"float32"),m=this.readSync(t.dataId),v=this.readSync(n.dataId),g=this.readSync(e.dataId),y=e.strides,b=h.strides,x=0;x<d;x++){var w=4*x,S=m[w],C=m[w+1],k=m[w+2],E=m[w+3],R=v[x];if(!(R>=s))for(var _=p>1?(k-S)*(l-1)/(p-1):0,I=f>1?(E-C)*(u-1)/(f-1):0,T=0;T<p;T++){var A=p>1?S*(l-1)+T*_:.5*(S+k)*(l-1);if(A<0||A>l-1)for(var P=0;P<f;P++)for(var N=0;N<c;N++){var M=N+P*b[2]+T*b[1]+x*b[0];h.values[M]=a}else if("bilinear"===o){var O=Math.floor(A),D=Math.ceil(A),j=A-O;for(P=0;P<f;P++)if((q=f>1?C*(u-1)+P*I:.5*(C+E)*(u-1))<0||q>u-1)for(N=0;N<c;N++)M=N+P*b[2]+T*b[1]+x*b[0],h.values[M]=a;else{var F=Math.floor(q),L=Math.ceil(q),B=q-F;for(N=0;N<c;N++){var z=g[M=N+F*y[2]+O*y[1]+R*y[0]],W=g[M=N+L*y[2]+O*y[1]+R*y[0]],U=g[M=N+F*y[2]+D*y[1]+R*y[0]],V=z+(W-z)*B,H=U+(g[M=N+L*y[2]+D*y[1]+R*y[0]]-U)*B;M=N+P*b[2]+T*b[1]+x*b[0],h.values[M]=V+(H-V)*j}}}else for(P=0;P<f;++P){var q;if((q=f>1?C*(u-1)+P*I:.5*(C+E)*(u-1))<0||q>u-1)for(N=0;N<c;N++)M=N+P*b[2]+T*b[1]+x*b[0],h.values[M]=a;else{var G=Math.round(q),K=Math.round(A);for(N=0;N<c;N++){var X=N+G*y[2]+K*y[1]+R*y[0],$=N+P*b[2]+T*b[1]+x*b[0];h.values[$]=g[X]}}}}}return h.toTensor()},t.prototype.sparseToDense=function(e,t,n,r){var o=aT(0,e,n),a=o.sliceRank,i=o.numUpdates,s=o.sliceSize,l=o.strides,u=o.outputSize;return this.scatter(e,t,n,u,s,i,a,l,r,!1)},t.prototype.gatherND=function(e,t){var n=t.shape,r=n[n.length-1],o=tT(e,t),a=o[0],i=o[1],s=o[2],l=o[3];if(0===i)return G_([],a,e.dtype);for(var u=new ZE([i,s],e.dtype),c=this.readSync(t.dataId),d=this.readSync(e.dataId),p=0;p<i;p++){for(var f=[],h=0,m=0;m<r;m++){var v=c[p*r+m];h+=v*l[m],f.push(v)}if(h<0||h>=e.size/s)throw new Error("Invalid indices: "+f+" does not index into "+e.shape);for(var g=0;g<s;g++)u.values[p*s+g]=d[h*s+g]}return u.toTensor().reshape(a)},t.prototype.scatterND=function(e,t,n){var r=aT(0,e,n),o=r.sliceRank,a=r.numUpdates,i=r.sliceSize,s=r.strides,l=r.outputSize,u=X_(0);return this.scatter(e,t,n,l,i,a,o,s,u,!0)},t.prototype.fill=function(e,t,n){var r=kE(n=n||OE(t),fE(e));return r.fill(t),bR.makeTensor(r,e,n,this)},t.prototype.onesLike=function(e){if("string"===e.dtype)throw new Error("onesLike is not supported for string tensors");return this.fill(e.shape,1,e.dtype)},t.prototype.zerosLike=function(e){var t=kE(e.dtype,fE(e.shape));return this.makeOutput(t,e.shape,e.dtype)},t.prototype.linspace=function(e,t,n){return jT(e,t,n)},t.prototype.scatter=function(e,t,n,r,o,a,i,s,l,u){var c=[r/o,o],d=this.readSync(e.dataId),p=this.readSync(t.dataId);if(0===r)return G_([],n,t.dtype);var f=new ZE(c,t.dtype);f.values.fill(this.readSync(l.dataId)[0]);for(var h=0;h<a;h++){for(var m=[],v=0,g=0;g<i;g++){var y=d[h*i+g];m.push(y),v+=y*s[g]}if(v<0||v>=r/o)throw new Error("Invalid indices: "+m+" does not index into "+n);for(var b=0;b<o;b++)u?f.values[v*o+b]+=p[h*o+b]:f.values[v*o+b]=0===t.rank?p[0]:p[h*o+b]}return f.toTensor().reshape(n)},t}(gT);bR.registerBackend("cpu",function(){return new Pj},1);for(var Nj=0,Mj=[{kernelName:"NonMaxSuppressionV5",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t,a=o.boxes,i=o.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,p=n;Tj(a,"NonMaxSuppressionWithScore");var f=HT(p.data.get(a.dataId).values,p.data.get(i.dataId).values,l,u,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n;Tj(r,"square");for(var a=o.data.get(r.dataId).values,i=new Float32Array(a.length),s=0;s<a.length;++s){var l=a[s];i[s]=l*l}return{dataId:o.write(i,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}},{kernelName:HN,backendName:"cpu",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,a=r.b,i=n;Tj([o,a],HN);var s=i.data.get(o.dataId).values,l=i.data.get(a.dataId).values,u=function(e,t,n,r,o,a){var i=wT(e,t),s=i.length,l=FE(i),u=CE(o,fE(i)),c=e.length,d=t.length,p=FE(e),f=FE(t),h=bT(e,i),m=bT(t,i);if(h.length+m.length===0)for(var v=0;v<u.length;++v)u[v]=a(n[v%n.length],r[v%r.length]);else{var g=function(e){var t=KE(e,s,l),o=t.slice(-c);h.forEach(function(e){return o[e]=0});var i=GE(o,c,p),v=t.slice(-d);m.forEach(function(e){return v[e]=0});var g=GE(v,d,f);u[e]=a(n[i],r[g])};for(v=0;v<u.length;++v)g(v)}return[u,i]}(o.shape,a.shape,s,l,o.dtype,function(e,t){var n=e-t;return n*n}),c=u[0],d=u[1];return{dataId:i.write(c,d,o.dtype),shape:d,dtype:o.dtype}}}];Nj<Mj.length;Nj++)nE(Mj[Nj]);for(var Oj,Dj=function(e){this.variableNames=["A"];var t=oA(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2("+r+".0, "+n+".0);\n\n        vec4 values = "+t.texture2D+"(A, uv);\n        float value;\n        if (depth == 0) {\n          value = values.r;\n        } else if (depth == 1) {\n          value = values.g;\n        } else if (depth == 2) {\n          value = values.b;\n        } else if (depth == 3) {\n          value = values.a;\n        }\n\n        setOutput(floor(value * 255.0 + 0.5));\n      }\n    "},jj=function(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0;var t=oA(),n=e[0],r=e[1];this.outputShape=e,this.userCode="\n      void main() {\n        ivec3 coords = getOutputCoords();\n        int texR = coords[0];\n        int texC = coords[1];\n        int depth = coords[2];\n\n        vec4 result = vec4(0.);\n\n        for(int row=0; row<=1; row++) {\n          for(int col=0; col<=1; col++) {\n            texC = coords[1] + row;\n            depth = coords[2] + col;\n\n            vec2 uv = (vec2(texC, texR) + halfCR) /\n                       vec2("+r+".0, "+n+".0);\n            vec4 values = "+t.texture2D+"(A, uv);\n            float value;\n            if (depth == 0) {\n              value = values.r;\n            } else if (depth == 1) {\n              value = values.g;\n            } else if (depth == 2) {\n              value = values.b;\n            } else if (depth == 3) {\n              value = values.a;\n            }\n\n            result[row * 2 + col] = floor(value * 255.0 + 0.5);\n          }\n        }\n\n        "+t.output+" = result;\n      }\n    "},Fj=0,Lj=[{kernelName:"FromPixels",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs,o=t.pixels,a=r.numChannels,i="undefined"!=typeof HTMLVideoElement&&o instanceof HTMLVideoElement,s="undefined"!=typeof HTMLImageElement&&o instanceof HTMLImageElement,l=i?[o.videoWidth,o.videoHeight]:[o.width,o.height],u=l[0],c=l[1],d=[c,u],p=[c,u,a];(s||i)&&(null==Oj&&(Oj=document.createElement("canvas").getContext("2d")),Oj.canvas.width=u,Oj.canvas.height=c,Oj.drawImage(o,0,0,u,c),o=Oj.canvas);var f=n.makeTensorInfo(d,"int32");n.texData.get(f.dataId).usage=CR.PIXELS,n.gpgpu.uploadPixelDataToTexture(n.getTexture(f.dataId),o);var h=Yk().getBool("WEBGL_PACK")?new jj(p):new Dj(p),m=n.runWebGLProgram(h,[f],"int32");return n.disposeData(f.dataId),m}},{kernelName:"NonMaxSuppressionV5",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=e.attrs;__("tf.nonMaxSuppression() in webgl locks the UI thread. Call tf.nonMaxSuppressionAsync() instead");var o=t,a=o.boxes,i=o.scores,s=r,l=s.maxOutputSize,u=s.iouThreshold,c=s.scoreThreshold,d=s.softNmsSigma,p=n,f=HT(p.readSync(a.dataId),p.readSync(i.dataId),l,u,c,d);return[f.selectedIndices,f.selectedScores]}},{kernelName:"Square",backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t.x,o=n,a=new hN(r.shape,"return x * x;");return o.runWebGLProgram(a,[r],r.dtype)}},{kernelName:HN,backendName:"webgl",kernelFunc:function(e){var t=e.inputs,n=e.backend,r=t,o=r.a,a=r.b,i=n,s=Yk().getBool("WEBGL_PACK_BINARY_OPERATIONS")?new NA("return (a - b) * (a - b);",o.shape,a.shape):new AA("return (a - b) * (a - b);",o.shape,a.shape);return i.compileAndRun(s,[o,a])}}];Fj<Lj.length;Fj++)nE(Lj[Fj]);for(var Bj=0,zj=[{kernelName:"Square",gradFunc:function(e,t){var n=t[0];return{x:function(){return e.mul(n.toFloat().mul(2))}}}},{kernelName:HN,gradFunc:function(e,t){var n=t[0],r=t[1],o=X_(2);return{a:function(){return iO(e,iO(o,dO(n,r)))},b:function(){return iO(e,iO(o,dO(r,n)))}}}}];Bj<zj.length;Bj++)rE(zj[Bj]);var Wj=function(){function e(){}return e.prototype.fetch=function(e,t){return fetch(e,t)},e.prototype.now=function(){return performance.now()},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Browser's encoder only supports utf-8, but got "+t);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return new TextDecoder(t).decode(e)},e}();Yk().get("IS_BROWSER")&&Yk().setPlatform("browser",new Wj);var Uj,Vj=function(){function e(){this.util=n(745),this.textEncoder=new this.util.TextEncoder}return e.prototype.fetch=function(e,t){return null!=Yk().global.fetch?Yk().global.fetch(e,t):(null==Uj&&(Uj=n(318)),Uj(e,t))},e.prototype.now=function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6},e.prototype.encode=function(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error("Node built-in encoder only supports utf-8, but got "+t);return this.textEncoder.encode(e)},e.prototype.decode=function(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)},e}();Yk().get("IS_NODE")&&Yk().setPlatform("node",new Vj);var Hj={float32:4,int32:4,uint16:2,uint8:1,bool:1};function qj(e,t){for(var n={},r=0,o=function(t){var o=t.name,a=t.dtype,i=t.shape,s=fE(i),l=void 0;if("quantization"in t){var u=t.quantization;if("uint8"!==u.dtype&&"uint16"!==u.dtype)throw new Error("Weight "+t.name+" has unknown quantization dtype "+u.dtype+". Supported quantization dtypes are: 'uint8' and 'uint16'.");var c=Hj[u.dtype],d=e.slice(r,r+s*c),p="uint8"===u.dtype?new Uint8Array(d):new Uint16Array(d);if("float32"===a)l=Float32Array.from(p,function(e){return e*u.scale+u.min});else{if("int32"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);l=Int32Array.from(p,function(e){return Math.round(e*u.scale+u.min)})}r+=s*c}else if("string"===a){var f=fE(t.shape);l=[];for(var h=0;h<f;h++){var m=new Uint32Array(e.slice(r,r+4))[0];r+=4;var v=new Uint8Array(e.slice(r,r+m));l.push(v),r+=m}}else{var g=Hj[a];if(d=e.slice(r,r+s*g),"float32"===a)l=new Float32Array(d);else if("int32"===a)l=new Int32Array(d);else{if("bool"!==a)throw new Error("Unsupported dtype in weight '"+o+"': "+a);l=new Uint8Array(d)}r+=s*g}n[o]=G_(l,i,a)},a=0,i=t;a<i.length;a++)o(i[a]);return n}function Gj(e){if(null===e)throw new Error("Invalid input value: "+JSON.stringify(e));var t=0,n=[];e.forEach(function(e){if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error("Unsupported TypedArray subtype: "+e.constructor.name)});var r=new Uint8Array(t),o=0;return n.forEach(function(e){r.set(new Uint8Array(e.buffer),o),o+=e.byteLength}),r.buffer}var Kj="undefined"!=typeof Buffer&&("undefined"==typeof Blob||"undefined"==typeof atob||"undefined"==typeof btoa);function Xj(e){return Kj?Buffer.byteLength(e):new Blob([e]).size}function $j(e){var t=0;e.forEach(function(e){t+=e.byteLength});var n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(new Uint8Array(e),r),r+=e.byteLength}),n.buffer}function Yj(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);var t=e.split("/");return t[t.length-1]}function Qj(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:Xj(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:Xj(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}var Jj=function(){function e(){this.saveRouters=[],this.loadRouters=[]}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerSaveRouter=function(t){e.getInstance().saveRouters.push(t)},e.registerLoadRouter=function(t){e.getInstance().loadRouters.push(t)},e.getSaveHandlers=function(t){return e.getHandlers(t,"save")},e.getLoadHandlers=function(t,n){return e.getHandlers(t,"load",n)},e.getHandlers=function(t,n,r){var o=[];return("load"===n?e.getInstance().loadRouters:e.getInstance().saveRouters).forEach(function(e){var n=e(t,r);null!==n&&o.push(n)}),o},e}(),Zj="://",eF=function(){function e(){this.managers={}}return e.getInstance=function(){return null==e.instance&&(e.instance=new e),e.instance},e.registerManager=function(t,n){uE(null!=t,function(){return"scheme must not be undefined or null."}),t.endsWith(Zj)&&(t=t.slice(0,t.indexOf(Zj))),uE(t.length>0,function(){return"scheme must not be an empty string."});var r=e.getInstance();uE(null==r.managers[t],function(){return"A model store manager is already registered for scheme '"+t+"'."}),r.managers[t]=n},e.getManager=function(e){var t=this.getInstance().managers[e];if(null==t)throw new Error("Cannot find model manager for scheme '"+e+"'");return t},e.getSchemes=function(){return Object.keys(this.getInstance().managers)},e}();function tF(e){if(-1===e.indexOf(Zj))throw new Error("The url string provided does not contain a scheme. Supported schemes are: "+eF.getSchemes().join(","));return{scheme:e.split(Zj)[0],path:e.split(Zj)[1]}}function nF(e,t,n){return void 0===n&&(n=!1),Kk(this,void 0,void 0,function(){var r,o,a,i,s,l,u,c,d;return Xk(this,function(p){switch(p.label){case 0:return uE(e!==t,function(){return"Old path and new path are the same: '"+e+"'"}),uE((r=Jj.getLoadHandlers(e)).length>0,function(){return"Copying failed because no load handler is found for source URL "+e+"."}),uE(r.length<2,function(){return"Copying failed because more than one ("+r.length+") load handlers for source URL "+e+"."}),o=r[0],uE((a=Jj.getSaveHandlers(t)).length>0,function(){return"Copying failed because no save handler is found for destination URL "+t+"."}),uE(a.length<2,function(){return"Copying failed because more than one ("+r.length+") save handlers for destination URL "+t+"."}),i=a[0],s=tF(e).scheme,l=tF(e).path,u=s===tF(e).scheme,[4,o.load()];case 1:return c=p.sent(),n&&u?[4,eF.getManager(s).removeModel(l)]:[3,3];case 2:p.sent(),p.label=3;case 3:return[4,i.save(c)];case 4:return d=p.sent(),!n||u?[3,6]:[4,eF.getManager(s).removeModel(l)];case 5:p.sent(),p.label=6;case 6:return[2,d.modelArtifactsInfo]}})})}var rF="models_store",oF="model_info_store";function aF(){if(!Yk().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");var e=window||self,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function iF(e){var t=e.result;t.createObjectStore(rF,{keyPath:"modelPath"}),t.createObjectStore(oF,{keyPath:"modelPath"})}var sF=function(){function e(e){if(this.indexedDB=aF(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}return e.prototype.save=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return[2,this.databaseAction(this.modelPath,e)]})})},e.prototype.load=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){return[2,this.databaseAction(this.modelPath)]})})},e.prototype.databaseAction=function(e,t){var n=this;return new Promise(function(e,r){var o=n.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return iF(o)},o.onsuccess=function(){var a=o.result;if(null==t){var i=a.transaction(rF,"readonly"),s=i.objectStore(rF).get(n.modelPath);s.onsuccess=function(){if(null==s.result)return a.close(),r(new Error("Cannot find model with path '"+n.modelPath+"' in IndexedDB."));e(s.result.modelArtifacts)},s.onerror=function(e){return a.close(),r(s.error)},i.oncomplete=function(){return a.close()}}else{var l,u=Qj(t),c=a.transaction(oF,"readwrite"),d=c.objectStore(oF),p=d.put({modelPath:n.modelPath,modelArtifactsInfo:u});p.onsuccess=function(){var o=(l=a.transaction(rF,"readwrite")).objectStore(rF).put({modelPath:n.modelPath,modelArtifacts:t,modelArtifactsInfo:u});o.onsuccess=function(){return e({modelArtifactsInfo:u})},o.onerror=function(e){var t=(d=c.objectStore(oF)).delete(n.modelPath);t.onsuccess=function(){return a.close(),r(o.error)},t.onerror=function(e){return a.close(),r(o.error)}}},p.onerror=function(e){return a.close(),r(p.error)},c.oncomplete=function(){null==l?a.close():l.oncomplete=function(){return a.close()}}}},o.onerror=function(e){return r(o.error)}})},e.URL_SCHEME="indexeddb://",e}(),lF=function(e){return Yk().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(sF.URL_SCHEME)?(t=e.slice(sF.URL_SCHEME.length),new sF(t)):null;var t};Jj.registerSaveRouter(lF),Jj.registerLoadRouter(lF);var uF=function(){function e(){this.indexedDB=aF()}return e.prototype.listModels=function(){return Kk(this,void 0,void 0,function(){var e=this;return Xk(this,function(t){return[2,new Promise(function(t,n){var r=e.indexedDB.open("tensorflowjs",1);r.onupgradeneeded=function(){return iF(r)},r.onsuccess=function(){var e=r.result,o=e.transaction(oF,"readonly"),a=o.objectStore(oF).getAll();a.onsuccess=function(){for(var e={},n=0,r=a.result;n<r.length;n++){var o=r[n];e[o.modelPath]=o.modelArtifactsInfo}t(e)},a.onerror=function(t){return e.close(),n(a.error)},o.oncomplete=function(){return e.close()}},r.onerror=function(e){return n(r.error)}})]})})},e.prototype.removeModel=function(e){return Kk(this,void 0,void 0,function(){var t=this;return Xk(this,function(n){var r;return e=(r=e).startsWith(sF.URL_SCHEME)?r.slice(sF.URL_SCHEME.length):r,[2,new Promise(function(n,r){var o=t.indexedDB.open("tensorflowjs",1);o.onupgradeneeded=function(){return iF(o)},o.onsuccess=function(){var t,a=o.result,i=a.transaction(oF,"readwrite"),s=i.objectStore(oF),l=s.get(e);l.onsuccess=function(){if(null==l.result)return a.close(),r(new Error("Cannot find model with path '"+e+"' in IndexedDB."));var o=s.delete(e),i=function(){var o=(t=a.transaction(rF,"readwrite")).objectStore(rF).delete(e);o.onsuccess=function(){return n(l.result.modelArtifactsInfo)},o.onerror=function(e){return r(l.error)}};o.onsuccess=i,o.onerror=function(e){return i(),a.close(),r(l.error)}},l.onerror=function(e){return a.close(),r(l.error)},i.oncomplete=function(){null==t?a.close():t.oncomplete=function(){return a.close()}}},o.onerror=function(e){return r(o.error)}})]})})},e}();if(Yk().getBool("IS_BROWSER"))try{eF.registerManager(sF.URL_SCHEME,new uF)}catch(qk){}var cF="/",dF="tensorflowjs_models",pF="info",fF="model_topology",hF="weight_specs",mF="weight_data",vF="model_metadata";function gF(e){return{info:[dF,e,pF].join(cF),topology:[dF,e,fF].join(cF),weightSpecs:[dF,e,hF].join(cF),weightData:[dF,e,mF].join(cF),modelMetadata:[dF,e,vF].join(cF)}}function yF(e){var t=e.split(cF);if(t.length<3)throw new Error("Invalid key format: "+e);return t.slice(1,t.length-1).join(cF)}var bF=function(){function e(e){if(!Yk().getBool("IS_BROWSER")||"undefined"==typeof window||void 0===window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=gF(this.modelPath)}return e.prototype.save=function(e){return Kk(this,void 0,void 0,function(){var t,n,r;return Xk(this,function(o){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");t=JSON.stringify(e.modelTopology),n=JSON.stringify(e.weightSpecs),r=Qj(e);try{return this.LS.setItem(this.keys.info,JSON.stringify(r)),this.LS.setItem(this.keys.topology,t),this.LS.setItem(this.keys.weightSpecs,n),this.LS.setItem(this.keys.weightData,function(e){if(Kj)return Buffer.from(e).toString("base64");for(var t=new Uint8Array(e),n="",r=0,o=t.length;r<o;r++)n+=String.fromCharCode(t[r]);return btoa(n)}(e.weightData)),this.LS.setItem(this.keys.modelMetadata,JSON.stringify({format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata})),[2,{modelArtifactsInfo:r}]}catch(e){throw this.LS.removeItem(this.keys.info),this.LS.removeItem(this.keys.topology),this.LS.removeItem(this.keys.weightSpecs),this.LS.removeItem(this.keys.weightData),this.LS.removeItem(this.keys.modelMetadata),new Error("Failed to save model '"+this.modelPath+"' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes="+r.modelTopologyBytes+", weightSpecsBytes="+r.weightSpecsBytes+", weightDataBytes="+r.weightDataBytes+".")}})})},e.prototype.load=function(){return Kk(this,void 0,void 0,function(){var e,t,n,r,o,a,i;return Xk(this,function(s){if(null==(e=JSON.parse(this.LS.getItem(this.keys.info))))throw new Error("In local storage, there is no model with name '"+this.modelPath+"'");if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");if(t={},null==(n=JSON.parse(this.LS.getItem(this.keys.topology))))throw new Error("In local storage, the topology of model '"+this.modelPath+"' is missing.");if(t.modelTopology=n,null==(r=JSON.parse(this.LS.getItem(this.keys.weightSpecs))))throw new Error("In local storage, the weight specs of model '"+this.modelPath+"' are missing.");if(t.weightSpecs=r,null!=(o=this.LS.getItem(this.keys.modelMetadata))&&(a=JSON.parse(o),t.format=a.format,t.generatedBy=a.generatedBy,t.convertedBy=a.convertedBy,t.userDefinedMetadata=a.userDefinedMetadata),null==(i=this.LS.getItem(this.keys.weightData)))throw new Error("In local storage, the binary weight values of model '"+this.modelPath+"' are missing.");return t.weightData=function(e){if(Kj){var t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}for(var n=atob(e),r=new Uint8Array(n.length),o=0;o<n.length;++o)r.set([n.charCodeAt(o)],o);return r.buffer}(i),[2,t]})})},e.URL_SCHEME="localstorage://",e}(),xF=function(e){return Yk().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(bF.URL_SCHEME)?(t=e.slice(bF.URL_SCHEME.length),new bF(t)):null;var t};Jj.registerSaveRouter(xF),Jj.registerLoadRouter(xF);var wF=function(){function e(){uE(Yk().getBool("IS_BROWSER"),function(){return"Current environment is not a web browser"}),uE("undefined"==typeof window||void 0!==window.localStorage,function(){return"Current browser does not appear to support localStorage"}),this.LS=window.localStorage}return e.prototype.listModels=function(){return Kk(this,void 0,void 0,function(){var e,t,n,r,o,a;return Xk(this,function(i){for(e={},t=dF+cF,n=cF+pF,r=0;r<this.LS.length;++r)(o=this.LS.key(r)).startsWith(t)&&o.endsWith(n)&&(a=yF(o),e[a]=JSON.parse(this.LS.getItem(o)));return[2,e]})})},e.prototype.removeModel=function(e){return Kk(this,void 0,void 0,function(){var t,n;return Xk(this,function(r){var o;if(e=(o=e).startsWith(bF.URL_SCHEME)?o.slice(bF.URL_SCHEME.length):o,t=gF(e),null==this.LS.getItem(t.info))throw new Error("Cannot find model at path '"+e+"'");return n=JSON.parse(this.LS.getItem(t.info)),this.LS.removeItem(t.info),this.LS.removeItem(t.topology),this.LS.removeItem(t.weightSpecs),this.LS.removeItem(t.weightData),[2,n]})})},e}();if(Yk().getBool("IS_BROWSER"))try{eF.registerManager(bF.URL_SCHEME,new wF)}catch(qk){}function SF(e){return new Promise(function(e){return setTimeout(e)}).then(e)}var CF=function(){function e(t){if(!Yk().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");t.startsWith(e.URL_SCHEME)&&(t=t.slice(e.URL_SCHEME.length)),null!=t&&0!==t.length||(t="model"),this.modelTopologyFileName=t+".json",this.weightDataFileName=t+".weights.bin"}return e.prototype.save=function(e){return Kk(this,void 0,void 0,function(){var t,n,r,o,a,i;return Xk(this,function(s){switch(s.label){case 0:if("undefined"==typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");if(t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"})),!(e.modelTopology instanceof ArrayBuffer))return[3,1];throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");case 1:return n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:n},o=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),(a=null==this.jsonAnchor?document.createElement("a"):this.jsonAnchor).download=this.modelTopologyFileName,a.href=o,[4,SF(function(){return a.dispatchEvent(new MouseEvent("click"))})];case 2:return s.sent(),null==e.weightData?[3,4]:((i=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor).download=this.weightDataFileName,i.href=t,[4,SF(function(){return i.dispatchEvent(new MouseEvent("click"))})]);case 3:s.sent(),s.label=4;case 4:return[2,{modelArtifactsInfo:Qj(e)}]}})})},e.URL_SCHEME="downloads://",e}(),kF=function(){function e(e){if(null==e||e.length<1)throw new Error("When calling browserFiles, at least 1 file is required, but received "+e);this.files=e}return e.prototype.load=function(){return Kk(this,void 0,void 0,function(){var e,t,n=this;return Xk(this,function(r){return e=this.files[0],t=this.files.slice(1),[2,new Promise(function(r,o){var a=new FileReader;a.onload=function(a){var i=JSON.parse(a.target.result),s=i.modelTopology;if(null!=s){0===t.length&&r({modelTopology:s});var l=i.weightsManifest;if(null!=l){var u;try{u=n.checkManifestAndWeightFiles(l,t)}catch(e){return void o(e)}var c=[],d=[],p=[];l.forEach(function(e){e.paths.forEach(function(e){d.push(e),p.push(null)}),c.push.apply(c,e.weights)}),l.forEach(function(e){e.paths.forEach(function(e){var t=new FileReader;t.onload=function(t){var n=t.target.result,o=d.indexOf(e);p[o]=n,-1===p.indexOf(null)&&r({modelTopology:s,weightSpecs:c,weightData:$j(p),format:i.format,generatedBy:i.generatedBy,convertedBy:i.convertedBy,userDefinedMetadata:i.userDefinedMetadata})},t.onerror=function(t){return o("Failed to weights data from file of path '"+e+"'.")},t.readAsArrayBuffer(u[e])})})}else o(new Error("weightManifest field is missing from file "+e.name))}else o(new Error("modelTopology field is missing from file "+e.name))},a.onerror=function(t){return o("Failed to read model topology and weights manifest JSON from file '"+e.name+"'. BrowserFiles supports loading Keras-style tf.Model artifacts only.")},a.readAsText(e)})]})})},e.prototype.checkManifestAndWeightFiles=function(e,t){for(var n=[],r=t.map(function(e){return Yj(e.name)}),o={},a=0,i=e;a<i.length;a++)i[a].paths.forEach(function(e){var a=Yj(e);if(-1!==n.indexOf(a))throw new Error("Duplicate file basename found in weights manifest: '"+a+"'");if(n.push(a),-1===r.indexOf(a))throw new Error("Weight file with basename '"+a+"' is not provided.");o[e]=t[r.indexOf(a)]});if(n.length!==t.length)throw new Error("Mismatch in the number of files in weights manifest ("+n.length+") and the number of weight files provided ("+t.length+").");return o},e}();function EF(e,t,n,r){!function(e){uE(null!=e&&Array.isArray(e)&&e.length>0,function(){return"promises must be a none empty array"})}(e),function(e,t){uE(e>=0&&e<=1,function(){return"Progress fraction must be in range [0, 1], but got startFraction "+e}),uE(t>=0&&t<=1,function(){return"Progress fraction must be in range [0, 1], but got endFraction "+t}),uE(t>=e,function(){return"startFraction must be no more than endFraction, but got startFraction "+e+" and endFraction "+t})}(n=null==n?0:n,r=null==r?1:r);var o=0;return Promise.all(e.map(function(a){return a.then(function(a){var i=n+ ++o/e.length*(r-n);return t(i),a}),a}))}function RF(e,t){return Kk(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c;return Xk(this,function(d){switch(d.label){case 0:return null==t&&(t={}),n=null==t.fetchFunc?Yk().platform.fetch:t.fetchFunc,r=e.map(function(e){return n(e,t.requestInit,{isBinary:!0})}),o=0,a=.5,null!=t.onProgress?[3,2]:[4,Promise.all(r)];case 1:return i=d.sent(),[3,4];case 2:return[4,EF(r,t.onProgress,o,a)];case 3:i=d.sent(),d.label=4;case 4:return s=i.map(function(e){return e.arrayBuffer()}),l=.5,u=1,null!=t.onProgress?[3,6]:[4,Promise.all(s)];case 5:return c=d.sent(),[3,8];case 6:return[4,EF(s,t.onProgress,l,u)];case 7:c=d.sent(),d.label=8;case 8:return[2,c]}})})}function _F(e){var t=this;return function(n,r,o){return void 0===r&&(r=""),Kk(t,void 0,void 0,function(){var t,a,i,s,l,u,c,d,p,f;return Xk(this,function(h){switch(h.label){case 0:if(t=n.map(function(){return!1}),a={},i=null!=o?o.map(function(){return!1}):[],s=[],n.forEach(function(e,n){var r=0;e.weights.forEach(function(e){var l="quantization"in e?e.quantization.dtype:e.dtype,u=Hj[l]*fE(e.shape),c=function(){t[n]=!0,null==a[n]&&(a[n]=[]),a[n].push({manifestEntry:e,groupOffset:r,sizeBytes:u})};null!=o?o.forEach(function(t,n){t===e.name&&(c(),i[n]=!0)}):c(),s.push(e.name),r+=u})}),!i.every(function(e){return e}))throw l=o.filter(function(e,t){return!i[t]}),new Error("Could not find weights in manifest with names: "+l.join(", ")+". \nManifest JSON has weights with names: "+s.join(", ")+".");return u=t.reduce(function(e,t,n){return t&&e.push(n),e},[]),c=[],u.forEach(function(e){n[e].paths.forEach(function(e){var t=r+(r.endsWith("/")?"":"/")+e;c.push(t)})}),[4,e(c)];case 1:return d=h.sent(),p={},f=0,u.forEach(function(e){for(var t=n[e].paths.length,r=0,o=0;o<t;o++)r+=d[f+o].byteLength;for(var i=new ArrayBuffer(r),s=new Uint8Array(i),l=0,u=0;u<t;u++){var c=new Uint8Array(d[f+u]);s.set(c,l),l+=c.byteLength}a[e].forEach(function(e){var t=qj(i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),[e.manifestEntry]);for(var n in t)p[n]=t[n]}),f+=t}),[2,p]}})})}}Jj.registerSaveRouter(function(e){return Yk().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(CF.URL_SCHEME)?function(e){return void 0===e&&(e="model"),new CF(e)}(e.slice(CF.URL_SCHEME.length)):null});var IF=function(){function e(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,null!=t.fetchFunc?(uE("function"==typeof t.fetchFunc,function(){return"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"}),this.fetch=t.fetchFunc):this.fetch=Yk().platform.fetch,uE(null!=e&&e.length>0,function(){return"URL path for http must not be null, undefined or empty."}),Array.isArray(e)&&uE(2===e.length,function(){return"URL paths for http must have a length of 2, (actual length is "+e.length+")."}),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}return e.prototype.save=function(e){return Kk(this,void 0,void 0,function(){var t,n,r,o;return Xk(this,function(a){switch(a.label){case 0:if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");return(t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit)).body=new FormData,n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,userDefinedMetadata:e.userDefinedMetadata,weightsManifest:n},t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin"),[4,this.fetch(this.path,t)];case 1:if((o=a.sent()).ok)return[2,{modelArtifactsInfo:Qj(e),responses:[o]}];throw new Error("BrowserHTTPRequest.save() failed due to HTTP response status "+o.status+".")}})})},e.prototype.load=function(){return Kk(this,void 0,void 0,function(){var e,t,n,r,o,a,i,s,l,u,c,d;return Xk(this,function(p){switch(p.label){case 0:return[4,this.fetch(this.path,this.requestInit)];case 1:if(!(e=p.sent()).ok)throw new Error("Request to "+this.path+" failed with status code "+e.status+". Please verify this URL points to the model JSON of the model to load.");p.label=2;case 2:return p.trys.push([2,4,,5]),[4,e.json()];case 3:return t=p.sent(),[3,5];case 4:throw p.sent(),n="Failed to parse model JSON of response from "+this.path+".",this.path.endsWith(".pb")?n+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":n+=" Please make sure the server is serving valid JSON for this request.",new Error(n);case 5:if(r=t.modelTopology,o=t.weightsManifest,a=t.generatedBy,i=t.convertedBy,s=t.format,l=t.userDefinedMetadata,null==r&&null==o)throw new Error("The JSON from HTTP path "+this.path+" contains neither model topology or manifest for weights.");return null==o?[3,7]:[4,this.loadWeights(o)];case 6:d=p.sent(),u=d[0],c=d[1],p.label=7;case 7:return[2,{modelTopology:r,weightSpecs:u,weightData:c,userDefinedMetadata:l,generatedBy:a,convertedBy:i,format:s}]}})})},e.prototype.loadWeights=function(e){return Kk(this,void 0,void 0,function(){var t,n,r,o,a,i,s,l,u,c,d;return Xk(this,function(p){switch(p.label){case 0:for(t=Array.isArray(this.path)?this.path[1]:this.path,n=function(e){var t=e.lastIndexOf("/"),n=e.lastIndexOf("?");return[e.substring(0,t)+"/",n>t?e.substring(n):""]}(t),r=n[0],o=n[1],a=this.weightPathPrefix||r,i=[],s=0,l=e;s<l.length;s++)u=l[s],i.push.apply(i,u.weights);return c=[],e.forEach(function(e){e.paths.forEach(function(e){c.push(a+e+o)})}),[4,RF(c,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress})];case 1:return d=p.sent(),[2,[i,$j(d)]]}})})},e.URL_SCHEME_REGEX=/^https?:\/\//,e}();function TF(e){return null!=e.match(IF.URL_SCHEME_REGEX)}var AF=function(e,t){return"undefined"==typeof fetch?null:(Array.isArray(e)?e.every(function(e){return TF(e)}):TF(e))?PF(e,{onProgress:t}):null};function PF(e,t){return new IF(e,t)}Jj.registerSaveRouter(AF),Jj.registerLoadRouter(AF);var NF,MF=function(){function e(e){this.modelArtifacts=e}return e.prototype.load=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){return[2,this.modelArtifacts]})})},e}(),OF=function(){function e(e){this.saveHandler=e}return e.prototype.save=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){return[2,this.saveHandler(e)]})})},e}(),DF=Object.freeze({browserFiles:function(e){return new kF(e)},browserHTTPRequest:function(e,t){return PF(e,t)},concatenateArrayBuffers:$j,decodeWeights:qj,encodeWeights:function(e,t){return Kk(this,void 0,void 0,function(){var n,r,o,a,i,s=this;return Xk(this,function(l){switch(l.label){case 0:for(n=[],r=[],o=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e),a=function(a){var i=o[a],l=Array.isArray(e)?e[a].tensor:e[i];if("float32"!==l.dtype&&"int32"!==l.dtype&&"bool"!==l.dtype&&"string"!==l.dtype)throw new Error("Unsupported dtype in weight '"+i+"': "+l.dtype);var u={name:i,shape:l.shape,dtype:l.dtype};if("string"===l.dtype){var c=new Promise(function(e){return Kk(s,void 0,void 0,function(){var t,n,r,o,a,i,s;return Xk(this,function(u){switch(u.label){case 0:return[4,l.bytes()];case 1:for(t=u.sent(),n=t.reduce(function(e,t){return e+t.length},0)+4*t.length,r=new Uint8Array(n),o=0,a=0;a<t.length;a++)i=t[a],s=new Uint8Array(new Uint32Array([i.length]).buffer),r.set(s,o),o+=4,r.set(i,o),o+=i.length;return e(r),[2]}})})});r.push(c)}else r.push(l.data());null!=t&&(u.group=t),n.push(u)},i=0;i<o.length;++i)a(i);return[4,Promise.all(r)];case 1:return[2,{data:Gj(l.sent()),specs:n}]}})})},fromMemory:function(e,t,n,r){return 1===arguments.length?null!=e.modelTopology||null!=e.weightSpecs?new MF(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new MF({modelTopology:e})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new MF({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r}))},getLoadHandlers:function(e,t){return Jj.getLoadHandlers(e,t)},getModelArtifactsInfoForJSON:Qj,getSaveHandlers:function(e){return Jj.getSaveHandlers(e)},http:PF,isHTTPScheme:TF,loadWeights:function(e,t,n,r){return void 0===t&&(t=""),Kk(this,void 0,void 0,function(){return Xk(this,function(o){return[2,_F(function(e){return RF(e,{requestInit:r})})(e,t,n)]})})},registerLoadRouter:function(e){return Jj.registerLoadRouter(e)},registerSaveRouter:function(e){return Jj.registerSaveRouter(e)},weightsLoaderFactory:_F,withSaveHandler:function(e){return new OF(e)},copyModel:function(e,t){return Kk(this,void 0,void 0,function(){return Xk(this,function(n){return[2,nF(e,t,!1)]})})},listModels:function(){return Kk(this,void 0,void 0,function(){var e,t,n,r,o,a,i;return Xk(this,function(s){switch(s.label){case 0:e=eF.getSchemes(),t={},n=0,r=e,s.label=1;case 1:return n<r.length?(o=r[n],[4,eF.getManager(o).listModels()]):[3,4];case 2:for(i in a=s.sent())t[o+Zj+i]=a[i];s.label=3;case 3:return n++,[3,1];case 4:return[2,t]}})})},moveModel:function(e,t){return Kk(this,void 0,void 0,function(){return Xk(this,function(n){return[2,nF(e,t,!0)]})})},removeModel:function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){return t=tF(e),[2,eF.getManager(t.scheme).removeModel(t.path)]})})}}),jF=U_({confusionMatrix_:function(e,t,n){var r=A_(e,"labels","confusionMatrix"),o=A_(t,"predictions","confusionMatrix");uE(null==n||n>0&&Number.isInteger(n),function(){return"If provided, numClasses must be a positive integer, but got "+n}),uE(1===r.rank,function(){return"Expected the rank of labels to be 1, but got "+r.rank}),uE(1===o.rank,function(){return"Expected the rank of predictions to be 1, but got "+o.rank}),uE(r.shape[0]===o.shape[0],function(){return"Mismatch in the number of examples: "+r.shape[0]+" vs. "+o.shape[0]+". Labels and predictions should have the same number of elements."}),uE(n>0&&Number.isInteger(n),function(){return"numClasses is required to be a positive integer, but got "+n});var a=MI(r.asType("int32"),n),i=MI(o.asType("int32"),n);return a.transpose().matMul(i).asType("int32")}}),FF=(Object.freeze({confusionMatrix:jF}),U_({fromPixels_:function(e,t){if(void 0===t&&(t=3),t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");var n=!1,r=!1,o=!1,a=!1,i=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!=typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)o=!0;else if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)a=!0;else{if(null==e.getContext)throw new Error("pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was "+e.constructor.name);i=!0}if(o&&o&&e.readyState<2)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.");if(null!=eE("FromPixels",bR.backendName))return bR.runKernel("FromPixels",{pixels:e},{numChannels:t});var s,l,u=o?[e.videoWidth,e.videoHeight]:[e.width,e.height],c=u[0],d=u[1];if(i?s=e.getContext("2d").getImageData(0,0,c,d).data:r||n?s=e.data:(a||o)&&(null==NF&&(NF=document.createElement("canvas").getContext("2d")),NF.canvas.width=c,NF.canvas.height=d,NF.drawImage(e,0,0,c,d),s=NF.getImageData(0,0,c,d).data),4===t)l=new Int32Array(s);else{var p=c*d;l=new Int32Array(p*t);for(var f=0;f<p;f++)for(var h=0;h<t;++h)l[f*t+h]=s[4*f+h]}return Q_(l,[d,c,t],"int32")}})),LF=Object.freeze({toPixels:function(e,t){return Kk(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S,C,k;return Xk(this,function(E){switch(E.label){case 0:if(n=A_(e,"img","toPixels"),e instanceof rR||(n=n.toInt()),2!==n.rank&&3!==n.rank)throw new Error("toPixels only supports rank 2 or 3 tensors, got rank "+n.rank+".");if(r=n.shape.slice(0,2),o=r[0],a=r[1],(i=2===n.rank?1:n.shape[2])>4||2===i)throw new Error("toPixels only supports depth of size 1, 3 or 4 but got "+i);return[4,n.data()];case 1:return s=E.sent(),l=n.min(),u=n.max(),[4,Promise.all([l.data(),u.data()])];case 2:if(c=E.sent(),d=c[0],p=c[1],f=d[0],h=p[0],l.dispose(),u.dispose(),"float32"===n.dtype){if(f<0||h>1)throw new Error("Tensor values for a float32 Tensor must be in the range [0 - 1] but got range ["+f+" - "+h+"].")}else{if("int32"!==n.dtype)throw new Error("Unsupported type for toPixels: "+n.dtype+". Please use float32 or int32 tensors.");if(f<0||h>255)throw new Error("Tensor values for a int32 Tensor must be in the range [0 - 255] but got range ["+f+" - "+h+"].")}for(m="float32"===n.dtype?255:1,v=new Uint8ClampedArray(a*o*4),g=0;g<o*a;++g)y=void 0,b=void 0,x=void 0,w=void 0,1===i?(y=s[g]*m,b=s[g]*m,x=s[g]*m,w=255):3===i?(y=s[3*g]*m,b=s[3*g+1]*m,x=s[3*g+2]*m,w=255):4===i&&(y=s[4*g]*m,b=s[4*g+1]*m,x=s[4*g+2]*m,w=s[4*g+3]*m),v[0+(S=4*g)]=Math.round(y),v[S+1]=Math.round(b),v[S+2]=Math.round(x),v[S+3]=Math.round(w);return null!=t&&(t.width=a,t.height=o,C=t.getContext("2d"),k=new ImageData(v,a,o),C.putImageData(k,0,0)),n!==e&&n.dispose(),[2,v]}})})},fromPixels:FF}),BF=function(){function e(){}return e.prototype.getClassName=function(){return this.constructor.className},e.fromConfig=function(e,t){return new e(t)},e}(),zF=function(){function e(){this.classNameMap={}}return e.getMap=function(){return null==e.instance&&(e.instance=new e),e.instance},e.register=function(t){e.getMap().classNameMap[t.className]=[t,t.fromConfig]},e}();function WF(e){uE(null!=e.className,function(){return"Class being registered does not have the static className property defined."}),uE("string"==typeof e.className,function(){return"className is required to be a string, but got type "+typeof e.className}),uE(e.className.length>0,function(){return"Class being registered has an empty-string as its className, which is disallowed."}),zF.register(e)}Object.freeze({Serializable:BF,SerializationMap:zF,registerClass:WF});function UF(){return 32===bR.backend.floatPrecision()?.001:.1}function VF(e,t,n){var r=!0;if((IE(e)||IE(t))&&(r=!1),IE(e)&&IE(t)&&(r=!0),r){var o=e.constructor.name,a=t.constructor.name;if(o!==a)throw new Error("Arrays are of different type. Actual: "+o+". Expected: "+a)}if(Array.isArray(e)&&Array.isArray(t)){var i=I_(e),s=I_(t);if(!hE(i,s))throw new Error("Arrays have different shapes. Actual: ["+i+"]. Expected: ["+s+"]")}var l=IE(e)?e:pE(e),u=IE(t)?t:pE(t);if(l.length!==u.length)throw new Error("Arrays have different lengths actual: "+l.length+" vs expected: "+u.length+".\nActual:   "+l+".\nExpected: "+u+".");for(var c=0;c<u.length;++c){var d=l[c],p=u[c];if(!n(d,p))throw new Error("Arrays differ: actual["+c+"] = "+d+", expected["+c+"] = "+p+".\nActual:   "+l+".\nExpected: "+u+".")}}function HF(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}Object.freeze({TEST_EPSILON_FLOAT16:.1,expectArraysClose:function(e,t,n){return null==n&&(n=UF()),VF(e,t,function(e,t){return HF(e,t,n)})},testEpsilon:UF,expectPromiseToFail:function(e,t){e().then(function(){return t.fail()},function(){return t()})},expectArraysEqual:function(e,t){var n="string"==typeof t||"number"==typeof t||"boolean"==typeof t?[t]:t;return PE(e)||PE(e[0])||PE(t)||PE(t[0])?VF(e,n,function(e,t){return e==t}):VF(e,t,function(e,t){return HF(e,t,0)})},expectNumbersClose:function(e,t,n){if(null==n&&(n=UF()),!HF(e,t,n))throw new Error("Numbers differ: actual === "+e+", expected === "+t)},expectValuesInRange:function(e,t,n){for(var r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error("Value out of range:"+e[r]+" low: "+t+", high: "+n)},expectArrayBuffersEqual:function(e,t){expect(new Float32Array(e)).toEqual(new Float32Array(t))}}),Object.freeze({gpgpu_util:_P,webgl_util:S_,forceHalfFloat:function(){Yk().set("WEBGL_FORCE_F16_TEXTURES",!0)},MathBackendWebGL:UN,setWebGLContext:_R,GPGPUContext:IP});var qF=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Gk(t,e),t.prototype.minimize=function(e,t,n){void 0===t&&(t=!1);var r=this.computeGradients(e,n),o=r.value,a=r.grads;if(null!=n){var i=n.map(function(e){return{name:e.name,tensor:a[e.name]}});this.applyGradients(i)}else this.applyGradients(a);return R_(a),t?o:(o.dispose(),null)},Object.defineProperty(t.prototype,"iterations",{get:function(){return null==this.iterations_&&(this.iterations_=0),this.iterations_},enumerable:!0,configurable:!0}),t.prototype.incrementIterations=function(){this.iterations_=this.iterations+1},t.prototype.computeGradients=function(e,t){return function(e,t){uE(DE(e),function(){return"The f passed in variableGrads(f) must be a function"}),uE(null==t||Array.isArray(t)&&t.every(function(e){return e instanceof uR}),function(){return"The varList passed in variableGrads(f, varList) must be an array of variables"});var n=null!=t;if(!n)for(var r in t=[],bR.registeredVariables)t.push(bR.registeredVariables[r]);var o=n?t.filter(function(e){return!e.trainable}):null,a=t.length;uE((t=t.filter(function(e){return e.trainable})).length>0,function(){return"variableGrads() expects at least one of the input variables to be trainable, but none of the "+a+" variables is trainable."});var i=bR.gradients(e,t,null,!0),s=i.value,l=i.grads;uE(l.some(function(e){return null!=e}),function(){return"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."}),uE(0===s.rank,function(){return"The f passed in variableGrads(f) must return a scalar, but it returned a rank-"+s.rank+" tensor"});var u={};return t.forEach(function(e,t){null!=l[t]&&(u[e.name]=l[t])}),null!=o&&o.forEach(function(e){return u[e.name]=null}),{value:s,grads:u}}(e,t)},t.prototype.dispose=function(){null!=this.iterations_&&R_(this.iterations_)},t.prototype.saveIterations=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){return null==this.iterations_&&(this.iterations_=0),[2,{name:"iter",tensor:X_(this.iterations_,"int32")}]})})},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){throw new Error("getWeights() is not implemented for this optimizer yet.")})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){throw new Error("setWeights() is not implemented for this optimizer class "+this.getClassName())})})},t.prototype.extractIterations=function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){switch(n.label){case 0:return t=this,[4,e[0].tensor.data()];case 1:return t.iterations_=n.sent()[0],[2,e.slice(1)]}})})},t}(BF);Object.defineProperty(qF,Symbol.hasInstance,{value:function(e){return null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients}});var GF=function(e){function t(t,n,r){void 0===r&&(r=null);var o=e.call(this)||this;return o.learningRate=t,o.rho=n,o.epsilon=r,o.accumulatedGrads=[],o.accumulatedUpdates=[],null==r&&(o.epsilon=bR.backend.epsilon()),o}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=bR.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accum_grad",variable:E_(function(){return oI(o).variable(!1)})}),null==t.accumulatedUpdates[r]&&(t.accumulatedUpdates[r]={originalName:n+"/accum_var",variable:E_(function(){return oI(o).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=t.accumulatedGrads[r].variable,s=t.accumulatedUpdates[r].variable;E_(function(){var e=i.mul(t.rho).add(a.square().mul(1-t.rho)),n=s.add(t.epsilon).sqrt().div(i.add(t.epsilon).sqrt()).mul(a),r=s.mul(t.rho).add(n.square().mul(1-t.rho));i.assign(e),s.assign(r);var l=n.mul(-t.learningRate).add(o);o.assign(l)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedUpdates&&(R_(this.accumulatedGrads.map(function(e){return e.variable})),R_(this.accumulatedUpdates.map(function(e){return e.variable})))},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return e=this.accumulatedGrads.concat(this.accumulatedUpdates),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=e.length/2,this.accumulatedGrads=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedUpdates=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.rho,t.epsilon)},t.className="Adadelta",t}(qF);WF(GF);var KF=function(e){function t(t,n){void 0===n&&(n=.1);var r=e.call(this)||this;return r.learningRate=t,r.initialAccumulatorValue=n,r.accumulatedGrads=[],r}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=bR.registeredVariables[n];null==t.accumulatedGrads[r]&&(t.accumulatedGrads[r]={originalName:n+"/accumulator",variable:E_(function(){return tI(o.shape,t.initialAccumulatorValue).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=t.accumulatedGrads[r].variable;E_(function(){var e=i.add(a.square());i.assign(e);var n=a.div(e.add(bR.backend.epsilon()).sqrt()).mul(-t.learningRate).add(o);o.assign(n)})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedGrads&&R_(this.accumulatedGrads.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulatedGrads.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulatedGrads=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}},t.fromConfig=function(e,t){return new e(t.learningRate,t.initialAccumulatorValue)},t.className="Adagrad",t}(qF);WF(KF);var XF=function(e){function t(t,n,r,o){void 0===o&&(o=null);var a=e.call(this)||this;return a.learningRate=t,a.beta1=n,a.beta2=r,a.epsilon=o,a.accumulatedFirstMoment=[],a.accumulatedSecondMoment=[],E_(function(){a.accBeta1=X_(n).variable(),a.accBeta2=X_(r).variable()}),null==o&&(a.epsilon=bR.backend.epsilon()),a}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);E_(function(){var r=dO(1,t.accBeta1),o=dO(1,t.accBeta2);n.forEach(function(n,a){var i=bR.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:E_(function(){return oI(i).variable(!1)})}),null==t.accumulatedSecondMoment[a]&&(t.accumulatedSecondMoment[a]={originalName:n+"/v",variable:E_(function(){return oI(i).variable(!1)})});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[a].variable,u=t.accumulatedSecondMoment[a].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),d=u.mul(t.beta2).add(s.square().mul(1-t.beta2)),p=c.div(r),f=d.div(o);l.assign(c),u.assign(d);var h=p.div(f.sqrt().add(t.epsilon)).mul(-t.learningRate).add(i);i.assign(h)}}),t.accBeta1.assign(t.accBeta1.mul(t.beta1)),t.accBeta2.assign(t.accBeta2.mul(t.beta2))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&R_(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedSecondMoment&&R_(this.accumulatedSecondMoment.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return e=this.accumulatedFirstMoment.concat(this.accumulatedSecondMoment),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){var t,n=this;return Xk(this,function(r){switch(r.label){case 0:return[4,this.extractIterations(e)];case 1:return e=r.sent(),E_(function(){n.accBeta1.assign(lO(n.beta1,n.iterations_+1)),n.accBeta2.assign(lO(n.beta2,n.iterations_+1))}),t=e.length/2,this.accumulatedFirstMoment=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedSecondMoment=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)},t.className="Adam",t}(qF);WF(XF);var $F=function(e){function t(t,n,r,o,a){void 0===o&&(o=null),void 0===a&&(a=0);var i=e.call(this)||this;return i.learningRate=t,i.beta1=n,i.beta2=r,i.epsilon=o,i.decay=a,i.accumulatedFirstMoment=[],i.accumulatedWeightedInfNorm=[],E_(function(){i.iteration=X_(0).variable(),i.accBeta1=X_(n).variable()}),null==o&&(i.epsilon=bR.backend.epsilon()),i}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this,n=Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e);E_(function(){var r=dO(1,t.accBeta1),o=YM(-t.learningRate,t.iteration.mul(t.decay).add(1));n.forEach(function(n,a){var i=bR.registeredVariables[n];null==t.accumulatedFirstMoment[a]&&(t.accumulatedFirstMoment[a]={originalName:n+"/m",variable:oI(i).variable(!1)}),null==t.accumulatedWeightedInfNorm[a]&&(t.accumulatedWeightedInfNorm[a]={originalName:n+"/v",variable:oI(i).variable(!1)});var s=Array.isArray(e)?e[a].tensor:e[n];if(null!=s){var l=t.accumulatedFirstMoment[a].variable,u=t.accumulatedWeightedInfNorm[a].variable,c=l.mul(t.beta1).add(s.mul(1-t.beta1)),d=u.mul(t.beta2),p=s.abs(),f=d.maximum(p);l.assign(c),u.assign(f);var h=o.div(r).mul(c.div(f.add(t.epsilon))).add(i);i.assign(h)}}),t.iteration.assign(t.iteration.add(1)),t.accBeta1.assign(t.accBeta1.mul(t.beta1))}),this.incrementIterations()},t.prototype.dispose=function(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&R_(this.accumulatedFirstMoment.map(function(e){return e.variable})),null!=this.accumulatedWeightedInfNorm&&R_(this.accumulatedWeightedInfNorm.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){throw new Error("getWeights() is not implemented for Adamax yet.")})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){throw new Error("setWeights() is not implemented for Adamax yet.")})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}},t.fromConfig=function(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)},t.className="Adamax",t}(qF);WF($F);var YF=function(e){function t(t){var n=e.call(this)||this;return n.learningRate=t,n.setLearningRate(t),n}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=Array.isArray(e)?e[r].tensor:e[n];if(null!=o){var a=bR.registeredVariables[n];E_(function(){var e=t.c.mul(o).add(a);a.assign(e)})}}),this.incrementIterations()},t.prototype.setLearningRate=function(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=function(e){return bR.keep(e)}(X_(-e))},t.prototype.dispose=function(){this.c.dispose()},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()]]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:if(0!==(e=t.sent()).length)throw new Error("SGD optimizer does not have settable weights.");return[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate}},t.fromConfig=function(e,t){return new e(t.learningRate)},t.className="SGD",t}(qF);WF(YF);var QF=function(e){function t(t,n,r){void 0===r&&(r=!1);var o=e.call(this,t)||this;return o.learningRate=t,o.momentum=n,o.useNesterov=r,o.accumulations=[],o.m=X_(o.momentum),o}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=bR.registeredVariables[n];null==t.accumulations[r]&&(t.accumulations[r]={originalName:n+"/momentum",variable:E_(function(){return oI(o).variable(!1)})});var a=t.accumulations[r].variable,i=Array.isArray(e)?e[r].tensor:e[n];null!=i&&E_(function(){var e,n=t.m.mul(a).add(i);e=t.useNesterov?t.c.mul(i.add(n.mul(t.m))).add(o):t.c.mul(n).add(o),a.assign(n),o.assign(e)})}),this.incrementIterations()},t.prototype.dispose=function(){this.m.dispose(),null!=this.accumulations&&R_(this.accumulations.map(function(e){return e.variable}))},t.prototype.setMomentum=function(e){this.momentum=e},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){return Xk(this,function(e){switch(e.label){case 0:return[4,this.saveIterations()];case 1:return[2,[e.sent()].concat(this.accumulations.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){return Xk(this,function(t){switch(t.label){case 0:return[4,this.extractIterations(e)];case 1:return e=t.sent(),this.accumulations=e.map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}},t.fromConfig=function(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)},t.className="Momentum",t}(YF);WF(QF);var JF=function(e){function t(t,n,r,o,a){void 0===n&&(n=.9),void 0===r&&(r=0),void 0===o&&(o=null),void 0===a&&(a=!1);var i=e.call(this)||this;if(i.learningRate=t,i.decay=n,i.momentum=r,i.epsilon=o,i.accumulatedMeanSquares=[],i.accumulatedMoments=[],i.accumulatedMeanGrads=[],i.centered=a,null==o&&(i.epsilon=bR.backend.epsilon()),null==t)throw new Error("learningRate for RMSPropOptimizer must be defined.");return i}return Gk(t,e),t.prototype.applyGradients=function(e){var t=this;(Array.isArray(e)?e.map(function(e){return e.name}):Object.keys(e)).forEach(function(n,r){var o=bR.registeredVariables[n];null==t.accumulatedMeanSquares[r]&&(t.accumulatedMeanSquares[r]={originalName:n+"/rms",variable:E_(function(){return oI(o).variable(!1)})}),null==t.accumulatedMoments[r]&&(t.accumulatedMoments[r]={originalName:n+"/momentum",variable:E_(function(){return oI(o).variable(!1)})}),null==t.accumulatedMeanGrads[r]&&t.centered&&(t.accumulatedMeanGrads[r]={originalName:n+"/mg",variable:E_(function(){return oI(o).variable(!1)})});var a=Array.isArray(e)?e[r].tensor:e[n];if(null!=a){var i=t.accumulatedMeanSquares[r].variable,s=t.accumulatedMoments[r].variable;E_(function(){var e=i.mul(t.decay).add(a.square().mul(1-t.decay));if(t.centered){var n=t.accumulatedMeanGrads[r].variable,l=n.mul(t.decay).add(a.mul(1-t.decay)),u=s.mul(t.momentum).add(a.mul(t.learningRate).div(e.sub(l.square().add(t.epsilon)).sqrt()));i.assign(e),n.assign(l),s.assign(u);var c=o.sub(u);o.assign(c)}else{var d=i.mul(t.decay).add(a.square().mul(1-t.decay));u=s.mul(t.momentum).add(a.mul(t.learningRate).div(d.add(t.epsilon).sqrt())),i.assign(d),s.assign(u),c=o.sub(u),o.assign(c)}})}}),this.incrementIterations()},t.prototype.dispose=function(){null!=this.accumulatedMeanSquares&&R_(this.accumulatedMeanSquares.map(function(e){return e.variable})),null!=this.accumulatedMeanGrads&&this.centered&&R_(this.accumulatedMeanGrads.map(function(e){return e.variable})),null!=this.accumulatedMoments&&R_(this.accumulatedMoments.map(function(e){return e.variable}))},t.prototype.getWeights=function(){return Kk(this,void 0,void 0,function(){var e;return Xk(this,function(t){switch(t.label){case 0:return e=this.accumulatedMeanSquares.concat(this.accumulatedMoments),this.centered&&e.push.apply(e,this.accumulatedMeanGrads),[4,this.saveIterations()];case 1:return[2,[t.sent()].concat(e.map(function(e){return{name:e.originalName,tensor:e.variable}}))]}})})},t.prototype.setWeights=function(e){return Kk(this,void 0,void 0,function(){var t;return Xk(this,function(n){switch(n.label){case 0:return[4,this.extractIterations(e)];case 1:return e=n.sent(),t=this.centered?e.length/3:e.length/2,this.accumulatedMeanSquares=e.slice(0,t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.accumulatedMoments=e.slice(t,2*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}}),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map(function(e){return{originalName:e.name,variable:e.tensor.variable(!1)}})),[2]}})})},t.prototype.getConfig=function(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}},t.fromConfig=function(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)},t.className="RMSProp",t}(qF);WF(JF);var ZF=function(){function e(){}return e.sgd=function(e){return new YF(e)},e.momentum=function(e,t,n){return void 0===n&&(n=!1),new QF(e,t,n)},e.rmsprop=function(e,t,n,r,o){return void 0===t&&(t=.9),void 0===n&&(n=0),void 0===r&&(r=null),void 0===o&&(o=!1),new JF(e,t,n,r,o)},e.adam=function(e,t,n,r){return void 0===e&&(e=.001),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),new XF(e,t,n,r)},e.adadelta=function(e,t,n){return void 0===e&&(e=.001),void 0===t&&(t=.95),void 0===n&&(n=null),new GF(e,t,n)},e.adamax=function(e,t,n,r,o){return void 0===e&&(e=.002),void 0===t&&(t=.9),void 0===n&&(n=.999),void 0===r&&(r=null),void 0===o&&(o=0),new $F(e,t,n,r,o)},e.adagrad=function(e,t){return void 0===t&&(t=.1),new KF(e,t)},e}();ZF.sgd,ZF.momentum,ZF.adadelta,ZF.adagrad,ZF.rmsprop,ZF.adamax,ZF.adam,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:"undefined"!=typeof setImmediate&&setImmediate;rR.prototype.squaredDifference=function(e){return qN(this,e)},tR=Ij;var eL=function(e,t){return eL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},eL(e,t)};function tL(e,t){function n(){this.constructor=e}eL(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var nL=function(){return nL=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},nL.apply(this,arguments)};function rL(e,t,n,r){return new(n||(n=Promise))(function(o,a){function i(e){try{l(r.next(e))}catch(Gk){a(Gk)}}function s(e){try{l(r.throw(e))}catch(Gk){a(Gk)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((r=r.apply(e,t||[])).next())})}function oL(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Gk){a=[6,Gk],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function aL(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var a=arguments[t],i=0,s=a.length;i<s;i++,o++)r[o]=a[i];return r}var iL=function(){function e(e,t){if(!hL(e)||!hL(t))throw new Error("Dimensions.constructor - expected width and height to be valid numbers, instead have "+JSON.stringify({width:e,height:t}));this._width=e,this._height=t}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.reverse=function(){return new e(1/this.width,1/this.height)},e}();function sL(e,t){return e instanceof rR&&e.shape.length===t}function lL(e){return sL(e,3)}function uL(e){return sL(e,4)}function cL(e){return e%2===0}function dL(e){return e&&e.width&&e.height}function pL(e){return e.reduce(function(e,t){return e.add(t)},new vL(0,0)).div(new vL(e.length,e.length))}function fL(e,t,n){return Array(e).fill(0).map(function(e,r){return t+r*n})}function hL(e){return!!e&&e!==1/0&&e!==-1/0&&!isNaN(e)||0===e}function mL(e){return hL(e)&&0<=e&&e<=1}var vL=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e.prototype.add=function(t){return new e(this.x+t.x,this.y+t.y)},e.prototype.sub=function(t){return new e(this.x-t.x,this.y-t.y)},e.prototype.mul=function(t){return new e(this.x*t.x,this.y*t.y)},e.prototype.div=function(t){return new e(this.x/t.x,this.y/t.y)},e.prototype.abs=function(){return new e(Math.abs(this.x),Math.abs(this.y))},e.prototype.magnitude=function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))},e.prototype.floor=function(){return new e(Math.floor(this.x),Math.floor(this.y))},e}(),gL=function(){function e(t,n){void 0===n&&(n=!0);var r=t||{},o=[r.left,r.top,r.right,r.bottom].every(hL),a=[r.x,r.y,r.width,r.height].every(hL);if(!a&&!o)throw new Error("Box.constructor - expected box to be IBoundingBox | IRect, instead have "+JSON.stringify(r));var i=a?[r.x,r.y,r.width,r.height]:[r.left,r.top,r.right-r.left,r.bottom-r.top],s=i[0],l=i[1],u=i[2],c=i[3];e.assertIsValidBox({x:s,y:l,width:u,height:c},"Box.constructor",n),this._x=s,this._y=l,this._width=u,this._height=c}return e.isRect=function(e){return!!e&&[e.x,e.y,e.width,e.height].every(hL)},e.assertIsValidBox=function(t,n,r){if(void 0===r&&(r=!1),!e.isRect(t))throw new Error(n+" - invalid box: "+JSON.stringify(t)+", expected object with properties x, y, width, height");if(!r&&(t.width<0||t.height<0))throw new Error(n+" - width ("+t.width+") and height ("+t.height+") must be positive numbers")},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"area",{get:function(){return this.width*this.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topLeft",{get:function(){return new vL(this.left,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topRight",{get:function(){return new vL(this.right,this.top)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomLeft",{get:function(){return new vL(this.left,this.bottom)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bottomRight",{get:function(){return new vL(this.right,this.bottom)},enumerable:!0,configurable:!0}),e.prototype.round=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.round(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.floor=function(){var t=[this.x,this.y,this.width,this.height].map(function(e){return Math.floor(e)});return new e({x:t[0],y:t[1],width:t[2],height:t[3]})},e.prototype.toSquare=function(){var t=this,n=t.x,r=t.y,o=t.width,a=t.height,i=Math.abs(o-a);return o<a&&(n-=i/2,o+=i),a<o&&(r-=i/2,a+=i),new e({x:n,y:r,width:o,height:a})},e.prototype.rescale=function(t){var n=dL(t)?t.width:t,r=dL(t)?t.height:t;return new e({x:this.x*n,y:this.y*r,width:this.width*n,height:this.height*r})},e.prototype.pad=function(t,n){var r=[this.x-t/2,this.y-n/2,this.width+t,this.height+n];return new e({x:r[0],y:r[1],width:r[2],height:r[3]})},e.prototype.clipAtImageBorders=function(t,n){var r=this,o=r.x,a=r.y,i=r.right,s=r.bottom,l=Math.max(o,0),u=Math.max(a,0),c=i-l,d=s-u;return new e({x:l,y:u,width:Math.min(c,t-l),height:Math.min(d,n-u)}).floor()},e.prototype.shift=function(t,n){var r=this.width,o=this.height;return new e({x:this.x+t,y:this.y+n,width:r,height:o})},e.prototype.padAtBorders=function(e,t){var n=this.width+1,r=this.height+1,o=n,a=r,i=this.left,s=this.top,l=this.right,u=this.bottom;return l>t&&(o=-l+t+n,l=t),u>e&&(a=-u+e+r,u=e),i<1&&(a=2-i,i=1),s<1&&(a=2-s,s=1),{dy:1,edy:a,dx:1,edx:o,y:s,ey:u,x:i,ex:l,w:n,h:r}},e.prototype.calibrate=function(t){return new e({left:this.left+t.left*this.width,top:this.top+t.top*this.height,right:this.right+t.right*this.width,bottom:this.bottom+t.bottom*this.height}).toSquare().round()},e}(),yL=function(e){function t(t,n,r,o,a){return void 0===a&&(a=!1),e.call(this,{left:t,top:n,right:r,bottom:o},a)||this}return tL(t,e),t}(gL),bL=function(){function e(e,t,n,r,o){this._imageDims=new iL(o.width,o.height),this._score=e,this._classScore=t,this._className=n,this._box=new gL(r).rescale(this._imageDims)}return Object.defineProperty(e.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"box",{get:function(){return this._box},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageDims",{get:function(){return this._imageDims},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this.imageDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this.imageDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativeBox",{get:function(){return new gL(this._box).rescale(this.imageDims.reverse())},enumerable:!0,configurable:!0}),e.prototype.forSize=function(t,n){return new e(this.score,this.classScore,this.className,this.relativeBox,{width:t,height:n})},e}(),xL=function(e){function t(t,n,r){return e.call(this,t,t,"",n,r)||this}return tL(t,e),t.prototype.forSize=function(n,r){var o=e.prototype.forSize.call(this,n,r);return new t(o.score,o.relativeBox,o.imageDims)},t}(bL);function wL(e,t,n){void 0===n&&(n=!0);var r=Math.max(0,Math.min(e.right,t.right)-Math.max(e.left,t.left))*Math.max(0,Math.min(e.bottom,t.bottom)-Math.max(e.top,t.top));return n?r/(e.area+t.area-r):r/Math.min(e.area,t.area)}function SL(e,t,n,r){void 0===r&&(r=!0);for(var o=t.map(function(e,t){return{score:e,boxIndex:t}}).sort(function(e,t){return e.score-t.score}).map(function(e){return e.boxIndex}),a=[],i=function(){var t=o.pop();a.push(t);for(var i=o,s=[],l=0;l<i.length;l++){var u=i[l],c=e[t],d=e[u];s.push(wL(c,d,r))}o=o.filter(function(e,t){return s[t]<=n})};o.length>0;)i();return a}function CL(e,t){return E_(function(){var n=t[0],r=t[1],o=t[2],a=tI(aL(e.shape.slice(0,3),[1]),n),i=tI(aL(e.shape.slice(0,3),[1]),r),s=tI(aL(e.shape.slice(0,3),[1]),o),l=aI([a,i,s],3);return dO(e,l)})}function kL(e){return 1/(1+Math.exp(-e))}var EL,RL=function(e){function t(t,n,r,o,a){return void 0===a&&(a=!1),e.call(this,{x:t,y:n,width:r,height:o},a)||this}return tL(t,e),t}(gL),_L=function(){function e(e,t,n){void 0===n&&(n=new vL(0,0));var r=t.width,o=t.height;this._imgDims=new iL(r,o),this._shift=n,this._positions=e.map(function(e){return e.mul(new vL(r,o)).add(n)})}return Object.defineProperty(e.prototype,"shift",{get:function(){return new vL(this._shift.x,this._shift.y)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageWidth",{get:function(){return this._imgDims.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"imageHeight",{get:function(){return this._imgDims.height},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"positions",{get:function(){return this._positions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"relativePositions",{get:function(){var e=this;return this._positions.map(function(t){return t.sub(e._shift).div(new vL(e.imageWidth,e.imageHeight))})},enumerable:!0,configurable:!0}),e.prototype.forSize=function(e,t){return new this.constructor(this.relativePositions,{width:e,height:t})},e.prototype.shiftBy=function(e,t){return new this.constructor(this.relativePositions,this._imgDims,new vL(e,t))},e.prototype.shiftByPoint=function(e){return this.shiftBy(e.x,e.y)},e.prototype.align=function(e,t){if(void 0===t&&(t={}),e){var n=e instanceof xL?e.box.floor():new gL(e);return this.shiftBy(n.x,n.y).align(null,t)}var r=Object.assign({},{useDlibAlignment:!1,minBoxPadding:.2},t),o=r.useDlibAlignment,a=r.minBoxPadding;return o?this.alignDlib():this.alignMinBbox(a)},e.prototype.alignDlib=function(){var e=this.getRefPointsForAlignment(),t=e[0],n=e[1],r=e[2],o=function(e){return r.sub(e).magnitude()},a=(o(t)+o(n))/2,i=Math.floor(a/.45),s=pL(e),l=Math.floor(Math.max(0,s.x-.5*i)),u=Math.floor(Math.max(0,s.y-.43*i));return new RL(l,u,Math.min(i,this.imageWidth+l),Math.min(i,this.imageHeight+u))},e.prototype.alignMinBbox=function(e){var t=function(e){var t=e.map(function(e){return e.x}),n=e.map(function(e){return e.y}),r=t.reduce(function(e,t){return t<e?t:e},1/0),o=n.reduce(function(e,t){return t<e?t:e},1/0),a=t.reduce(function(e,t){return e<t?t:e},0),i=n.reduce(function(e,t){return e<t?t:e},0);return new yL(r,o,a,i)}(this.positions);return t.pad(t.width*e,t.height*e)},e.prototype.getRefPointsForAlignment=function(){throw new Error("getRefPointsForAlignment not implemented by base class")},e}(),IL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.getRefPointsForAlignment=function(){var e=this.positions;return[e[0],e[1],pL([e[3],e[4]])]},t}(_L),TL=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.getJawOutline=function(){return this.positions.slice(0,17)},t.prototype.getLeftEyeBrow=function(){return this.positions.slice(17,22)},t.prototype.getRightEyeBrow=function(){return this.positions.slice(22,27)},t.prototype.getNose=function(){return this.positions.slice(27,36)},t.prototype.getLeftEye=function(){return this.positions.slice(36,42)},t.prototype.getRightEye=function(){return this.positions.slice(42,48)},t.prototype.getMouth=function(){return this.positions.slice(48,68)},t.prototype.getRefPointsForAlignment=function(){return[this.getLeftEye(),this.getRightEye(),this.getMouth()].map(pL)},t}(_L),AL=function(){function e(e,t){this._label=e,this._distance=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distance",{get:function(){return this._distance},enumerable:!0,configurable:!0}),e.prototype.toString=function(e){return void 0===e&&(e=!0),this.label+(e?" ("+function(e,t){void 0===t&&(t=2);var n=Math.pow(10,t);return Math.floor(e*n)/n}(this.distance)+")":"")},e}(),PL=function(e){function t(t,n){var r=e.call(this,t)||this;return r._label=n,r}return tL(t,e),t.assertIsValidLabeledBox=function(e,t){if(gL.assertIsValidBox(e,t),!hL(e.label))throw new Error(t+" - expected property label ("+e.label+") to be a number")},Object.defineProperty(t.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),t}(gL),NL=function(){function e(e,t){if("string"!==typeof e)throw new Error("LabeledFaceDescriptors - constructor expected label to be a string");if(!Array.isArray(t)||t.some(function(e){return!(e instanceof Float32Array)}))throw new Error("LabeledFaceDescriptors - constructor expected descriptors to be an array of Float32Array");this._label=e,this._descriptors=t}return Object.defineProperty(e.prototype,"label",{get:function(){return this._label},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"descriptors",{get:function(){return this._descriptors},enumerable:!0,configurable:!0}),e.prototype.toJSON=function(){return{label:this.label,descriptors:this.descriptors.map(function(e){return Array.from(e)})}},e.fromJSON=function(t){var n=t.descriptors.map(function(e){return new Float32Array(e)});return new e(t.label,n)},e}();!function(e){function t(t,n,r,o){var a=e.call(this,t,n)||this;return a._score=r,a._classScore=o,a}tL(t,e),t.assertIsValidPredictedBox=function(e,t){if(PL.assertIsValidLabeledBox(e,t),!mL(e.score)||!mL(e.classScore))throw new Error(t+" - expected properties score ("+e.score+") and ("+e.classScore+") to be a number between [0, 1]")},Object.defineProperty(t.prototype,"score",{get:function(){return this._score},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"classScore",{get:function(){return this._classScore},enumerable:!0,configurable:!0})}(PL);function ML(e,t){var n={detection:t};return Object.assign({},e,n)}function OL(){var e=window.fetch||function(){throw new Error("fetch - missing fetch implementation for browser environment")};return{Canvas:HTMLCanvasElement,CanvasRenderingContext2D:CanvasRenderingContext2D,Image:HTMLImageElement,ImageData:ImageData,Video:HTMLVideoElement,createCanvasElement:function(){return document.createElement("canvas")},createImageElement:function(){return document.createElement("img")},fetch:e,readFile:function(){throw new Error("readFile - filesystem not available for browser environment")}}}function DL(e){var t="";if(!e)try{e=n(Object(function(){var e=new Error("Cannot find module 'fs'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(o){t=o.toString()}var r=e?function(t){return new Promise(function(n,r){e.readFile(t,function(e,t){return e?r(e):n(t)})})}:function(){throw new Error("readFile - failed to require fs in nodejs environment with error: "+t)};return{readFile:r}}function jL(){var e=n.g.Canvas||n.g.HTMLCanvasElement,t=n.g.Image||n.g.HTMLImageElement,r=n.g.fetch||function(){throw new Error("fetch - missing fetch implementation for nodejs environment")},o=DL();return nL({Canvas:e||function(){},CanvasRenderingContext2D:n.g.CanvasRenderingContext2D||function(){},Image:t||function(){},ImageData:n.g.ImageData||function(){},Video:n.g.HTMLVideoElement||function(){},createCanvasElement:function(){if(e)return new e;throw new Error("createCanvasElement - missing Canvas implementation for nodejs environment")},createImageElement:function(){if(t)return new t;throw new Error("createImageElement - missing Image implementation for nodejs environment")},fetch:r},o)}function FL(){return"object"===typeof window&&"undefined"!==typeof document&&"undefined"!==typeof HTMLImageElement&&"undefined"!==typeof HTMLCanvasElement&&"undefined"!==typeof HTMLVideoElement&&"undefined"!==typeof ImageData&&"undefined"!==typeof CanvasRenderingContext2D}function LL(){return"object"===typeof n.g&&"undefined"!==typeof process&&!!process.version}function BL(e){EL=e}function zL(){FL()&&BL(OL()),LL()&&BL(jL())}var WL,UL={getEnv:function(){if(!EL)throw new Error("getEnv - environment is not defined, check isNodejs() and isBrowser()");return EL},setEnv:BL,initialize:zL,createBrowserEnv:OL,createFileSystem:DL,createNodejsEnv:jL,monkeyPatch:function(e){if(EL||zL(),!EL)throw new Error("monkeyPatch - environment is not defined, check isNodejs() and isBrowser()");var t=e.Canvas,n=void 0===t?EL.Canvas:t,r=e.Image,o=void 0===r?EL.Image:r;EL.Canvas=n,EL.Image=o,EL.createCanvasElement=e.createCanvasElement||function(){return new n},EL.createImageElement=e.createImageElement||function(){return new o},EL.ImageData=e.ImageData||EL.ImageData,EL.Video=e.Video||EL.Video,EL.fetch=e.fetch||EL.fetch,EL.readFile=e.readFile||EL.readFile},isBrowser:FL,isNodejs:LL};function VL(e){return UL.isNodejs()||"string"!==typeof e?e:document.getElementById(e)}function HL(e){var t=UL.getEnv(),n=t.Canvas;if(e instanceof t.CanvasRenderingContext2D)return e;var r=VL(e);if(!(r instanceof n))throw new Error("resolveContext2d - expected canvas to be of instance of Canvas");var o=r.getContext("2d");if(!o)throw new Error("resolveContext2d - canvas 2d context is null");return o}zL(),function(e){e.TOP_LEFT="TOP_LEFT",e.TOP_RIGHT="TOP_RIGHT",e.BOTTOM_LEFT="BOTTOM_LEFT",e.BOTTOM_RIGHT="BOTTOM_RIGHT"}(WL||(WL={}));var qL=function(e){void 0===e&&(e={});var t=e.anchorPosition,n=e.backgroundColor,r=e.fontColor,o=e.fontSize,a=e.fontStyle,i=e.padding;this.anchorPosition=t||WL.TOP_LEFT,this.backgroundColor=n||"rgba(0, 0, 0, 0.5)",this.fontColor=r||"rgba(255, 255, 255, 1)",this.fontSize=o||14,this.fontStyle=a||"Georgia",this.padding=i||4},GL=function(){function e(t,n,r){void 0===r&&(r={}),this.text="string"===typeof t?[t]:t instanceof e?t.text:t,this.anchor=n,this.options=new qL(r)}return e.prototype.measureWidth=function(e){var t=this.options.padding;return this.text.map(function(t){return e.measureText(t).width}).reduce(function(e,t){return e<t?t:e},0)+2*t},e.prototype.measureHeight=function(){var e=this.options,t=e.fontSize,n=e.padding;return this.text.length*t+2*n},e.prototype.getUpperLeft=function(e,t){var n=this.options.anchorPosition,r=n===WL.BOTTOM_RIGHT||n===WL.TOP_RIGHT,o=n===WL.BOTTOM_LEFT||n===WL.BOTTOM_RIGHT,a=this.measureWidth(e),i=this.measureHeight(),s=r?this.anchor.x-a:this.anchor.x,l=o?this.anchor.y-i:this.anchor.y;if(t){var u=t.width,c=t.height;return{x:Math.max(Math.min(s,u-a),0),y:Math.max(Math.min(l,c-i),0)}}return{x:s,y:l}},e.prototype.draw=function(e){var t=VL(e),n=HL(t),r=this.options,o=r.backgroundColor,a=r.fontColor,i=r.fontSize,s=r.fontStyle,l=r.padding;n.font=i+"px "+s;var u=this.measureWidth(n),c=this.measureHeight();n.fillStyle=o;var d=this.getUpperLeft(n,t);n.fillRect(d.x,d.y,u,c),n.fillStyle=a,this.text.forEach(function(e,t){var r=l+d.x,o=l+d.y+(t+1)*i;n.fillText(e,r,o)})},e}(),KL=function(e){void 0===e&&(e={});var t=e.boxColor,n=e.lineWidth,r=e.label,o=e.drawLabelOptions;this.boxColor=t||"rgba(0, 0, 255, 1)",this.lineWidth=n||2,this.label=r;var a={anchorPosition:WL.BOTTOM_LEFT,backgroundColor:this.boxColor};this.drawLabelOptions=new qL(Object.assign({},a,o))};!function(){function e(e,t){void 0===t&&(t={}),this.box=new gL(e),this.options=new KL(t)}e.prototype.draw=function(e){var t=HL(e),n=this.options,r=n.boxColor,o=n.lineWidth,a=this.box,i=a.x,s=a.y,l=a.width,u=a.height;t.strokeStyle=r,t.lineWidth=o,t.strokeRect(i,s,l,u);var c=this.options.label;c&&new GL([c],{x:i-o/2,y:s},this.options.drawLabelOptions).draw(e)}}();function XL(e){var t=UL.getEnv(),n=t.Image,r=t.Video;return e instanceof n&&e.complete||e instanceof r&&e.readyState>=3}function $L(e){var t=UL.getEnv(),n=t.Image,r=t.Video;return e instanceof n?new iL(e.naturalWidth,e.naturalHeight):e instanceof r?new iL(e.videoWidth,e.videoHeight):new iL(e.width,e.height)}function YL(e){var t=e.width,n=e.height,r=(0,UL.getEnv().createCanvasElement)();return r.width=t,r.height=n,r}function QL(e,t){var n=UL.getEnv().ImageData;if(!(e instanceof n)&&!XL(e))throw new Error("createCanvasFromMedia - media has not finished loading yet");var r=t||$L(e),o=r.width,a=r.height,i=YL({width:o,height:a});return e instanceof n?HL(i).putImageData(e,0,0):HL(i).drawImage(e,0,0,o,a),i}function JL(e,t){return rL(this,void 0,void 0,function(){var n,r,o,a,i,s;return oL(this,function(l){switch(l.label){case 0:return n=t||UL.getEnv().createCanvasElement(),r=e.shape.slice(uL(e)?1:0),o=r[0],a=r[1],i=r[2],s=E_(function(){return e.as3D(o,a,i).toInt()}),[4,LF.toPixels(s,n)];case 1:return l.sent(),s.dispose(),[2,n]}})})}function ZL(e){var t=UL.getEnv(),n=t.Image,r=t.Canvas,o=t.Video;return e instanceof n||e instanceof r||e instanceof o}var eB=function(){function e(e,t){var n=this;if(void 0===t&&(t=!1),this._imageTensors=[],this._canvases=[],this._treatAsBatchInput=!1,this._inputDimensions=[],!Array.isArray(e))throw new Error("NetInput.constructor - expected inputs to be an Array of TResolvedNetInput or to be instanceof tf.Tensor4D, instead have "+e);this._treatAsBatchInput=t,this._batchSize=e.length,e.forEach(function(e,t){if(lL(e))return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape);if(uL(e)){var r=e.shape[0];if(1!==r)throw new Error("NetInput - tf.Tensor4D with batchSize "+r+" passed, but not supported in input array");return n._imageTensors[t]=e,void(n._inputDimensions[t]=e.shape.slice(1))}var o=e instanceof UL.getEnv().Canvas?e:QL(e);n._canvases[t]=o,n._inputDimensions[t]=[o.height,o.width,3]})}return Object.defineProperty(e.prototype,"imageTensors",{get:function(){return this._imageTensors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"canvases",{get:function(){return this._canvases},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isBatchInput",{get:function(){return this.batchSize>1||this._treatAsBatchInput},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"batchSize",{get:function(){return this._batchSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputDimensions",{get:function(){return this._inputDimensions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reshapedInputDimensions",{get:function(){var e=this;return fL(this.batchSize,0,1).map(function(t,n){return e.getReshapedInputDimensions(n)})},enumerable:!0,configurable:!0}),e.prototype.getInput=function(e){return this.canvases[e]||this.imageTensors[e]},e.prototype.getInputDimensions=function(e){return this._inputDimensions[e]},e.prototype.getInputHeight=function(e){return this._inputDimensions[e][0]},e.prototype.getInputWidth=function(e){return this._inputDimensions[e][1]},e.prototype.getReshapedInputDimensions=function(e){if("number"!==typeof this.inputSize)throw new Error("getReshapedInputDimensions - inputSize not set, toBatchTensor has not been called yet");return function(e,t){var n=e.width,r=e.height,o=t/Math.max(r,n);return new iL(Math.round(n*o),Math.round(r*o))}({width:this.getInputWidth(e),height:this.getInputHeight(e)},this.inputSize)},e.prototype.toBatchTensor=function(e,t){var n=this;return void 0===t&&(t=!0),this._inputSize=e,E_(function(){var r=fL(n.batchSize,0,1).map(function(r){var o=n.getInput(r);if(o instanceof rR){var a=uL(o)?o:o.expandDims();return a=function(e,t){return void 0===t&&(t=!1),E_(function(){var n=e.shape.slice(1),r=n[0],o=n[1];if(r===o)return e;var a=Math.abs(r-o),i=Math.round(a*(t?.5:1)),s=r>o?2:1,l=function(t){var n=e.shape.slice();return n[s]=t,tI(n,0)},u=l(i),c=a-u.shape[s],d=[t&&c?l(c):null,e,u].filter(function(e){return!!e}).map(function(e){return e.toFloat()});return aI(d,s)})}(a,t),a.shape[1]===e&&a.shape[2]===e||(a=bj.resizeBilinear(a,[e,e])),a.as3D(e,e,3)}if(o instanceof UL.getEnv().Canvas)return LF.fromPixels(function(e,t,n){void 0===n&&(n=!1);var r=UL.getEnv(),o=r.Image,a=r.Canvas;if(!(e instanceof o||e instanceof a))throw new Error("imageToSquare - expected arg0 to be HTMLImageElement | HTMLCanvasElement");var i=$L(e),s=t/Math.max(i.height,i.width),l=s*i.width,u=s*i.height,c=YL({width:t,height:t}),d=e instanceof a?e:QL(e),p=Math.abs(l-u)/2,f=n&&l<u?p:0,h=n&&u<l?p:0;return HL(c).drawImage(d,f,h,l,u),c}(o,e,t));throw new Error("toBatchTensor - at batchIdx "+r+", expected input to be instanceof tf.Tensor or instanceof HTMLCanvasElement, instead have "+o)}),o=GI(r.map(function(e){return e.toFloat()})).as4D(n.batchSize,e,e,3);return o})},e}();function tB(e){return rL(this,void 0,void 0,function(){var t,n,r;return oL(this,function(o){switch(o.label){case 0:if(e instanceof eB)return[2,e];if(!(t=Array.isArray(e)?e:[e]).length)throw new Error("toNetInput - empty array passed as input");return n=function(t){return Array.isArray(e)?" at input index "+t+":":""},(r=t.map(VL)).forEach(function(e,r){if(!ZL(e)&&!lL(e)&&!uL(e)){if("string"===typeof t[r])throw new Error("toNetInput -"+n(r)+" string passed, but could not resolve HTMLElement for element id "+t[r]);throw new Error("toNetInput -"+n(r)+" expected media to be of type HTMLImageElement | HTMLVideoElement | HTMLCanvasElement | tf.Tensor3D, or to be an element id")}if(uL(e)){var o=e.shape[0];if(1!==o)throw new Error("toNetInput -"+n(r)+" tf.Tensor4D with batchSize "+o+" passed, but not supported in input array")}}),[4,Promise.all(r.map(function(e){return ZL(e)&&(t=e,new Promise(function(e,n){if(t instanceof UL.getEnv().Canvas||XL(t))return e();function r(t){t.currentTarget&&(t.currentTarget.removeEventListener("load",r),t.currentTarget.removeEventListener("error",o),e(t))}function o(e){e.currentTarget&&(e.currentTarget.removeEventListener("load",r),e.currentTarget.removeEventListener("error",o),n(e))}t.addEventListener("load",r),t.addEventListener("error",o)}));var t}))];case 1:return o.sent(),[2,new eB(r,Array.isArray(e))]}})})}function nB(e,t){return rL(this,void 0,void 0,function(){var n,r,o,a,i,s;return oL(this,function(l){switch(l.label){case 0:return n=UL.getEnv().Canvas,r=e,e instanceof n?[3,5]:[4,tB(e)];case 1:if((o=l.sent()).batchSize>1)throw new Error("extractFaces - batchSize > 1 not supported");return(a=o.getInput(0))instanceof n?(i=a,[3,4]):[3,2];case 2:return[4,JL(a)];case 3:i=l.sent(),l.label=4;case 4:r=i,l.label=5;case 5:return s=HL(r),[2,t.map(function(e){return e instanceof xL?e.forSize(r.width,r.height).box.floor():e}).map(function(e){return e.clipAtImageBorders(r.width,r.height)}).map(function(e){var t=e.x,n=e.y,r=e.width,o=e.height,a=YL({width:r,height:o});return HL(a).putImageData(s.getImageData(t,n,r,o),0,0),a})]}})})}function rB(e,t){return rL(this,void 0,void 0,function(){return oL(this,function(n){if(!lL(e)&&!uL(e))throw new Error("extractFaceTensors - expected image tensor to be 3D or 4D");if(uL(e)&&e.shape[0]>1)throw new Error("extractFaceTensors - batchSize > 1 not supported");return[2,E_(function(){var n=e.shape.slice(uL(e)?1:0),r=n[0],o=n[1],a=n[2],i=t.map(function(e){return e instanceof xL?e.forSize(o,r).box:e}).map(function(e){return e.clipAtImageBorders(o,r)}).map(function(t){var n=t.x,i=t.y,s=t.width,l=t.height;return sD(e.as3D(r,o,a),[i,n,0],[l,s,a])});return i})]})})}function oB(e,t){return rL(this,void 0,void 0,function(){var n;return oL(this,function(r){switch(r.label){case 0:return[4,(0,UL.getEnv().fetch)(e,t)];case 1:if(!((n=r.sent()).status<400))throw new Error("failed to fetch: ("+n.status+") "+n.statusText+", from url: "+n.url);return[2,n]}})})}function aB(e){return rL(this,void 0,void 0,function(){return oL(this,function(t){switch(t.label){case 0:return[4,oB(e)];case 1:return[2,t.sent().json()]}})})}function iB(e,t){var n=t+"-weights_manifest.json";if(!e)return{modelBaseUri:"",manifestUri:n};if("/"===e)return{modelBaseUri:"/",manifestUri:"/"+n};var r=e.startsWith("http://")?"http://":e.startsWith("https://")?"https://":"",o=(e=e.replace(r,"")).split("/").filter(function(e){return e}),a=e.endsWith(".json")?o[o.length-1]:n,i=r+(e.endsWith(".json")?o.slice(0,o.length-1):o).join("/");return{modelBaseUri:i=e.startsWith("/")?"/"+i:i,manifestUri:"/"===i?"/"+a:i+"/"+a}}function sB(e,t){return rL(this,void 0,void 0,function(){var n,r,o,a;return oL(this,function(i){switch(i.label){case 0:return n=iB(e,t),r=n.manifestUri,o=n.modelBaseUri,[4,aB(r)];case 1:return a=i.sent(),[2,DF.loadWeights(a,o)]}})})}var lB=function(){function e(e){this._name=e,this._params=void 0,this._paramMappings=[]}return Object.defineProperty(e.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMappings",{get:function(){return this._paramMappings},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isLoaded",{get:function(){return!!this.params},enumerable:!0,configurable:!0}),e.prototype.getParamFromPath=function(e){var t=this.traversePropertyPath(e);return t.obj[t.objProp]},e.prototype.reassignParamFromPath=function(e,t){var n=this.traversePropertyPath(e),r=n.obj,o=n.objProp;r[o].dispose(),r[o]=t},e.prototype.getParamList=function(){var e=this;return this._paramMappings.map(function(t){var n=t.paramPath;return{path:n,tensor:e.getParamFromPath(n)}})},e.prototype.getTrainableParams=function(){return this.getParamList().filter(function(e){return e.tensor instanceof uR})},e.prototype.getFrozenParams=function(){return this.getParamList().filter(function(e){return!(e.tensor instanceof uR)})},e.prototype.variable=function(){var e=this;this.getFrozenParams().forEach(function(t){var n=t.path,r=t.tensor;e.reassignParamFromPath(n,r.variable())})},e.prototype.freeze=function(){var e=this;this.getTrainableParams().forEach(function(t){var n=t.path,r=t.tensor,o=G_(r.dataSync());r.dispose(),e.reassignParamFromPath(n,o)})},e.prototype.dispose=function(e){void 0===e&&(e=!0),this.getParamList().forEach(function(t){if(e&&t.tensor.isDisposed)throw new Error("param tensor has already been disposed for path "+t.path);t.tensor.dispose()}),this._params=void 0},e.prototype.serializeParams=function(){return new Float32Array(this.getParamList().map(function(e){var t=e.tensor;return Array.from(t.dataSync())}).reduce(function(e,t){return e.concat(t)}))},e.prototype.load=function(e){return rL(this,void 0,void 0,function(){return oL(this,function(t){switch(t.label){case 0:return e instanceof Float32Array?(this.extractWeights(e),[2]):[4,this.loadFromUri(e)];case 1:return t.sent(),[2]}})})},e.prototype.loadFromUri=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromUri - expected model uri");return[4,sB(e,this.getDefaultModelName())];case 1:return t=n.sent(),this.loadFromWeightMap(t),[2]}})})},e.prototype.loadFromDisk=function(e){return rL(this,void 0,void 0,function(){var t,n,r,o,a,i,s,l,u,c;return oL(this,function(d){switch(d.label){case 0:if(e&&"string"!==typeof e)throw new Error(this._name+".loadFromDisk - expected model file path");return t=UL.getEnv().readFile,n=iB(e,this.getDefaultModelName()),r=n.manifestUri,o=n.modelBaseUri,a=function(e){return Promise.all(e.map(function(e){return t(e).then(function(e){return e.buffer})}))},i=DF.weightsLoaderFactory(a),u=(l=JSON).parse,[4,t(r)];case 1:return s=u.apply(l,[d.sent().toString()]),[4,i(s,o)];case 2:return c=d.sent(),this.loadFromWeightMap(c),[2]}})})},e.prototype.loadFromWeightMap=function(e){var t=this.extractParamsFromWeigthMap(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.extractWeights=function(e){var t=this.extractParams(e),n=t.paramMappings,r=t.params;this._paramMappings=n,this._params=r},e.prototype.traversePropertyPath=function(e){if(!this.params)throw new Error("traversePropertyPath - model has no loaded params");var t=e.split("/").reduce(function(t,n){if(!t.nextObj.hasOwnProperty(n))throw new Error("traversePropertyPath - object does not have property "+n+", for path "+e);return{obj:t.nextObj,objProp:n,nextObj:t.nextObj[n]}},{nextObj:this.params}),n=t.obj,r=t.objProp;if(!n||!r||!(n[r]instanceof rR))throw new Error("traversePropertyPath - parameter is not a tensor, for path "+e);return{obj:n,objProp:r}},e}();function uB(e,t,n){return E_(function(){var r=zO(e,t.depthwise_filter,t.pointwise_filter,n,"same");return r=GM(r,t.bias)})}function cB(e,t,n){return void 0===n&&(n=!1),E_(function(){var r=kD(n?GM(MO(e,t.conv0.filters,[2,2],"same"),t.conv0.bias):uB(e,t.conv0,[2,2])),o=uB(r,t.conv1,[1,1]),a=uB(kD(GM(r,o)),t.conv2,[1,1]);return kD(GM(r,GM(o,a)))})}function dB(e,t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=!0),E_(function(){var o=kD(n?GM(MO(e,t.conv0.filters,r?[2,2]:[1,1],"same"),t.conv0.bias):uB(e,t.conv0,r?[2,2]:[1,1])),a=uB(o,t.conv1,[1,1]),i=uB(kD(GM(o,a)),t.conv2,[1,1]),s=uB(kD(GM(o,GM(a,i))),t.conv3,[1,1]);return kD(GM(o,GM(a,GM(i,s))))})}function pB(e,t,n,r){return void 0===n&&(n="same"),void 0===r&&(r=!1),E_(function(){var o=GM(MO(e,t.filters,[1,1],n),t.bias);return r?kD(o):o})}function fB(e,t){Object.keys(e).forEach(function(n){t.some(function(e){return e.originalPath===n})||e[n].dispose()})}function hB(e,t){return function(n,r,o,a){var i=J_(e(n*r*o*o),[o,o,n,r]),s=$_(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:i,bias:s}}}function mB(e,t){return function(n,r,o){var a=Y_(e(n*r),[n,r]),i=$_(e(r));return t.push({paramPath:o+"/weights"},{paramPath:o+"/bias"}),{weights:a,bias:i}}}var vB=function(e,t,n){this.depthwise_filter=e,this.pointwise_filter=t,this.bias=n};function gB(e,t){return function(n,r,o){var a=J_(e(9*n),[3,3,n,1]),i=J_(e(n*r),[1,1,n,r]),s=$_(e(r));return t.push({paramPath:o+"/depthwise_filter"},{paramPath:o+"/pointwise_filter"},{paramPath:o+"/bias"}),new vB(a,i,s)}}function yB(e){return function(t){var n=e(t+"/depthwise_filter",4),r=e(t+"/pointwise_filter",4),o=e(t+"/bias",1);return new vB(n,r,o)}}function bB(e,t){return function(n,r,o){var a=e[n];if(!sL(a,r))throw new Error("expected weightMap["+n+"] to be a Tensor"+r+"D, instead have "+a);return t.push({originalPath:n,paramPath:o||n}),a}}function xB(e){var t=e;return{extractWeights:function(e){var n=t.slice(0,e);return t=t.slice(e),n},getRemainingWeights:function(){return t}}}function wB(e,t){var n=hB(e,t),r=gB(e,t);function o(e,t,o,a){return void 0===a&&(a=!1),{conv0:a?n(e,t,3,o+"/conv0"):r(e,t,o+"/conv0"),conv1:r(t,t,o+"/conv1"),conv2:r(t,t,o+"/conv2")}}return{extractDenseBlock3Params:o,extractDenseBlock4Params:function(e,t,n,a){void 0===a&&(a=!1);var i=o(e,t,n,a);return{conv0:i.conv0,conv1:i.conv1,conv2:i.conv2,conv3:r(t,t,n+"/conv3")}}}}function SB(e){return function(t){return{filters:e(t+"/filters",4),bias:e(t+"/bias",1)}}}function CB(e,t){var n=bB(e,t),r=SB(n),o=yB(n);return{extractDenseBlock3Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2")}},extractDenseBlock4Params:function(e,t){return void 0===t&&(t=!1),{conv0:t?r(e+"/conv0"):o(e+"/conv0"),conv1:o(e+"/conv1"),conv2:o(e+"/conv2"),conv3:o(e+"/conv3")}}}}var kB=function(e){function t(){return e.call(this,"FaceFeatureExtractor")||this}return tL(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceFeatureExtractor - load model before inference");return E_(function(){var n=dB(CL(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(X_(255)),t.dense0,!0);return n=dB(n,t.dense1),n=dB(n,t.dense2),n=dB(n,t.dense3),n=eD(n,[7,7],[2,2],"valid")})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=CB(e,t).extractDenseBlock4Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2"),dense3:n("dense3")};return fB(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xB(e),r=n.extractWeights,o=n.getRemainingWeights,a=wB(r,t).extractDenseBlock4Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2"),u=a(128,256,"dense3");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:l,dense3:u}}}(e)},t}(lB);function EB(e,t){return E_(function(){return GM(VO(e,t.weights),t.bias)})}function RB(e){var t={},n={};return Object.keys(e).forEach(function(r){(r.startsWith("fc")?n:t)[r]=e[r]}),{featureExtractorMap:t,classifierMap:n}}var _B=function(e){function t(t,n){var r=e.call(this,t)||this;return r._faceFeatureExtractor=n,r}return tL(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return E_(function(){var r=e instanceof eB?t.faceFeatureExtractor.forwardInput(e):e;return EB(r.as2D(r.shape[0],-1),n.fc)})},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e,t,n){var r=[],o=xB(e),a=o.extractWeights,i=o.getRemainingWeights,s=mB(a,r)(t,n,"fc");if(0!==i().length)throw new Error("weights remaing after extract: "+i().length);return{paramMappings:r,params:{fc:s}}}(e,this.getClassifierChannelsIn(),this.getClassifierChannelsOut())},t.prototype.extractParamsFromWeigthMap=function(e){var t=RB(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=bB(e,t),r={fc:function(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}("fc")};return fB(e,t),{params:r,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=this.getClassifierChannelsIn(),n=this.getClassifierChannelsOut(),r=n*t+n,o=e.slice(0,e.length-r),a=e.slice(e.length-r);return this.faceFeatureExtractor.extractWeights(o),this.extractClassifierParams(a)},t}(lB),IB=["neutral","happy","sad","angry","fearful","disgusted","surprised"],TB=function(){function e(e){var t=this;if(7!==e.length)throw new Error("FaceExpressions.constructor - expected probabilities.length to be 7, have: "+e.length);IB.forEach(function(n,r){t[n]=e[r]})}return e.prototype.asSortedArray=function(){var e=this;return IB.map(function(t){return{expression:t,probability:e[t]}}).sort(function(e,t){return t.probability-e.probability})},e}(),AB=function(e){function t(t){return void 0===t&&(t=new kB),e.call(this,"FaceExpressionNet",t)||this}return tL(t,e),t.prototype.forwardInput=function(e){var t=this;return E_(function(){return hT(t.runNet(e))})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictExpressions=function(e){return rL(this,void 0,void 0,function(){var t,n,r,o,a=this;return oL(this,function(i){switch(i.label){case 0:return[4,tB(e)];case 1:return t=i.sent(),[4,this.forwardInput(t)];case 2:return n=i.sent(),[4,Promise.all($I(n).map(function(e){return rL(a,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return[4,e.data()];case 1:return t=n.sent(),e.dispose(),[2,t]}})})}))];case 3:return r=i.sent(),n.dispose(),o=r.map(function(e){return new TB(e)}),[2,t.isBatchInput?o:o[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_expression_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t.prototype.getClassifierChannelsOut=function(){return 7},t}(_B);function PB(e,t){var n={expressions:t};return Object.assign({},e,n)}function NB(e){return function(e){return e.detection instanceof xL}(e)&&e.landmarks instanceof _L&&e.unshiftedLandmarks instanceof _L&&e.alignedRect instanceof xL}function MB(e,t){var n=e.detection.box,r=t.shiftBy(n.x,n.y),o=r.align(),a=e.detection.imageDims,i={landmarks:r,unshiftedLandmarks:t,alignedRect:new xL(e.detection.score,o.rescale(a.reverse()),a)};return Object.assign({},e,i)}function OB(e,t,n){if(void 0===n&&(n=!1),e.beginPath(),t.slice(1).forEach(function(n,r){var o=n.x,a=n.y,i=t[r];e.moveTo(i.x,i.y),e.lineTo(o,a)}),n){var r=t[t.length-1],o=t[0];if(!r||!o)return;e.moveTo(r.x,r.y),e.lineTo(o.x,o.y)}e.stroke()}var DB=function(e){void 0===e&&(e={});var t=e.drawLines,n=void 0===t||t,r=e.drawPoints,o=void 0===r||r,a=e.lineWidth,i=e.lineColor,s=e.pointSize,l=e.pointColor;this.drawLines=n,this.drawPoints=o,this.lineWidth=a||1,this.pointSize=s||2,this.lineColor=i||"rgba(0, 255, 255, 1)",this.pointColor=l||"rgba(255, 0, 255, 1)"};!function(){function e(e,t){void 0===t&&(t={}),this.faceLandmarks=e,this.options=new DB(t)}e.prototype.draw=function(e){var t=HL(e),n=this.options,r=n.drawLines,o=n.drawPoints,a=n.lineWidth,i=n.lineColor,s=n.pointSize,l=n.pointColor;if(r&&this.faceLandmarks instanceof TL&&(t.strokeStyle=i,t.lineWidth=a,OB(t,this.faceLandmarks.getJawOutline()),OB(t,this.faceLandmarks.getLeftEyeBrow()),OB(t,this.faceLandmarks.getRightEyeBrow()),OB(t,this.faceLandmarks.getNose()),OB(t,this.faceLandmarks.getLeftEye(),!0),OB(t,this.faceLandmarks.getRightEye(),!0),OB(t,this.faceLandmarks.getMouth(),!0)),o){t.strokeStyle=l,t.fillStyle=l;this.faceLandmarks.positions.forEach(function(e){t.beginPath(),t.arc(e.x,e.y,s,0,2*Math.PI),t.fill()})}}}();function jB(e,t){var n=[],r=xB(e),o=r.extractWeights,a=r.getRemainingWeights,i=function(e,t){var n=hB(e,t),r=gB(e,t);return{extractConvParams:n,extractSeparableConvParams:r,extractReductionBlockParams:function(e,t,o){return{separable_conv0:r(e,t,o+"/separable_conv0"),separable_conv1:r(t,t,o+"/separable_conv1"),expansion_conv:n(e,t,1,o+"/expansion_conv")}},extractMainBlockParams:function(e,t){return{separable_conv0:r(e,e,t+"/separable_conv0"),separable_conv1:r(e,e,t+"/separable_conv1"),separable_conv2:r(e,e,t+"/separable_conv2")}}}}(o,n),s=i.extractConvParams,l=i.extractSeparableConvParams,u=i.extractReductionBlockParams,c=i.extractMainBlockParams,d={conv_in:s(3,32,3,"entry_flow/conv_in"),reduction_block_0:u(32,64,"entry_flow/reduction_block_0"),reduction_block_1:u(64,128,"entry_flow/reduction_block_1")},p={};fL(t,0,1).forEach(function(e){p["main_block_"+e]=c(128,"middle_flow/main_block_"+e)});var f={reduction_block:u(128,256,"exit_flow/reduction_block"),separable_conv:l(256,512,"exit_flow/separable_conv")};if(0!==a().length)throw new Error("weights remaing after extract: "+a().length);return{paramMappings:n,params:{entry_flow:d,middle_flow:p,exit_flow:f}}}function FB(e,t){var n=[],r=function(e,t){var n=bB(e,t),r=SB(n),o=yB(n);return{extractConvParams:r,extractSeparableConvParams:o,extractReductionBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),expansion_conv:r(e+"/expansion_conv")}},extractMainBlockParams:function(e){return{separable_conv0:o(e+"/separable_conv0"),separable_conv1:o(e+"/separable_conv1"),separable_conv2:o(e+"/separable_conv2")}}}}(e,n),o=r.extractConvParams,a=r.extractSeparableConvParams,i=r.extractReductionBlockParams,s=r.extractMainBlockParams,l={conv_in:o("entry_flow/conv_in"),reduction_block_0:i("entry_flow/reduction_block_0"),reduction_block_1:i("entry_flow/reduction_block_1")},u={};fL(t,0,1).forEach(function(e){u["main_block_"+e]=s("middle_flow/main_block_"+e)});var c={reduction_block:i("exit_flow/reduction_block"),separable_conv:a("exit_flow/separable_conv")};return fB(e,n),{params:{entry_flow:l,middle_flow:u,exit_flow:c},paramMappings:n}}function LB(e,t,n){return GM(MO(e,t.filters,n,"same"),t.bias)}function BB(e,t,n){void 0===n&&(n=!0);var r=n?kD(e):e;return r=uB(r,t.separable_conv0,[1,1]),r=uB(kD(r),t.separable_conv1,[1,1]),r=ZO(r,[3,3],[2,2],"same"),r=GM(r,LB(e,t.expansion_conv,[2,2]))}var zB,WB=function(e){function t(t){var n=e.call(this,"TinyXception")||this;return n._numMainBlocks=t,n}return tL(t,e),t.prototype.forwardInput=function(e){var t=this,n=this.params;if(!n)throw new Error("TinyXception - load model before inference");return E_(function(){var r=CL(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(X_(256)),o=kD(LB(r,n.entry_flow.conv_in,[2,2]));return o=BB(o,n.entry_flow.reduction_block_0,!1),o=BB(o,n.entry_flow.reduction_block_1),fL(t._numMainBlocks,0,1).forEach(function(e){o=function(e,t){var n=uB(kD(e),t.separable_conv0,[1,1]);return n=uB(kD(n),t.separable_conv1,[1,1]),n=uB(kD(n),t.separable_conv2,[1,1]),GM(n,e)}(o,n.middle_flow["main_block_"+e])}),o=BB(o,n.exit_flow.reduction_block),o=kD(uB(o,n.exit_flow.separable_conv,[1,1]))})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"tiny_xception_model"},t.prototype.extractParamsFromWeigthMap=function(e){return FB(e,this._numMainBlocks)},t.prototype.extractParams=function(e){return jB(e,this._numMainBlocks)},t}(lB);!function(e){e.FEMALE="female",e.MALE="male"}(zB||(zB={}));var UB=function(e){function t(t){void 0===t&&(t=new WB(2));var n=e.call(this,"AgeGenderNet")||this;return n._faceFeatureExtractor=t,n}return tL(t,e),Object.defineProperty(t.prototype,"faceFeatureExtractor",{get:function(){return this._faceFeatureExtractor},enumerable:!0,configurable:!0}),t.prototype.runNet=function(e){var t=this,n=this.params;if(!n)throw new Error(this._name+" - load model before inference");return E_(function(){var r=e instanceof eB?t.faceFeatureExtractor.forwardInput(e):e,o=eD(r,[7,7],[2,2],"valid").as2D(r.shape[0],-1);return{age:EB(o,n.fc.age).as1D(),gender:EB(o,n.fc.gender)}})},t.prototype.forwardInput=function(e){var t=this;return E_(function(){var n=t.runNet(e),r=n.age,o=n.gender;return{age:r,gender:hT(o)}})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.predictAgeAndGender=function(e){return rL(this,void 0,void 0,function(){var t,n,r,o,a,i,s=this;return oL(this,function(l){switch(l.label){case 0:return[4,tB(e)];case 1:return t=l.sent(),[4,this.forwardInput(t)];case 2:return n=l.sent(),r=$I(n.age),o=$I(n.gender),a=r.map(function(e,t){return{ageTensor:e,genderTensor:o[t]}}),[4,Promise.all(a.map(function(e){var t=e.ageTensor,n=e.genderTensor;return rL(s,void 0,void 0,function(){var e,r,o,a,i;return oL(this,function(s){switch(s.label){case 0:return[4,t.data()];case 1:return e=s.sent()[0],[4,n.data()];case 2:return r=s.sent()[0],a=(o=r>.5)?zB.MALE:zB.FEMALE,i=o?r:1-r,t.dispose(),n.dispose(),[2,{age:e,gender:a,genderProbability:i}]}})})}))];case 3:return i=l.sent(),n.age.dispose(),n.gender.dispose(),[2,t.isBatchInput?i:i[0]]}})})},t.prototype.getDefaultModelName=function(){return"age_gender_model"},t.prototype.dispose=function(t){void 0===t&&(t=!0),this.faceFeatureExtractor.dispose(t),e.prototype.dispose.call(this,t)},t.prototype.loadClassifierParams=function(e){var t=this.extractClassifierParams(e),n=t.params,r=t.paramMappings;this._params=n,this._paramMappings=r},t.prototype.extractClassifierParams=function(e){return function(e){var t=[],n=xB(e),r=n.extractWeights,o=n.getRemainingWeights,a=mB(r,t),i=a(512,1,"fc/age"),s=a(512,2,"fc/gender");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{fc:{age:i,gender:s}}}}(e)},t.prototype.extractParamsFromWeigthMap=function(e){var t=RB(e),n=t.featureExtractorMap,r=t.classifierMap;return this.faceFeatureExtractor.loadFromWeightMap(n),function(e){var t=[],n=bB(e,t);function r(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}var o={fc:{age:r("fc/age"),gender:r("fc/gender")}};return fB(e,t),{params:o,paramMappings:t}}(r)},t.prototype.extractParams=function(e){var t=e.slice(0,e.length-1539),n=e.slice(e.length-1539);return this.faceFeatureExtractor.extractWeights(t),this.extractClassifierParams(n)},t}(lB),VB=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.postProcess=function(e,t,n){var r=n.map(function(e){var n=e.width,r=e.height,o=t/Math.max(r,n);return{width:n*o,height:r*o}}),o=r.length;return E_(function(){var n=function(e,t){return GI([tI([68],e),tI([68],t)],1).as2D(1,136).as1D()},a=function(e,t){var n=r[e],o=n.width,a=n.height;return t(o,a)?Math.abs(o-a)/2:0},i=e.mul(tI([o,136],t)).sub(GI(Array.from(Array(o),function(e,t){return n(function(e){return a(e,function(e,t){return e<t})}(t),function(e){return a(e,function(e,t){return t<e})}(t))}))).div(GI(Array.from(Array(o),function(e,t){return n(r[t].width,r[t].height)})));return i})},t.prototype.forwardInput=function(e){var t=this;return E_(function(){var n=t.runNet(e);return t.postProcess(n,e.inputSize,e.inputDimensions.map(function(e){return{height:e[0],width:e[1]}}))})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.detectLandmarks=function(e){return rL(this,void 0,void 0,function(){var t,n,r,o=this;return oL(this,function(a){switch(a.label){case 0:return[4,tB(e)];case 1:return t=a.sent(),n=E_(function(){return $I(o.forwardInput(t))}),[4,Promise.all(n.map(function(e,n){return rL(o,void 0,void 0,function(){var r,o,a,i,s;return oL(this,function(l){switch(l.label){case 0:return a=(o=Array).from,[4,e.data()];case 1:return r=a.apply(o,[l.sent()]),i=r.filter(function(e,t){return cL(t)}),s=r.filter(function(e,t){return!cL(t)}),[2,new TL(Array(68).fill(0).map(function(e,t){return new vL(i[t],s[t])}),{height:t.getInputHeight(n),width:t.getInputWidth(n)})]}})})}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getClassifierChannelsOut=function(){return 136},t}(_B),HB=function(e){function t(t){return void 0===t&&(t=new kB),e.call(this,"FaceLandmark68Net",t)||this}return tL(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_model"},t.prototype.getClassifierChannelsIn=function(){return 256},t}(VB);var qB=function(e){function t(){return e.call(this,"TinyFaceFeatureExtractor")||this}return tL(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("TinyFaceFeatureExtractor - load model before inference");return E_(function(){var n=cB(CL(e.toBatchTensor(112,!0),[122.782,117.001,104.298]).div(X_(255)),t.dense0,!0);return n=cB(n,t.dense1),n=cB(n,t.dense2),n=eD(n,[14,14],[2,2],"valid")})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.getDefaultModelName=function(){return"face_feature_extractor_tiny_model"},t.prototype.extractParamsFromWeigthMap=function(e){return function(e){var t=[],n=CB(e,t).extractDenseBlock3Params,r={dense0:n("dense0",!0),dense1:n("dense1"),dense2:n("dense2")};return fB(e,t),{params:r,paramMappings:t}}(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xB(e),r=n.extractWeights,o=n.getRemainingWeights,a=wB(r,t).extractDenseBlock3Params,i=a(3,32,"dense0",!0),s=a(32,64,"dense1"),l=a(64,128,"dense2");if(0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{paramMappings:t,params:{dense0:i,dense1:s,dense2:l}}}(e)},t}(lB),GB=function(e){function t(t){return void 0===t&&(t=new qB),e.call(this,"FaceLandmark68TinyNet",t)||this}return tL(t,e),t.prototype.getDefaultModelName=function(){return"face_landmark_68_tiny_model"},t.prototype.getClassifierChannelsIn=function(){return 128},t}(VB);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tL(t,e)}(HB);function KB(e,t,n,r,o){void 0===o&&(o="same");var a=t.conv,i=a.filters,s=a.bias,l=MO(e,i,n,o);return l=function(e,t){return GM(iO(e,t.weights),t.biases)}(l=GM(l,s),t.scale),r?kD(l):l}function XB(e,t){return KB(e,t,[1,1],!1)}function $B(e,t){return KB(e,t,[2,2],!0,"valid")}function YB(e,t){function n(n,r,o,a){var i=function(t,n,r){var o=e(t),a=o.length/(n*r*r);if(a%1!==0)throw new Error("depth has to be an integer: "+a+", weights.length: "+o.length+", numFilters: "+n+", filterSize: "+r);return E_(function(){return _D(J_(o,[n,a,r,r]),[2,3,1,0])})}(n,r,o),s=$_(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/bias"}),{filters:i,bias:s}}function r(r,o,a,i){var s=n(r,o,a,i+"/conv"),l=function(n,r){var o=$_(e(n)),a=$_(e(n));return t.push({paramPath:r+"/weights"},{paramPath:r+"/biases"}),{weights:o,biases:a}}(o,i+"/scale");return{conv:s,scale:l}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e,t,n,o,a){return void 0===a&&(a=!1),{conv1:r((a?.5:1)*e,t,n,o+"/conv1"),conv2:r(e,t,n,o+"/conv2")}}}}function QB(e,t){var n=bB(e,t);function r(e){var t=n(e+"/conv/filters",4),r=n(e+"/conv/bias",1),o=function(e){return{weights:n(e+"/scale/weights",1),biases:n(e+"/scale/biases",1)}}(e);return{conv:{filters:t,bias:r},scale:o}}return{extractConvLayerParams:r,extractResidualLayerParams:function(e){return{conv1:r(e+"/conv1"),conv2:r(e+"/conv2")}}}}function JB(e){var t=[],n=QB(e,t),r=n.extractConvLayerParams,o=n.extractResidualLayerParams,a=r("conv32_down"),i=o("conv32_1"),s=o("conv32_2"),l=o("conv32_3"),u=o("conv64_down"),c=o("conv64_1"),d=o("conv64_2"),p=o("conv64_3"),f=o("conv128_down"),h=o("conv128_1"),m=o("conv128_2"),v=o("conv256_down"),g=o("conv256_1"),y=o("conv256_2"),b=o("conv256_down_out"),x=e.fc;if(t.push({originalPath:"fc",paramPath:"fc"}),!sL(x,2))throw new Error("expected weightMap[fc] to be a Tensor2D, instead have "+x);var w={conv32_down:a,conv32_1:i,conv32_2:s,conv32_3:l,conv64_down:u,conv64_1:c,conv64_2:d,conv64_3:p,conv128_down:f,conv128_1:h,conv128_2:m,conv256_down:v,conv256_1:g,conv256_2:y,conv256_down_out:b,fc:x};return fB(e,t),{params:w,paramMappings:t}}function ZB(e,t){var n=function(e,t){return KB(e,t,[1,1],!0)}(e,t.conv1);return n=XB(n,t.conv2),n=GM(n,e),n=kD(n)}function ez(e,t){var n=$B(e,t.conv1);n=XB(n,t.conv2);var r=eD(e,2,2,"valid"),o=eI(r.shape),a=r.shape[3]!==n.shape[3];if(r.shape[1]!==n.shape[1]||r.shape[2]!==n.shape[2]){var i=aL(n.shape);i[1]=1;var s=eI(i),l=aL((n=aI([n,s],1)).shape);l[2]=1;var u=eI(l);n=aI([n,u],2)}return r=a?aI([r,o],3):r,n=GM(r,n),n=kD(n)}var tz=function(e){function t(){return e.call(this,"FaceRecognitionNet")||this}return tL(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("FaceRecognitionNet - load model before inference");return E_(function(){var n=$B(CL(e.toBatchTensor(150,!0).toFloat(),[122.782,117.001,104.298]).div(X_(256)),t.conv32_down);n=ZB(n=ZO(n,3,2,"valid"),t.conv32_1),n=ZB(n,t.conv32_2),n=ZB(n,t.conv32_3),n=ZB(n=ez(n,t.conv64_down),t.conv64_1),n=ZB(n,t.conv64_2),n=ZB(n,t.conv64_3),n=ZB(n=ez(n,t.conv128_down),t.conv128_1),n=ZB(n,t.conv128_2),n=ZB(n=ez(n,t.conv256_down),t.conv256_1);var r=(n=ez(n=ZB(n,t.conv256_2),t.conv256_down_out)).mean([1,2]);return VO(r,t.fc)})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.computeFaceDescriptor=function(e){return rL(this,void 0,void 0,function(){var t,n,r,o=this;return oL(this,function(a){switch(a.label){case 0:return[4,tB(e)];case 1:return t=a.sent(),n=E_(function(){return $I(o.forwardInput(t))}),[4,Promise.all(n.map(function(e){return e.data()}))];case 2:return r=a.sent(),n.forEach(function(e){return e.dispose()}),[2,t.isBatchInput?r:r[0]]}})})},t.prototype.getDefaultModelName=function(){return"face_recognition_model"},t.prototype.extractParamsFromWeigthMap=function(e){return JB(e)},t.prototype.extractParams=function(e){return function(e){var t=xB(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],a=YB(n,o),i=a.extractConvLayerParams,s=a.extractResidualLayerParams,l=i(4704,32,7,"conv32_down"),u=s(9216,32,3,"conv32_1"),c=s(9216,32,3,"conv32_2"),d=s(9216,32,3,"conv32_3"),p=s(36864,64,3,"conv64_down",!0),f=s(36864,64,3,"conv64_1"),h=s(36864,64,3,"conv64_2"),m=s(36864,64,3,"conv64_3"),v=s(147456,128,3,"conv128_down",!0),g=s(147456,128,3,"conv128_1"),y=s(147456,128,3,"conv128_2"),b=s(589824,256,3,"conv256_down",!0),x=s(589824,256,3,"conv256_1"),w=s(589824,256,3,"conv256_2"),S=s(589824,256,3,"conv256_down_out"),C=E_(function(){return _D(Y_(n(32768),[128,256]),[1,0])});if(o.push({paramPath:"fc"}),0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{conv32_down:l,conv32_1:u,conv32_2:c,conv32_3:d,conv64_down:p,conv64_1:f,conv64_2:h,conv64_3:m,conv128_down:v,conv128_1:g,conv128_2:y,conv256_down:b,conv256_1:x,conv256_2:w,conv256_down_out:S,fc:C},paramMappings:o}}(e)},t}(lB);function nz(e,t,n){var r={gender:t,genderProbability:n};return Object.assign({},e,r)}var rz=function(){function e(e){var t=void 0===e?{}:e,n=t.minFaceSize,r=t.scaleFactor,o=t.maxNumScales,a=t.scoreThresholds,i=t.scaleSteps;if(this._name="MtcnnOptions",this._minFaceSize=n||20,this._scaleFactor=r||.709,this._maxNumScales=o||10,this._scoreThresholds=a||[.6,.7,.7],this._scaleSteps=i,"number"!==typeof this._minFaceSize||this._minFaceSize<0)throw new Error(this._name+" - expected minFaceSize to be a number > 0");if("number"!==typeof this._scaleFactor||this._scaleFactor<=0||this._scaleFactor>=1)throw new Error(this._name+" - expected scaleFactor to be a number between 0 and 1");if("number"!==typeof this._maxNumScales||this._maxNumScales<0)throw new Error(this._name+" - expected maxNumScales to be a number > 0");if(!Array.isArray(this._scoreThresholds)||3!==this._scoreThresholds.length||this._scoreThresholds.some(function(e){return"number"!==typeof e}))throw new Error(this._name+" - expected scoreThresholds to be an array of numbers of length 3");if(this._scaleSteps&&(!Array.isArray(this._scaleSteps)||this._scaleSteps.some(function(e){return"number"!==typeof e})))throw new Error(this._name+" - expected scaleSteps to be an array of numbers")}return Object.defineProperty(e.prototype,"minFaceSize",{get:function(){return this._minFaceSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleFactor",{get:function(){return this._scaleFactor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxNumScales",{get:function(){return this._maxNumScales},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThresholds",{get:function(){return this._scoreThresholds},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleSteps",{get:function(){return this._scaleSteps},enumerable:!0,configurable:!0}),e}();function oz(e,t){function n(n,r,o,a,i){var s=J_(e(n*r*o*o),[o,o,n,r]),l=$_(e(r));return t.push({paramPath:a+"/filters"},{paramPath:a+"/"+(i?"batch_norm_offset":"bias")}),{filters:s,bias:l}}function r(e,t,r,o){var a=n(e,t,r,o,!0);return{filters:a.filters,batch_norm_offset:a.bias}}function o(n,o,a){var i=function(n,r){var o=J_(e(9*n),[3,3,n,1]),a=$_(e(n)),i=$_(e(n)),s=$_(e(n)),l=$_(e(n));return t.push({paramPath:r+"/filters"},{paramPath:r+"/batch_norm_scale"},{paramPath:r+"/batch_norm_offset"},{paramPath:r+"/batch_norm_mean"},{paramPath:r+"/batch_norm_variance"}),{filters:o,batch_norm_scale:a,batch_norm_offset:i,batch_norm_mean:s,batch_norm_variance:l}}(n,a+"/depthwise_conv");return{depthwise_conv:i,pointwise_conv:r(n,o,1,a+"/pointwise_conv")}}return{extractMobilenetV1Params:function(){return{conv_0:r(3,32,3,"mobilenetv1/conv_0"),conv_1:o(32,64,"mobilenetv1/conv_1"),conv_2:o(64,128,"mobilenetv1/conv_2"),conv_3:o(128,128,"mobilenetv1/conv_3"),conv_4:o(128,256,"mobilenetv1/conv_4"),conv_5:o(256,256,"mobilenetv1/conv_5"),conv_6:o(256,512,"mobilenetv1/conv_6"),conv_7:o(512,512,"mobilenetv1/conv_7"),conv_8:o(512,512,"mobilenetv1/conv_8"),conv_9:o(512,512,"mobilenetv1/conv_9"),conv_10:o(512,512,"mobilenetv1/conv_10"),conv_11:o(512,512,"mobilenetv1/conv_11"),conv_12:o(512,1024,"mobilenetv1/conv_12"),conv_13:o(1024,1024,"mobilenetv1/conv_13")}},extractPredictionLayerParams:function(){return{conv_0:r(1024,256,1,"prediction_layer/conv_0"),conv_1:r(256,512,3,"prediction_layer/conv_1"),conv_2:r(512,128,1,"prediction_layer/conv_2"),conv_3:r(128,256,3,"prediction_layer/conv_3"),conv_4:r(256,128,1,"prediction_layer/conv_4"),conv_5:r(128,256,3,"prediction_layer/conv_5"),conv_6:r(256,64,1,"prediction_layer/conv_6"),conv_7:r(64,128,3,"prediction_layer/conv_7"),box_predictor_0:{box_encoding_predictor:n(512,12,1,"prediction_layer/box_predictor_0/box_encoding_predictor"),class_predictor:n(512,9,1,"prediction_layer/box_predictor_0/class_predictor")},box_predictor_1:{box_encoding_predictor:n(1024,24,1,"prediction_layer/box_predictor_1/box_encoding_predictor"),class_predictor:n(1024,18,1,"prediction_layer/box_predictor_1/class_predictor")},box_predictor_2:{box_encoding_predictor:n(512,24,1,"prediction_layer/box_predictor_2/box_encoding_predictor"),class_predictor:n(512,18,1,"prediction_layer/box_predictor_2/class_predictor")},box_predictor_3:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_3/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_3/class_predictor")},box_predictor_4:{box_encoding_predictor:n(256,24,1,"prediction_layer/box_predictor_4/box_encoding_predictor"),class_predictor:n(256,18,1,"prediction_layer/box_predictor_4/class_predictor")},box_predictor_5:{box_encoding_predictor:n(128,24,1,"prediction_layer/box_predictor_5/box_encoding_predictor"),class_predictor:n(128,18,1,"prediction_layer/box_predictor_5/class_predictor")}}}}}function az(e){var t=[],n=function(e,t){var n=bB(e,t);function r(e,t,r){return{filters:n(e+"/Conv2d_"+t+"_pointwise/weights",4,r+"/filters"),batch_norm_offset:n(e+"/Conv2d_"+t+"_pointwise/convolution_bn_offset",1,r+"/batch_norm_offset")}}function o(e){var t="mobilenetv1/conv_"+e,o="MobilenetV1/Conv2d_"+e+"_depthwise",a=t+"/depthwise_conv",i=t+"/pointwise_conv";return{depthwise_conv:{filters:n(o+"/depthwise_weights",4,a+"/filters"),batch_norm_scale:n(o+"/BatchNorm/gamma",1,a+"/batch_norm_scale"),batch_norm_offset:n(o+"/BatchNorm/beta",1,a+"/batch_norm_offset"),batch_norm_mean:n(o+"/BatchNorm/moving_mean",1,a+"/batch_norm_mean"),batch_norm_variance:n(o+"/BatchNorm/moving_variance",1,a+"/batch_norm_variance")},pointwise_conv:r("MobilenetV1",e,i)}}function a(e,t){return{filters:n(e+"/weights",4,t+"/filters"),bias:n(e+"/biases",1,t+"/bias")}}function i(e){return{box_encoding_predictor:a("Prediction/BoxPredictor_"+e+"/BoxEncodingPredictor","prediction_layer/box_predictor_"+e+"/box_encoding_predictor"),class_predictor:a("Prediction/BoxPredictor_"+e+"/ClassPredictor","prediction_layer/box_predictor_"+e+"/class_predictor")}}return{extractMobilenetV1Params:function(){return{conv_0:r("MobilenetV1",0,"mobilenetv1/conv_0"),conv_1:o(1),conv_2:o(2),conv_3:o(3),conv_4:o(4),conv_5:o(5),conv_6:o(6),conv_7:o(7),conv_8:o(8),conv_9:o(9),conv_10:o(10),conv_11:o(11),conv_12:o(12),conv_13:o(13)}},extractPredictionLayerParams:function(){return{conv_0:r("Prediction",0,"prediction_layer/conv_0"),conv_1:r("Prediction",1,"prediction_layer/conv_1"),conv_2:r("Prediction",2,"prediction_layer/conv_2"),conv_3:r("Prediction",3,"prediction_layer/conv_3"),conv_4:r("Prediction",4,"prediction_layer/conv_4"),conv_5:r("Prediction",5,"prediction_layer/conv_5"),conv_6:r("Prediction",6,"prediction_layer/conv_6"),conv_7:r("Prediction",7,"prediction_layer/conv_7"),box_predictor_0:i(0),box_predictor_1:i(1),box_predictor_2:i(2),box_predictor_3:i(3),box_predictor_4:i(4),box_predictor_5:i(5)}}}}(e,t),r=n.extractMobilenetV1Params,o=n.extractPredictionLayerParams,a=e["Output/extra_dim"];if(t.push({originalPath:"Output/extra_dim",paramPath:"output_layer/extra_dim"}),!lL(a))throw new Error("expected weightMap['Output/extra_dim'] to be a Tensor3D, instead have "+a);var i={mobilenetv1:r(),prediction_layer:o(),output_layer:{extra_dim:a}};return fB(e,t),{params:i,paramMappings:t}}function iz(e,t,n){return E_(function(){var r=MO(e,t.filters,n,"same");return r=GM(r,t.batch_norm_offset),eM(r,0,6)})}function sz(e,t){return E_(function(){var n=null,r=iz(e,t.conv_0,[2,2]);if([t.conv_1,t.conv_2,t.conv_3,t.conv_4,t.conv_5,t.conv_6,t.conv_7,t.conv_8,t.conv_9,t.conv_10,t.conv_11,t.conv_12,t.conv_13].forEach(function(e,t){var o=t+1,a=function(e){return[2,4,6,12].some(function(t){return t===e})?[2,2]:[1,1]}(o);r=function(e,t,n){return E_(function(){var r=FO(e,t.filters,n,"same");return r=jM(r,t.batch_norm_mean,t.batch_norm_variance,t.batch_norm_offset,t.batch_norm_scale,.0010000000474974513),eM(r,0,6)})}(r,e.depthwise_conv,a),r=iz(r,e.pointwise_conv,[1,1]),11===o&&(n=r)}),null===n)throw new Error("mobileNetV1 - output of conv layer 11 is null");return{out:r,conv11:n}})}function lz(e,t,n){var r=e.arraySync(),o=Math.min(r[t][0],r[t][2]),a=Math.min(r[t][1],r[t][3]),i=Math.max(r[t][0],r[t][2]),s=Math.max(r[t][1],r[t][3]),l=Math.min(r[n][0],r[n][2]),u=Math.min(r[n][1],r[n][3]),c=Math.max(r[n][0],r[n][2]),d=Math.max(r[n][1],r[n][3]),p=(i-o)*(s-a),f=(c-l)*(d-u);if(p<=0||f<=0)return 0;var h=Math.max(o,l),m=Math.max(a,u),v=Math.min(i,c),g=Math.min(s,d),y=Math.max(v-h,0)*Math.max(g-m,0);return y/(p+f-y)}function uz(e,t){var n=function(e){var t=$I(_D(e,[1,0])),n=[dO(t[2],t[0]),dO(t[3],t[1])];return{sizes:n,centers:[GM(t[0],YM(n[0],X_(2))),GM(t[1],YM(n[1],X_(2)))]}}(e),r=n.sizes,o=n.centers,a=$I(_D(t,[1,0])),i=YM(iO(oM(YM(a[2],X_(5))),r[0]),X_(2)),s=GM(iO(YM(a[0],X_(10)),r[0]),o[0]),l=YM(iO(oM(YM(a[3],X_(5))),r[1]),X_(2)),u=GM(iO(YM(a[1],X_(10)),r[1]),o[1]);return _D(GI([dO(s,i),dO(u,l),GM(s,i),GM(u,l)]),[1,0])}function cz(e,t){return E_(function(){var n=e.shape[0];return{boxPredictionEncoding:VI(pB(e,t.box_encoding_predictor),[n,-1,1,4]),classPrediction:VI(pB(e,t.class_predictor),[n,-1,3])}})}var dz=function(){function e(e){var t=void 0===e?{}:e,n=t.minConfidence,r=t.maxResults;if(this._name="SsdMobilenetv1Options",this._minConfidence=n||.5,this._maxResults=r||100,"number"!==typeof this._minConfidence||this._minConfidence<=0||this._minConfidence>=1)throw new Error(this._name+" - expected minConfidence to be a number between 0 and 1");if("number"!==typeof this._maxResults)throw new Error(this._name+" - expected maxResults to be a number")}return Object.defineProperty(e.prototype,"minConfidence",{get:function(){return this._minConfidence},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxResults",{get:function(){return this._maxResults},enumerable:!0,configurable:!0}),e}(),pz=function(e){function t(){return e.call(this,"SsdMobilenetv1")||this}return tL(t,e),t.prototype.forwardInput=function(e){var t=this.params;if(!t)throw new Error("SsdMobilenetv1 - load model before inference");return E_(function(){var n=e.toBatchTensor(512,!1).toFloat(),r=sz(dO(iO(n,X_(.007843137718737125)),X_(1)),t.mobilenetv1),o=function(e,t,n){return E_(function(){var r=iz(e,n.conv_0,[1,1]),o=iz(r,n.conv_1,[2,2]),a=iz(o,n.conv_2,[1,1]),i=iz(a,n.conv_3,[2,2]),s=iz(i,n.conv_4,[1,1]),l=iz(s,n.conv_5,[2,2]),u=iz(l,n.conv_6,[1,1]),c=iz(u,n.conv_7,[2,2]),d=cz(t,n.box_predictor_0),p=cz(e,n.box_predictor_1),f=cz(o,n.box_predictor_2),h=cz(i,n.box_predictor_3),m=cz(l,n.box_predictor_4),v=cz(c,n.box_predictor_5);return{boxPredictions:aI([d.boxPredictionEncoding,p.boxPredictionEncoding,f.boxPredictionEncoding,h.boxPredictionEncoding,m.boxPredictionEncoding,v.boxPredictionEncoding],1),classPredictions:aI([d.classPrediction,p.classPrediction,f.classPrediction,h.classPrediction,m.classPrediction,v.classPrediction],1)}})}(r.out,r.conv11,t.prediction_layer);return function(e,t,n){return E_(function(){var r=e.shape[0],o=uz(VI(KI(n.extra_dim,[r,1,1]),[-1,4]),VI(e,[-1,4]));o=VI(o,[r,o.shape[0]/r,4]);var a=hM(oD(t,[0,0,1],[-1,-1,-1])),i=oD(a,[0,0,0],[-1,-1,1]);return i=VI(i,[r,i.shape[1]]),{boxes:$I(o),scores:$I(i)}})}(o.boxPredictions,o.classPredictions,t.output_layer)})},t.prototype.forward=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=this.forwardInput,[4,tB(e)];case 1:return[2,t.apply(this,[n.sent()])]}})})},t.prototype.locateFaces=function(e,t){return void 0===t&&(t={}),rL(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w;return oL(this,function(S){switch(S.label){case 0:return n=new dz(t),r=n.maxResults,o=n.minConfidence,[4,tB(e)];case 1:for(a=S.sent(),i=this.forwardInput(a),s=i.boxes,l=i.scores,u=s[0],c=l[0],d=1;d<s.length;d++)s[d].dispose(),l[d].dispose();return h=(f=Array).from,[4,c.data()];case 2:return p=h.apply(f,[S.sent()]),m=function(e,t,n,r,o){var a=e.shape[0],i=Math.min(n,a),s=t.map(function(e,t){return{score:e,boxIndex:t}}).filter(function(e){return e.score>o}).sort(function(e,t){return t.score-e.score}),l=function(e){return e<=r?1:0},u=[];return s.forEach(function(t){if(!(u.length>=i)){for(var n=t.score,r=u.length-1;r>=0;--r){var a=lz(e,t.boxIndex,u[r]);if(0!==a&&(t.score*=l(a),t.score<=o))break}n===t.score&&u.push(t.boxIndex)}}),u}(u,p,r,.5,o),v=a.getReshapedInputDimensions(0),g=a.inputSize,y=g/v.width,b=g/v.height,x=u.arraySync(),w=m.map(function(e){var t=[Math.max(0,x[e][0]),Math.min(1,x[e][2])].map(function(e){return e*b}),n=t[0],r=t[1],o=[Math.max(0,x[e][1]),Math.min(1,x[e][3])].map(function(e){return e*y}),i=o[0],s=o[1];return new xL(p[e],new RL(i,n,s-i,r-n),{height:a.getInputHeight(0),width:a.getInputWidth(0)})}),u.dispose(),c.dispose(),[2,w]}})})},t.prototype.getDefaultModelName=function(){return"ssd_mobilenetv1_model"},t.prototype.extractParamsFromWeigthMap=function(e){return az(e)},t.prototype.extractParams=function(e){return function(e){var t=[],n=xB(e),r=n.extractWeights,o=n.getRemainingWeights,a=oz(r,t),i=a.extractMobilenetV1Params,s=a.extractPredictionLayerParams,l=i(),u=s(),c={extra_dim:Q_(r(20472),[1,5118,4])};if(t.push({paramPath:"output_layer/extra_dim"}),0!==o().length)throw new Error("weights remaing after extract: "+o().length);return{params:{mobilenetv1:l,prediction_layer:u,output_layer:c},paramMappings:t}}(e)},t}(lB);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}tL(t,e)}(pz);var fz,hz=[new vL(.738768,.874946),new vL(2.42204,2.65704),new vL(4.30971,7.04493),new vL(10.246,4.59428),new vL(12.6868,11.8741)],mz=[new vL(1.603231,2.094468),new vL(6.041143,7.080126),new vL(2.882459,3.518061),new vL(4.266906,5.178857),new vL(9.041765,10.66308)],vz=[117.001,114.697,97.404],gz=function(e){return"number"===typeof e};function yz(e){return E_(function(){var t=iO(e,X_(.10000000149011612));return GM(kD(dO(e,t)),t)})}function bz(e,t){return E_(function(){var n=OI(e,[[0,0],[1,1],[1,1],[0,0]]);return n=MO(n,t.conv.filters,[1,1],"valid"),n=dO(n,t.bn.sub),n=iO(n,t.bn.truediv),yz(n=GM(n,t.conv.bias))})}function xz(e,t){return E_(function(){var n=OI(e,[[0,0],[1,1],[1,1],[0,0]]);return n=zO(n,t.depthwise_filter,t.pointwise_filter,[1,1],"valid"),yz(n=GM(n,t.bias))})}function wz(e,t){var n=hB(e,t);var r=gB(e,t);return{extractConvParams:n,extractConvWithBatchNormParams:function(r,o,a){var i=n(r,o,3,a+"/conv"),s=function(n,r){var o=$_(e(n)),a=$_(e(n));return t.push({paramPath:r+"/sub"},{paramPath:r+"/truediv"}),{sub:o,truediv:a}}(o,a+"/bn");return{conv:i,bn:s}},extractSeparableConvParams:r}}function Sz(e,t){var n=bB(e,t);function r(e){return{filters:n(e+"/filters",4),bias:n(e+"/bias",1)}}return{extractConvParams:r,extractConvWithBatchNormParams:function(e){var t=r(e+"/conv"),o=function(e){return{sub:n(e+"/sub",1),truediv:n(e+"/truediv",1)}}(e+"/bn");return{conv:t,bn:o}},extractSeparableConvParams:yB(n)}}!function(e){e[e.XS=224]="XS",e[e.SM=320]="SM",e[e.MD=416]="MD",e[e.LG=608]="LG"}(fz||(fz={}));var Cz=function(){function e(e){var t=void 0===e?{}:e,n=t.inputSize,r=t.scoreThreshold;if(this._name="TinyYolov2Options",this._inputSize=n||416,this._scoreThreshold=r||.5,"number"!==typeof this._inputSize||this._inputSize%32!==0)throw new Error(this._name+" - expected inputSize to be a number divisible by 32");if("number"!==typeof this._scoreThreshold||this._scoreThreshold<=0||this._scoreThreshold>=1)throw new Error(this._name+" - expected scoreThreshold to be a number between 0 and 1")}return Object.defineProperty(e.prototype,"inputSize",{get:function(){return this._inputSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scoreThreshold",{get:function(){return this._scoreThreshold},enumerable:!0,configurable:!0}),e}(),kz=function(e){function t(t){var n=e.call(this,"TinyYolov2")||this;return function(e){if(!e)throw new Error("invalid config: "+e);if("boolean"!==typeof e.withSeparableConvs)throw new Error("config.withSeparableConvs has to be a boolean, have: "+e.withSeparableConvs);if(!gz(e.iouThreshold)||e.iouThreshold<0||e.iouThreshold>1)throw new Error("config.iouThreshold has to be a number between [0, 1], have: "+e.iouThreshold);if(!Array.isArray(e.classes)||!e.classes.length||!e.classes.every(function(e){return"string"===typeof e}))throw new Error("config.classes has to be an array class names: string[], have: "+JSON.stringify(e.classes));if(!Array.isArray(e.anchors)||!e.anchors.length||!e.anchors.map(function(e){return e||{}}).every(function(e){return gz(e.x)&&gz(e.y)}))throw new Error("config.anchors has to be an array of { x: number, y: number }, have: "+JSON.stringify(e.anchors));if(e.meanRgb&&(!Array.isArray(e.meanRgb)||3!==e.meanRgb.length||!e.meanRgb.every(gz)))throw new Error("config.meanRgb has to be an array of shape [number, number, number], have: "+JSON.stringify(e.meanRgb))}(t),n._config=t,n}return tL(t,e),Object.defineProperty(t.prototype,"config",{get:function(){return this._config},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"withClassScores",{get:function(){return this.config.withClassScores||this.config.classes.length>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"boxEncodingSize",{get:function(){return 5+(this.withClassScores?this.config.classes.length:0)},enumerable:!0,configurable:!0}),t.prototype.runTinyYolov2=function(e,t){var n=bz(e,t.conv0);return n=bz(n=ZO(n,[2,2],[2,2],"same"),t.conv1),n=bz(n=ZO(n,[2,2],[2,2],"same"),t.conv2),n=bz(n=ZO(n,[2,2],[2,2],"same"),t.conv3),n=bz(n=ZO(n,[2,2],[2,2],"same"),t.conv4),n=bz(n=ZO(n,[2,2],[2,2],"same"),t.conv5),n=bz(n=ZO(n,[2,2],[1,1],"same"),t.conv6),pB(n=bz(n,t.conv7),t.conv8,"valid",!1)},t.prototype.runMobilenet=function(e,t){var n=this.config.isFirstLayerConv2d?yz(pB(e,t.conv0,"valid",!1)):xz(e,t.conv0);return n=xz(n=ZO(n,[2,2],[2,2],"same"),t.conv1),n=xz(n=ZO(n,[2,2],[2,2],"same"),t.conv2),n=xz(n=ZO(n,[2,2],[2,2],"same"),t.conv3),n=xz(n=ZO(n,[2,2],[2,2],"same"),t.conv4),n=xz(n=ZO(n,[2,2],[2,2],"same"),t.conv5),n=ZO(n,[2,2],[1,1],"same"),n=t.conv6?xz(n,t.conv6):n,pB(n=t.conv7?xz(n,t.conv7):n,t.conv8,"valid",!1)},t.prototype.forwardInput=function(e,t){var n=this,r=this.params;if(!r)throw new Error("TinyYolov2 - load model before inference");return E_(function(){var o=e.toBatchTensor(t,!1).toFloat();return o=(o=n.config.meanRgb?CL(o,n.config.meanRgb):o).div(X_(256)),n.config.withSeparableConvs?n.runMobilenet(o,r):n.runTinyYolov2(o,r)})},t.prototype.forward=function(e,t){return rL(this,void 0,void 0,function(){var n;return oL(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,tB(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent()]}})})},t.prototype.detect=function(e,t){return void 0===t&&(t={}),rL(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c,d,p,f,h,m=this;return oL(this,function(v){switch(v.label){case 0:return n=new Cz(t),r=n.inputSize,o=n.scoreThreshold,[4,tB(e)];case 1:return a=v.sent(),[4,this.forwardInput(a,r)];case 2:return i=v.sent(),s=E_(function(){return $I(i)[0].expandDims()}),l={width:a.getInputWidth(0),height:a.getInputHeight(0)},[4,this.extractBoxes(s,a.getReshapedInputDimensions(0),o)];case 3:return u=v.sent(),i.dispose(),s.dispose(),c=u.map(function(e){return e.box}),d=u.map(function(e){return e.score}),p=u.map(function(e){return e.classScore}),f=u.map(function(e){return m.config.classes[e.label]}),h=SL(c.map(function(e){return e.rescale(r)}),d,this.config.iouThreshold,!0),[2,h.map(function(e){return new bL(d[e],p[e],f[e],c[e],l)})]}})})},t.prototype.getDefaultModelName=function(){return""},t.prototype.extractParamsFromWeigthMap=function(e){return function(e,t){var n,r=[],o=Sz(e,r),a=o.extractConvParams,i=o.extractConvWithBatchNormParams,s=o.extractSeparableConvParams;if(t.withSeparableConvs){var l=t.filterSizes&&t.filterSizes.length||9;n={conv0:t.isFirstLayerConv2d?a("conv0"):s("conv0"),conv1:s("conv1"),conv2:s("conv2"),conv3:s("conv3"),conv4:s("conv4"),conv5:s("conv5"),conv6:l>7?s("conv6"):void 0,conv7:l>8?s("conv7"):void 0,conv8:a("conv8")}}else n={conv0:i("conv0"),conv1:i("conv1"),conv2:i("conv2"),conv3:i("conv3"),conv4:i("conv4"),conv5:i("conv5"),conv6:i("conv6"),conv7:i("conv7"),conv8:a("conv8")};return fB(e,r),{params:n,paramMappings:r}}(e,this.config)},t.prototype.extractParams=function(e){var n=this.config.filterSizes||t.DEFAULT_FILTER_SIZES,r=n?n.length:void 0;if(7!==r&&8!==r&&9!==r)throw new Error("TinyYolov2 - expected 7 | 8 | 9 convolutional filters, but found "+r+" filterSizes in config");return function(e,t,n,r){var o,a=xB(e),i=a.extractWeights,s=a.getRemainingWeights,l=[],u=wz(i,l),c=u.extractConvParams,d=u.extractConvWithBatchNormParams,p=u.extractSeparableConvParams;if(t.withSeparableConvs){var f=r[0],h=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],x=r[7],w=r[8];o={conv0:t.isFirstLayerConv2d?c(f,h,3,"conv0"):p(f,h,"conv0"),conv1:p(h,m,"conv1"),conv2:p(m,v,"conv2"),conv3:p(v,g,"conv3"),conv4:p(g,y,"conv4"),conv5:p(y,b,"conv5"),conv6:x?p(b,x,"conv6"):void 0,conv7:w?p(x,w,"conv7"):void 0,conv8:c(w||x||b,5*n,1,"conv8")}}else f=r[0],h=r[1],m=r[2],v=r[3],g=r[4],y=r[5],b=r[6],x=r[7],w=r[8],o={conv0:d(f,h,"conv0"),conv1:d(h,m,"conv1"),conv2:d(m,v,"conv2"),conv3:d(v,g,"conv3"),conv4:d(g,y,"conv4"),conv5:d(y,b,"conv5"),conv6:d(b,x,"conv6"),conv7:d(x,w,"conv7"),conv8:c(w,5*n,1,"conv8")};if(0!==s().length)throw new Error("weights remaing after extract: "+s().length);return{params:o,paramMappings:l}}(e,this.config,this.boxEncodingSize,n)},t.prototype.extractBoxes=function(e,t,n){return rL(this,void 0,void 0,function(){var r,o,a,i,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S,C,k,E,R,_,I,T,A,P,N=this;return oL(this,function(M){switch(M.label){case 0:return r=t.width,o=t.height,a=Math.max(r,o),i=a/r,s=a/o,l=e.shape[1],u=this.config.anchors.length,c=E_(function(){var t=e.reshape([l,l,u,N.boxEncodingSize]);return[t.slice([0,0,0,0],[l,l,u,4]),t.slice([0,0,0,4],[l,l,u,1]),N.withClassScores?hT(t.slice([0,0,0,5],[l,l,u,N.config.classes.length]),3):X_(0)]}),d=c[0],p=c[1],f=c[2],h=[],[4,p.array()];case 1:return m=M.sent(),[4,d.array()];case 2:v=M.sent(),g=0,M.label=3;case 3:if(!(g<l))return[3,12];y=0,M.label=4;case 4:if(!(y<l))return[3,11];b=0,M.label=5;case 5:return b<u?(x=kL(m[g][y][b][0]),!n||x>n?(w=(y+kL(v[g][y][b][0]))/l*i,S=(g+kL(v[g][y][b][1]))/l*s,C=Math.exp(v[g][y][b][2])*this.config.anchors[b].x/l*i,k=Math.exp(v[g][y][b][3])*this.config.anchors[b].y/l*s,E=w-C/2,R=S-k/2,_={row:g,col:y,anchor:b},this.withClassScores?[4,this.extractPredictedClass(f,_)]:[3,7]):[3,9]):[3,10];case 6:return P=M.sent(),[3,8];case 7:P={classScore:1,label:0},M.label=8;case 8:T=(I=P).classScore,A=I.label,h.push(nL({box:new yL(E,R,E+C,R+k),score:x,classScore:x*T,label:A},_)),M.label=9;case 9:return b++,[3,5];case 10:return y++,[3,4];case 11:return g++,[3,3];case 12:return d.dispose(),p.dispose(),f.dispose(),[2,h]}})})},t.prototype.extractPredictedClass=function(e,t){return rL(this,void 0,void 0,function(){var n,r,o,a;return oL(this,function(i){switch(i.label){case 0:return n=t.row,r=t.col,o=t.anchor,[4,e.array()];case 1:return a=i.sent(),[2,Array(this.config.classes.length).fill(0).map(function(e,t){return a[n][r][o][t]}).map(function(e,t){return{classScore:e,label:t}}).reduce(function(e,t){return e.classScore>t.classScore?e:t})]}})})},t.DEFAULT_FILTER_SIZES=[3,16,32,64,128,256,512,1024,1024],t}(lB),Ez=function(e){function t(t){void 0===t&&(t=!0);var n=Object.assign({},{withSeparableConvs:t,iouThreshold:.4,classes:["face"]},t?{anchors:mz,meanRgb:vz}:{anchors:hz,withClassScores:!0});return e.call(this,n)||this}return tL(t,e),Object.defineProperty(t.prototype,"withSeparableConvs",{get:function(){return this.config.withSeparableConvs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return rL(this,void 0,void 0,function(){return oL(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new xL(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return this.withSeparableConvs?"tiny_yolov2_separable_conv_model":"tiny_yolov2_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(kz);var Rz=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._name="TinyFaceDetectorOptions",t}return tL(t,e),t}(Cz),_z=function(){function e(){}return e.prototype.then=function(e){return rL(this,void 0,void 0,function(){var t;return oL(this,function(n){switch(n.label){case 0:return t=e,[4,this.run()];case 1:return[2,t.apply(void 0,[n.sent()])]}})})},e.prototype.run=function(){return rL(this,void 0,void 0,function(){return oL(this,function(e){throw new Error("ComposableTask - run is not implemented")})})},e}();function Iz(e,t){var n={descriptor:t};return Object.assign({},e,n)}function Tz(e,t,n,r,o){return void 0===o&&(o=function(e){return e.alignedRect}),rL(this,void 0,void 0,function(){var a,i,s,l,u;return oL(this,function(c){switch(c.label){case 0:return a=e.map(function(e){return NB(e)?o(e):e.detection}),(s=r)?[3,5]:t instanceof rR?[4,rB(t,a)]:[3,2];case 1:return l=c.sent(),[3,4];case 2:return[4,nB(t,a)];case 3:l=c.sent(),c.label=4;case 4:s=l,c.label=5;case 5:return[4,n(i=s)];case 6:return u=c.sent(),i.forEach(function(e){return e instanceof rR&&e.dispose()}),[2,u]}})})}function Az(e,t,n,r,o){return rL(this,void 0,void 0,function(){var a=this;return oL(this,function(i){return[2,Tz([e],t,function(e){return rL(a,void 0,void 0,function(){return oL(this,function(t){return[2,n(e[0])]})})},r,o)]})})}function Pz(e){var t=xB(e),n=t.extractWeights,r=t.getRemainingWeights,o=[],a=function(e,t){var n=hB(e,t),r=mB(e,t);function o(n,r){var o=$_(e(n));return t.push({paramPath:r}),o}function a(e,t,r){return void 0===r&&(r=!1),{conv1:n(e[0],e[1],3,t+"/conv1"),prelu1_alpha:o(e[1],t+"/prelu1_alpha"),conv2:n(e[1],e[2],3,t+"/conv2"),prelu2_alpha:o(e[2],t+"/prelu2_alpha"),conv3:n(e[2],e[3],r?2:3,t+"/conv3"),prelu3_alpha:o(e[3],t+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=a([3,10,16,32],"pnet"),t=n(32,2,1,"pnet/conv4_1"),r=n(32,4,1,"pnet/conv4_2");return nL(nL({},e),{conv4_1:t,conv4_2:r})},extractRNetParams:function(){var e=a([3,28,48,64],"rnet",!0),t=r(576,128,"rnet/fc1"),n=o(128,"rnet/prelu4_alpha"),i=r(128,2,"rnet/fc2_1"),s=r(128,4,"rnet/fc2_2");return nL(nL({},e),{fc1:t,prelu4_alpha:n,fc2_1:i,fc2_2:s})},extractONetParams:function(){var e=a([3,32,64,64],"onet"),t=n(64,128,2,"onet/conv4"),i=o(128,"onet/prelu4_alpha"),s=r(1152,256,"onet/fc1"),l=o(256,"onet/prelu5_alpha"),u=r(256,2,"onet/fc2_1"),c=r(256,4,"onet/fc2_2"),d=r(256,10,"onet/fc2_3");return nL(nL({},e),{conv4:t,prelu4_alpha:i,fc1:s,prelu5_alpha:l,fc2_1:u,fc2_2:c,fc2_3:d})}}}(n,o),i=a.extractPNetParams,s=a.extractRNetParams,l=a.extractONetParams,u=i(),c=s(),d=l();if(0!==r().length)throw new Error("weights remaing after extract: "+r().length);return{params:{pnet:u,rnet:c,onet:d},paramMappings:o}}function Nz(e){var t=[],n=function(e,t){var n=bB(e,t);function r(e){return{filters:n(e+"/weights",4,e+"/filters"),bias:n(e+"/bias",1)}}function o(e){return{weights:n(e+"/weights",2),bias:n(e+"/bias",1)}}function a(e){return n(e,1)}function i(e){return{conv1:r(e+"/conv1"),prelu1_alpha:a(e+"/prelu1_alpha"),conv2:r(e+"/conv2"),prelu2_alpha:a(e+"/prelu2_alpha"),conv3:r(e+"/conv3"),prelu3_alpha:a(e+"/prelu3_alpha")}}return{extractPNetParams:function(){var e=i("pnet"),t=r("pnet/conv4_1"),n=r("pnet/conv4_2");return nL(nL({},e),{conv4_1:t,conv4_2:n})},extractRNetParams:function(){var e=i("rnet"),t=o("rnet/fc1"),n=a("rnet/prelu4_alpha"),r=o("rnet/fc2_1"),s=o("rnet/fc2_2");return nL(nL({},e),{fc1:t,prelu4_alpha:n,fc2_1:r,fc2_2:s})},extractONetParams:function(){var e=i("onet"),t=r("onet/conv4"),n=a("onet/prelu4_alpha"),s=o("onet/fc1"),l=a("onet/prelu5_alpha"),u=o("onet/fc2_1"),c=o("onet/fc2_2"),d=o("onet/fc2_3");return nL(nL({},e),{conv4:t,prelu4_alpha:n,fc1:s,prelu5_alpha:l,fc2_1:u,fc2_2:c,fc2_3:d})}}}(e,t),r=n.extractPNetParams,o=n.extractRNetParams,a=n.extractONetParams,i=r(),s=o(),l=a();return fB(e,t),{params:{pnet:i,rnet:s,onet:l},paramMappings:t}}function Mz(e,t){var n=t[0],r=t[1];return{height:Math.floor(n*e),width:Math.floor(r*e)}}var Oz=function(e){function t(t,n,r,o){return e.call(this,{left:t,top:n,right:r,bottom:o},!0)||this}return tL(t,e),t}(gL);function Dz(e){return E_(function(){return iO(dO(e,X_(127.5)),X_(.0078125))})}function jz(e,t){return E_(function(){return GM(kD(e),iO(t,cM(kD(cM(e)))))})}function Fz(e,t,n){return void 0===n&&(n=!1),E_(function(){var r=pB(e,t.conv1,"valid");return r=jz(r,t.prelu1_alpha),r=jz(r=pB(r=ZO(r,n?[2,2]:[3,3],[2,2],"same"),t.conv2,"valid"),t.prelu2_alpha),r=jz(r=pB(r=n?r:ZO(r,[3,3],[2,2],"valid"),t.conv3,"valid"),t.prelu3_alpha)})}function Lz(e,t,n,r,o){o.stage1=[];var a=t.map(function(t){return E_(function(){var n={scale:t},o=function(e,t){return E_(function(){var n=Mz(t,e.shape.slice(1)),r=n.height,o=n.width,a=Dz(bj.resizeBilinear(e,[r,o]));return _D(a,[0,2,1,3])})}(e,t),a=Date.now(),i=function(e,t){return E_(function(){var n=Fz(e,t,!0),r=pB(n,t.conv4_1,"valid"),o=AI(mD(r,3),3);return{prob:hT(dO(r,o),3),regions:pB(n,t.conv4_2,"valid")}})}(o,r),s=i.prob,l=i.regions;return n.pnet=Date.now()-a,{scoresTensor:$I($I(s,3)[1])[0],regionsTensor:$I(l)[0],scale:t,statsForScale:n}})}),i=a.map(function(e){var t=e.scoresTensor,r=e.regionsTensor,a=e.scale,i=e.statsForScale,s=function(e,t,n,r){for(var o=[],a=e.arraySync(),i=0;i<e.shape[0];i++)for(var s=0;s<e.shape[1];s++)a[i][s]>=r&&o.push(new vL(s,i));return o.map(function(e){var r=new yL(Math.round((2*e.y+1)/n),Math.round((2*e.x+1)/n),Math.round((2*e.y+12)/n),Math.round((2*e.x+12)/n)),o=a[e.y][e.x],i=t.arraySync();return{cell:r,score:o,region:new Oz(i[e.y][e.x][0],i[e.y][e.x][1],i[e.y][e.x][2],i[e.y][e.x][3])}})}(t,r,a,n);if(t.dispose(),r.dispose(),!s.length)return o.stage1.push(i),[];var l=Date.now(),u=SL(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.5);return i.nms=Date.now()-l,i.numBoxes=u.length,o.stage1.push(i),u.map(function(e){return s[e]})}),s=i.reduce(function(e,t){return e.concat(t)},[]),l=[],u=[];if(s.length>0){var c=Date.now(),d=SL(s.map(function(e){return e.cell}),s.map(function(e){return e.score}),.7);o.stage1_nms=Date.now()-c,u=d.map(function(e){return s[e].score}),l=d.map(function(e){return s[e]}).map(function(e){var t=e.cell,n=e.region;return new yL(t.left+n.left*t.width,t.top+n.top*t.height,t.right+n.right*t.width,t.bottom+n.bottom*t.height).toSquare().round()})}return{boxes:l,scores:u}}function Bz(e,t,n){var r=n.width,o=n.height;return rL(this,void 0,void 0,function(){var n,a,i,s=this;return oL(this,function(l){switch(l.label){case 0:return n=HL(e),[4,Promise.all(t.map(function(t){return rL(s,void 0,void 0,function(){var r,o,a,i,s,l,u,c;return oL(this,function(d){return r=t.padAtBorders(e.height,e.width),o=r.y,a=r.ey,i=r.x,s=r.ex,l=i-1,u=o-1,c=n.getImageData(l,u,s-l,a-u),[2,UL.isNodejs()?QL(c):createImageBitmap(c)]})})}))];case 1:return a=l.sent(),i=[],a.forEach(function(e){var t=HL(YL({width:r,height:o}));t.drawImage(e,0,0,r,o);for(var n=t.getImageData(0,0,r,o).data,a=[],s=0;s<n.length;s+=4)a.push(n[s+2]),a.push(n[s+1]),a.push(n[s]);i.push(a)}),[2,i.map(function(e){return E_(function(){return Dz(_D(J_(e,[1,r,o,3]),[0,2,1,3]).toFloat())})})]}})})}function zz(e,t,n,r,o){return rL(this,void 0,void 0,function(){var a,i,s,l,u,c,d,p,f,h,m,v,g,y;return oL(this,function(b){switch(b.label){case 0:return a=Date.now(),[4,Bz(e,t,{width:24,height:24})];case 1:return i=b.sent(),o.stage2_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(e){var t=function(e,t){return E_(function(){var n=Fz(e,t),r=jz(EB(VI(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu4_alpha),o=EB(r,t.fc2_1),a=AI(mD(o,1),1),i=hT(dO(o,a),1),s=EB(r,t.fc2_2);return{scores:$I(i,1)[1],regions:s}})}(e,r);return e.dispose(),t}),o.stage2_rnet=Date.now()-a,l=s.length>1?aI(s.map(function(e){return e.scores})):s[0].scores,d=(c=Array).from,[4,l.data()];case 2:return u=d.apply(c,[b.sent()]),l.dispose(),p=u.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),f=p.map(function(e){return t[e]}),h=p.map(function(e){return u[e]}),m=[],v=[],f.length>0&&(a=Date.now(),g=SL(f,h,.7),o.stage2_nms=Date.now()-a,y=g.map(function(e){var t=s[p[e]].regions.arraySync();return new Oz(t[0][0],t[0][1],t[0][2],t[0][3])}),v=g.map(function(e){return h[e]}),m=g.map(function(e,t){return f[e].calibrate(y[t])})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose()}),[2,{boxes:m,scores:v}]}})})}function Wz(e,t,n,r,o){return rL(this,void 0,void 0,function(){var a,i,s,l,u,c,d,p,f,h,m,v,g,y,b;return oL(this,function(x){switch(x.label){case 0:return a=Date.now(),[4,Bz(e,t,{width:48,height:48})];case 1:return i=x.sent(),o.stage3_extractImagePatches=Date.now()-a,a=Date.now(),s=i.map(function(e){var t=function(e,t){return E_(function(){var n=Fz(e,t);n=jz(n=pB(n=ZO(n,[2,2],[2,2],"same"),t.conv4,"valid"),t.prelu4_alpha);var r=jz(EB(VI(n,[n.shape[0],t.fc1.weights.shape[0]]),t.fc1),t.prelu5_alpha),o=EB(r,t.fc2_1),a=AI(mD(o,1),1),i=hT(dO(o,a),1),s=EB(r,t.fc2_2),l=EB(r,t.fc2_3);return{scores:$I(i,1)[1],regions:s,points:l}})}(e,r);return e.dispose(),t}),o.stage3_onet=Date.now()-a,l=s.length>1?aI(s.map(function(e){return e.scores})):s[0].scores,d=(c=Array).from,[4,l.data()];case 2:return u=d.apply(c,[x.sent()]),l.dispose(),p=u.map(function(e,t){return{score:e,idx:t}}).filter(function(e){return e.score>n}).map(function(e){return e.idx}),f=p.map(function(e){var t=s[e].regions.arraySync();return new Oz(t[0][0],t[0][1],t[0][2],t[0][3])}),h=p.map(function(e,n){return t[e].calibrate(f[n])}),m=p.map(function(e){return u[e]}),v=[],g=[],y=[],h.length>0&&(a=Date.now(),b=SL(h,m,.7,!1),o.stage3_nms=Date.now()-a,v=b.map(function(e){return h[e]}),g=b.map(function(e){return m[e]}),y=b.map(function(e,t){return Array(5).fill(0).map(function(n,r){var o=s[e].points.arraySync();return new vL(o[0][r]*(v[t].width+1)+v[t].left,o[0][r+5]*(v[t].height+1)+v[t].top)})})),s.forEach(function(e){e.regions.dispose(),e.scores.dispose(),e.points.dispose()}),[2,{boxes:v,scores:g,points:y}]}})})}var Uz=function(e){function t(){return e.call(this,"Mtcnn")||this}return tL(t,e),t.prototype.load=function(t){return rL(this,void 0,void 0,function(){return oL(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.load.call(this,t)]})})},t.prototype.loadFromDisk=function(t){return rL(this,void 0,void 0,function(){return oL(this,function(n){return console.warn("mtcnn is deprecated and will be removed soon"),[2,e.prototype.loadFromDisk.call(this,t)]})})},t.prototype.forwardInput=function(e,t){return void 0===t&&(t={}),rL(this,void 0,void 0,function(){var n,r,o,a,i,s,l,u,c,d,p,f,h,m,v,g,y,b,x,w,S;return oL(this,function(C){switch(C.label){case 0:if(!(n=this.params))throw new Error("Mtcnn - load model before inference");if(!(r=e.canvases[0]))throw new Error("Mtcnn - inputCanvas is not defined, note that passing tensors into Mtcnn.forwardInput is not supported yet.");return o={},a=Date.now(),i=E_(function(){return e=AI(LF.fromPixels(r)).toFloat(),E_(function(){return GI($I(e,3).reverse(),3)});var e}),s=function(e){return i.dispose(),o.total=Date.now()-a,e},l=i.shape.slice(1),u=l[0],c=l[1],d=new rz(t),p=d.minFaceSize,f=d.scaleFactor,h=d.maxNumScales,m=d.scoreThresholds,v=d.scaleSteps,g=(v||function(e,t,n){for(var r=n[0],o=n[1],a=12/e,i=[],s=Math.min(r,o)*a,l=0;s>=12;)i.push(a*Math.pow(t,l)),s*=t,l+=1;return i}(p,f,[u,c])).filter(function(e){var t=Mz(e,[u,c]);return Math.min(t.width,t.height)>12}).slice(0,h),o.scales=g,o.pyramid=g.map(function(e){return Mz(e,[u,c])}),y=Date.now(),[4,Lz(i,g,m[0],n.pnet,o)];case 1:return b=C.sent(),o.total_stage1=Date.now()-y,b.boxes.length?(o.stage2_numInputBoxes=b.boxes.length,y=Date.now(),[4,zz(r,b.boxes,m[1],n.rnet,o)]):[2,s({results:[],stats:o})];case 2:return x=C.sent(),o.total_stage2=Date.now()-y,x.boxes.length?(o.stage3_numInputBoxes=x.boxes.length,y=Date.now(),[4,Wz(r,x.boxes,m[2],n.onet,o)]):[2,s({results:[],stats:o})];case 3:return w=C.sent(),o.total_stage3=Date.now()-y,S=w.boxes.map(function(e,t){return MB(ML({},new xL(w.scores[t],new RL(e.left/c,e.top/u,e.width/c,e.height/u),{height:u,width:c})),new IL(w.points[t].map(function(t){return t.sub(new vL(e.left,e.top)).div(new vL(e.width,e.height))}),{width:e.width,height:e.height}))}),[2,s({results:S,stats:o})]}})})},t.prototype.forward=function(e,t){return void 0===t&&(t={}),rL(this,void 0,void 0,function(){var n;return oL(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,tB(e)];case 1:return[4,n.apply(this,[r.sent(),t])];case 2:return[2,r.sent().results]}})})},t.prototype.forwardWithStats=function(e,t){return void 0===t&&(t={}),rL(this,void 0,void 0,function(){var n;return oL(this,function(r){switch(r.label){case 0:return n=this.forwardInput,[4,tB(e)];case 1:return[2,n.apply(this,[r.sent(),t])]}})})},t.prototype.getDefaultModelName=function(){return"mtcnn_model"},t.prototype.extractParamsFromWeigthMap=function(e){return Nz(e)},t.prototype.extractParams=function(e){return Pz(e)},t}(lB),Vz=[new vL(1.603231,2.094468),new vL(6.041143,7.080126),new vL(2.882459,3.518061),new vL(4.266906,5.178857),new vL(9.041765,10.66308)],Hz=[117.001,114.697,97.404],qz=function(e){function t(){var t={withSeparableConvs:!0,iouThreshold:.4,classes:["face"],anchors:Vz,meanRgb:Hz,isFirstLayerConv2d:!0,filterSizes:[3,16,32,64,128,256,512]};return e.call(this,t)||this}return tL(t,e),Object.defineProperty(t.prototype,"anchors",{get:function(){return this.config.anchors},enumerable:!0,configurable:!0}),t.prototype.locateFaces=function(e,t){return rL(this,void 0,void 0,function(){return oL(this,function(n){switch(n.label){case 0:return[4,this.detect(e,t)];case 1:return[2,n.sent().map(function(e){return new xL(e.score,e.relativeBox,{width:e.imageWidth,height:e.imageHeight})})]}})})},t.prototype.getDefaultModelName=function(){return"tiny_face_detector_model"},t.prototype.extractParamsFromWeigthMap=function(t){return e.prototype.extractParamsFromWeigthMap.call(this,t)},t}(kz),Gz={ssdMobilenetv1:new pz,tinyFaceDetector:new qz,tinyYolov2:new Ez,mtcnn:new Uz,faceLandmark68Net:new HB,faceLandmark68TinyNet:new GB,faceRecognitionNet:new tz,faceExpressionNet:new AB,ageGenderNet:new UB};function Kz(e,t){var n={age:t};return Object.assign({},e,n)}var Xz=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return tL(t,e),t}(_z),$z=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n=this;return oL(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,Tz(e=r.sent(),this.input,function(e){return rL(n,void 0,void 0,function(){return oL(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return Gz.faceExpressionNet.predictExpressions(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){return PB(e,t[n])})]}})})},t.prototype.withAgeAndGender=function(){return new eW(this,this.input)},t}(Xz),Yz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t;return oL(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Az(e,this.input,function(e){return Gz.faceExpressionNet.predictExpressions(e)},this.extractedFaces)]:[2];case 2:return t=n.sent(),[2,PB(e,t)]}})})},t.prototype.withAgeAndGender=function(){return new tW(this,this.input)},t}(Xz),Qz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.withAgeAndGender=function(){return new nW(this,this.input)},t.prototype.withFaceDescriptors=function(){return new aW(this,this.input)},t}($z),Jz=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.withAgeAndGender=function(){return new rW(this,this.input)},t.prototype.withFaceDescriptor=function(){return new iW(this,this.input)},t}(Yz),Zz=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.extractedFaces=r,o}return tL(t,e),t}(_z),eW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n=this;return oL(this,function(r){switch(r.label){case 0:return[4,this.parentTask];case 1:return[4,Tz(e=r.sent(),this.input,function(e){return rL(n,void 0,void 0,function(){return oL(this,function(t){switch(t.label){case 0:return[4,Promise.all(e.map(function(e){return Gz.ageGenderNet.predictAgeAndGender(e)}))];case 1:return[2,t.sent()]}})})},this.extractedFaces)];case 2:return t=r.sent(),[2,e.map(function(e,n){var r=t[n],o=r.age;return Kz(nz(e,r.gender,r.genderProbability),o)})]}})})},t.prototype.withFaceExpressions=function(){return new $z(this,this.input)},t}(Zz),tW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n,r,o;return oL(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?[4,Az(e,this.input,function(e){return Gz.ageGenderNet.predictAgeAndGender(e)},this.extractedFaces)]:[2];case 2:return t=a.sent(),n=t.age,r=t.gender,o=t.genderProbability,[2,Kz(nz(e,r,o),n)]}})})},t.prototype.withFaceExpressions=function(){return new Yz(this,this.input)},t}(Zz),nW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.withFaceExpressions=function(){return new Qz(this,this.input)},t.prototype.withFaceDescriptors=function(){return new aW(this,this.input)},t}(eW),rW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.withFaceExpressions=function(){return new Jz(this,this.input)},t.prototype.withFaceDescriptor=function(){return new iW(this,this.input)},t}(tW),oW=function(e){function t(t,n){var r=e.call(this)||this;return r.parentTask=t,r.input=n,r}return tL(t,e),t}(_z),aW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e;return oL(this,function(t){switch(t.label){case 0:return[4,this.parentTask];case 1:return[4,Tz(e=t.sent(),this.input,function(e){return Promise.all(e.map(function(e){return Gz.faceRecognitionNet.computeFaceDescriptor(e)}))},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})];case 2:return[2,t.sent().map(function(t,n){return Iz(e[n],t)})]}})})},t.prototype.withFaceExpressions=function(){return new Qz(this,this.input)},t.prototype.withAgeAndGender=function(){return new nW(this,this.input)},t}(oW),iW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t;return oL(this,function(n){switch(n.label){case 0:return[4,this.parentTask];case 1:return(e=n.sent())?[4,Az(e,this.input,function(e){return Gz.faceRecognitionNet.computeFaceDescriptor(e)},null,function(e){return e.landmarks.align(null,{useDlibAlignment:!0})})]:[2];case 2:return t=n.sent(),[2,Iz(e,t)]}})})},t.prototype.withFaceExpressions=function(){return new Jz(this,this.input)},t.prototype.withAgeAndGender=function(){return new rW(this,this.input)},t}(oW),sW=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parentTask=t,o.input=n,o.useTinyLandmarkNet=r,o}return tL(t,e),Object.defineProperty(t.prototype,"landmarkNet",{get:function(){return this.useTinyLandmarkNet?Gz.faceLandmark68TinyNet:Gz.faceLandmark68Net},enumerable:!0,configurable:!0}),t}(_z),lW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n,r,o,a=this;return oL(this,function(i){switch(i.label){case 0:return[4,this.parentTask];case 1:return e=i.sent(),t=e.map(function(e){return e.detection}),this.input instanceof rR?[4,rB(this.input,t)]:[3,3];case 2:return r=i.sent(),[3,5];case 3:return[4,nB(this.input,t)];case 4:r=i.sent(),i.label=5;case 5:return n=r,[4,Promise.all(n.map(function(e){return a.landmarkNet.detectLandmarks(e)}))];case 6:return o=i.sent(),n.forEach(function(e){return e instanceof rR&&e.dispose()}),[2,e.map(function(e,t){return MB(e,o[t])})]}})})},t.prototype.withFaceExpressions=function(){return new Qz(this,this.input)},t.prototype.withAgeAndGender=function(){return new nW(this,this.input)},t.prototype.withFaceDescriptors=function(){return new aW(this,this.input)},t}(sW),uW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n,r,o;return oL(this,function(a){switch(a.label){case 0:return[4,this.parentTask];case 1:return(e=a.sent())?(t=e.detection,this.input instanceof rR?[4,rB(this.input,[t])]:[3,3]):[2];case 2:return r=a.sent(),[3,5];case 3:return[4,nB(this.input,[t])];case 4:r=a.sent(),a.label=5;case 5:return n=r,[4,this.landmarkNet.detectLandmarks(n[0])];case 6:return o=a.sent(),n.forEach(function(e){return e instanceof rR&&e.dispose()}),[2,MB(e,o)]}})})},t.prototype.withFaceExpressions=function(){return new Jz(this,this.input)},t.prototype.withAgeAndGender=function(){return new rW(this,this.input)},t.prototype.withFaceDescriptor=function(){return new iW(this,this.input)},t}(sW),cW=function(e){function t(t,n){void 0===n&&(n=new dz);var r=e.call(this)||this;return r.input=t,r.options=n,r}return tL(t,e),t}(_z),dW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t,n,r;return oL(this,function(o){switch(o.label){case 0:return t=(e=this).input,(n=e.options)instanceof rz?[4,Gz.mtcnn.forward(t,n)]:[3,2];case 1:return[2,o.sent().map(function(e){return e.detection})];case 2:if(r=n instanceof Rz?function(e){return Gz.tinyFaceDetector.locateFaces(e,n)}:n instanceof dz?function(e){return Gz.ssdMobilenetv1.locateFaces(e,n)}:n instanceof Cz?function(e){return Gz.tinyYolov2.locateFaces(e,n)}:null,!r)throw new Error("detectFaces - expected options to be instance of TinyFaceDetectorOptions | SsdMobilenetv1Options | MtcnnOptions | TinyYolov2Options");return[2,r(t)]}})})},t.prototype.runAndExtendWithFaceDetections=function(){var e=this;return new Promise(function(t){return rL(e,void 0,void 0,function(){var e;return oL(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e.map(function(e){return ML({},e)}))]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new lW(this.runAndExtendWithFaceDetections(),this.input,e)},t.prototype.withFaceExpressions=function(){return new $z(this.runAndExtendWithFaceDetections(),this.input)},t.prototype.withAgeAndGender=function(){return new eW(this.runAndExtendWithFaceDetections(),this.input)},t}(cW),pW=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return tL(t,e),t.prototype.run=function(){return rL(this,void 0,void 0,function(){var e,t;return oL(this,function(n){switch(n.label){case 0:return[4,new dW(this.input,this.options)];case 1:return e=n.sent(),t=e[0],e.forEach(function(e){e.score>t.score&&(t=e)}),[2,t]}})})},t.prototype.runAndExtendWithFaceDetection=function(){var e=this;return new Promise(function(t){return rL(e,void 0,void 0,function(){var e;return oL(this,function(n){switch(n.label){case 0:return[4,this.run()];case 1:return e=n.sent(),[2,t(e?ML({},e):void 0)]}})})})},t.prototype.withFaceLandmarks=function(e){return void 0===e&&(e=!1),new uW(this.runAndExtendWithFaceDetection(),this.input,e)},t.prototype.withFaceExpressions=function(){return new Yz(this.runAndExtendWithFaceDetection(),this.input)},t.prototype.withAgeAndGender=function(){return new tW(this.runAndExtendWithFaceDetection(),this.input)},t}(cW);!function(){function e(e,t){void 0===t&&(t=.6),this._distanceThreshold=t;var n=Array.isArray(e)?e:[e];if(!n.length)throw new Error("FaceRecognizer.constructor - expected atleast one input");var r=1,o=function(){return"person "+r++};this._labeledDescriptors=n.map(function(e){if(e instanceof NL)return e;if(e instanceof Float32Array)return new NL(o(),[e]);if(e.descriptor&&e.descriptor instanceof Float32Array)return new NL(o(),[e.descriptor]);throw new Error("FaceRecognizer.constructor - expected inputs to be of type LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array | Array<LabeledFaceDescriptors | WithFaceDescriptor<any> | Float32Array>")})}Object.defineProperty(e.prototype,"labeledDescriptors",{get:function(){return this._labeledDescriptors},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"distanceThreshold",{get:function(){return this._distanceThreshold},enumerable:!0,configurable:!0}),e.prototype.computeMeanDistance=function(e,t){return t.map(function(t){return function(e,t){if(e.length!==t.length)throw new Error("euclideanDistance: arr1.length !== arr2.length");var n=Array.from(e),r=Array.from(t);return Math.sqrt(n.map(function(e,t){return e-r[t]}).reduce(function(e,t){return e+Math.pow(t,2)},0))}(t,e)}).reduce(function(e,t){return e+t},0)/(t.length||1)},e.prototype.matchDescriptor=function(e){var t=this;return this.labeledDescriptors.map(function(n){var r=n.descriptors,o=n.label;return new AL(o,t.computeMeanDistance(e,r))}).reduce(function(e,t){return e.distance<t.distance?e:t})},e.prototype.findBestMatch=function(e){var t=this.matchDescriptor(e);return t.distance<this.distanceThreshold?t:new AL("unknown",t.distance)},e.prototype.toJSON=function(){return{distanceThreshold:this.distanceThreshold,labeledDescriptors:this.labeledDescriptors.map(function(e){return e.toJSON()})}},e.fromJSON=function(t){var n=t.labeledDescriptors.map(function(e){return NL.fromJSON(e)});return new e(n,t.distanceThreshold)}}();class fW{constructor(){this.modelLoaded=!1,this.modelsPath="/models"}async loadModels(){if(this.modelLoaded)return!0;try{return await Promise.all([Gz.tinyFaceDetector.loadFromUri(this.modelsPath),Gz.faceLandmark68Net.loadFromUri(this.modelsPath),Gz.faceRecognitionNet.loadFromUri(this.modelsPath),Gz.faceExpressionNet.loadFromUri(this.modelsPath)]),this.modelLoaded=!0,console.log("Modelos de FaceAPI cargados correctamente"),!0}catch(e){return console.error("Error cargando modelos de FaceAPI:",e),!1}}async detectFaces(e){this.modelLoaded||await this.loadModels();const t=new Rz;var n,r;return await(n=e,r=t,void 0===r&&(r=new dz),new dW(n,r)).withFaceLandmarks().withFaceDescriptors()}async getFaceEmbedding(e){this.modelLoaded||await this.loadModels();const t=await(n=e,r=new Rz,void 0===r&&(r=new dz),new pW(n,r)).withFaceLandmarks().withFaceDescriptor();var n,r;return t?Array.from(t.descriptor):null}calculateSimilarity(e,t){if(!e||!t||e.length!==t.length)return 0;let n=0;for(let o=0;o<e.length;o++)n+=Math.pow(e[o]-t[o],2);const r=Math.sqrt(n);return 1/(1+r)}}const hW=e=>{const t=document.createElement("canvas");t.width=e.videoWidth,t.height=e.videoHeight;return t.getContext("2d").drawImage(e,0,0,t.width,t.height),t},mW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8;return e.toDataURL("image/jpeg",t)},vW=()=>{const e=(0,t.useRef)(null),[n,r]=(0,t.useState)(null),[o,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[f,h]=(0,t.useState)({}),[v,g]=(0,t.useState)({open:!1,message:"",severity:"success"}),[y,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{const e=new fW;await e.loadModels(),s(e),x(),w()})()},[]);const x=async()=>{try{const e=await Pk();p(e.data)}catch(e){console.error("Error cargando estad\xedsticas:",e)}},w=async()=>{try{const e=await Nk();h(e.data)}catch(e){console.error("Error cargando configuraci\xf3n:",e)}},S=()=>{a(!1),c(null)},C=async()=>{if(o&&i)try{const t=hW(e.current),n=await i.getFaceEmbedding(t);if(n){const e=mW(t),r=await Ak(n,e);r.data.acceso_permitido?(c({tipo:"acceso_exitoso",usuario:r.data.usuario,tipoAcceso:r.data.tipo_acceso,confianza:r.data.confianza,timestamp:new Date,mensaje:r.data.mensaje}),k(r.data.mensaje,"success")):(c({tipo:"acceso_denegado",confianza:r.data.confianza,timestamp:new Date,mensaje:r.data.mensaje}),k(r.data.mensaje,"warning")),x()}o&&setTimeout(C,3e3)}catch(t){console.error("Error en monitoreo:",t),o&&setTimeout(C,3e3)}},k=function(e){g({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},E=()=>{g(u(u({},v),{},{open:!1}))};return(0,m.jsxs)(Hs,{sx:{p:3},children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Monitor de Acceso Autom\xe1tico"}),(0,m.jsx)(mw,{title:"Configuraci\xf3n",children:(0,m.jsx)(Nu,{onClick:()=>b(!0),children:(0,m.jsx)(Uk,{})})})]}),(0,m.jsx)(ul,{variant:"body1",gutterBottom:!0,children:"Sistema de reconocimiento facial autom\xe1tico para control de acceso en la entrada principal."}),(0,m.jsxs)(Hy,{container:!0,spacing:3,children:[(0,m.jsx)(Hy,{item:!0,xs:12,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"Control del Sistema"}),(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mb:3},children:[(0,m.jsx)(Qf,{variant:"contained",onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480,facingMode:"environment"}});r(t),e.current.srcObject=t}catch(t){console.error("Error accediendo a la c\xe1mara:",t),k("Error al acceder a la c\xe1mara de entrada","error")}},disabled:!!n,startIcon:(0,m.jsx)(Vk,{}),fullWidth:!0,children:"Activar C\xe1mara"}),(0,m.jsx)(Qf,{variant:"outlined",onClick:()=>{n&&(n.getTracks().forEach(e=>e.stop()),r(null)),S()},disabled:!n,startIcon:(0,m.jsx)(Hk,{}),fullWidth:!0,children:"Desactivar C\xe1mara"}),(0,m.jsx)(Qf,{variant:"contained",color:"secondary",onClick:()=>{i&&(a(!0),C())},disabled:!n||o,startIcon:(0,m.jsx)(wy,{}),fullWidth:!0,children:o?"Monitoreando...":"Iniciar Monitoreo"}),o&&(0,m.jsx)(Qf,{variant:"outlined",color:"secondary",onClick:S,fullWidth:!0,children:"Detener Monitoreo"})]}),(0,m.jsxs)(Hs,{sx:{mb:2},children:[(0,m.jsx)(ul,{variant:"subtitle2",gutterBottom:!0,children:"Estado del Sistema:"}),(0,m.jsxs)(Hs,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:[(0,m.jsx)(wg,{label:n?"C\xe1mara Activa":"C\xe1mara Inactiva",color:n?"success":"default",size:"small"}),(0,m.jsx)(wg,{label:o?"Monitoreando":"En Espera",color:o?"primary":"default",size:"small"})]})]}),d&&(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"subtitle2",gutterBottom:!0,children:"Estad\xedsticas:"}),(0,m.jsxs)(ul,{variant:"body2",children:["\u2022 Rostros registrados: ",d.total_rostros_registrados]}),(0,m.jsxs)(ul,{variant:"body2",children:["\u2022 Accesos hoy: ",d.accesos_hoy]}),(0,m.jsxs)(ul,{variant:"body2",children:["\u2022 Total accesos: ",d.total_accesos_registrados]})]})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,md:8,children:(0,m.jsxs)(Hy,{container:!0,spacing:3,children:[(0,m.jsx)(Hy,{item:!0,xs:12,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"C\xe1mara de Entrada/Principal"}),(0,m.jsx)("video",{ref:e,autoPlay:!0,muted:!0,style:{width:"100%",maxWidth:"100%",border:"3px solid #1976d2",borderRadius:"8px",background:"#000"}})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"\xdaltimo Evento de Acceso"}),l?(0,m.jsxs)(Qu,{severity:(e=>{switch(e){case"acceso_exitoso":return"success";case"acceso_denegado":return"warning";default:return"info"}})(l.tipo),icon:(e=>{switch(e){case"acceso_exitoso":return(0,m.jsx)(zk,{});case"acceso_denegado":return(0,m.jsx)(Wk,{});default:return(0,m.jsx)(wy,{})}})(l.tipo),children:[(0,m.jsx)(ul,{variant:"body1",fontWeight:"bold",children:l.mensaje}),l.usuario&&(0,m.jsxs)(ul,{variant:"body2",children:["Usuario: ",l.usuario.nombre]}),(0,m.jsxs)(ul,{variant:"body2",children:["Confianza: ",(100*l.confianza).toFixed(1),"%"]}),(0,m.jsxs)(ul,{variant:"body2",children:["Hora: ",l.timestamp.toLocaleTimeString()]})]}):(0,m.jsx)(Hs,{sx:{textAlign:"center",py:2},children:(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"Esperando detecci\xf3n de personas..."})})]})})})]})})]}),(0,m.jsxs)(XS,{open:y,onClose:()=>b(!1),maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:"Configuraci\xf3n del Sistema"}),(0,m.jsx)(rC,{children:(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"Configuraci\xf3n del sistema de reconocimiento facial autom\xe1tico."})}),(0,m.jsx)(sC,{children:(0,m.jsx)(Qf,{onClick:()=>b(!1),children:"Cerrar"})})]}),(0,m.jsx)(CC,{open:v.open,autoHideDuration:4e3,onClose:E,children:(0,m.jsx)(Qu,{onClose:E,severity:v.severity,children:v.message})})]})},gW=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(null);(0,t.useEffect)(()=>{a();const e=setInterval(a,3e4);return()=>clearInterval(e)},[]);const a=async()=>{try{const[e,t]=await Promise.all([Pk(),Lk({limit:10})]);o(e.data),n(t.data.results||t.data)}catch(e){console.error("Error cargando datos de monitoreo:",e)}},i=e=>{switch(e){case"exitoso":return"success";case"fallido":return"error";default:return"default"}},s=e=>{switch(e){case"entrada":return"primary";case"salida":return"secondary";default:return"default"}};return(0,m.jsxs)(Hs,{sx:{p:3},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Panel de Monitoreo en Tiempo Real"}),r&&(0,m.jsxs)(Hy,{container:!0,spacing:3,sx:{mb:3},children:[(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{color:"textSecondary",gutterBottom:!0,children:"Rostros Registrados"}),(0,m.jsx)(ul,{variant:"h4",children:r.total_rostros_registrados})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{color:"textSecondary",gutterBottom:!0,children:"Accesos Hoy"}),(0,m.jsx)(ul,{variant:"h4",children:r.accesos_hoy})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{color:"textSecondary",gutterBottom:!0,children:"Total Accesos"}),(0,m.jsx)(ul,{variant:"h4",children:r.total_accesos_registrados})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:3,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{color:"textSecondary",gutterBottom:!0,children:"\xdaltima Actualizaci\xf3n"}),(0,m.jsx)(ul,{variant:"h6",children:(new Date).toLocaleTimeString()})]})})})]}),(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"\xdaltimos Accesos Registrados"}),(0,m.jsx)(Ow,{component:Js,children:(0,m.jsxs)(Ww,{children:[(0,m.jsx)(Xw,{children:(0,m.jsxs)(tS,{children:[(0,m.jsx)(sS,{children:"Usuario"}),(0,m.jsx)(sS,{children:"Tipo"}),(0,m.jsx)(sS,{children:"Estado"}),(0,m.jsx)(sS,{children:"Confianza"}),(0,m.jsx)(sS,{children:"Fecha/Hora"})]})}),(0,m.jsx)(fS,{children:e.map(e=>(0,m.jsxs)(tS,{children:[(0,m.jsx)(sS,{children:e.usuario_info?"".concat(e.usuario_info.first_name," ").concat(e.usuario_info.last_name):"Desconocido"}),(0,m.jsx)(sS,{children:(0,m.jsx)(wg,{label:e.tipo_acceso,color:s(e.tipo_acceso),size:"small"})}),(0,m.jsx)(sS,{children:(0,m.jsx)(wg,{label:e.estado,color:i(e.estado),size:"small"})}),(0,m.jsx)(sS,{children:e.confianza?"".concat((100*e.confianza).toFixed(1),"%"):"N/A"}),(0,m.jsx)(sS,{children:new Date(e.timestamp).toLocaleString()})]},e.id))})]})})]})})]})},yW=()=>{const e=(0,t.useRef)(null),[n,r]=((0,t.useRef)(null),(0,t.useState)(null)),[o,a]=(0,t.useState)(!1),[i,s]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,p]=(0,t.useState)({open:!1,message:"",severity:"success"}),[f,h]=(0,t.useState)(!1),[v,g]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{const e=new fW;await e.loadModels(),c(e)})()},[]);const y=()=>{a(!1),s(null)},b=async()=>{if(o&&l)try{const t=hW(e.current),n=await l.getFaceEmbedding(t);if(n){const e=await Ok(n,.7);e.data.reconocido?(s(e.data),x(e.data)):s({reconocido:!1,confianza:0,mensaje:"Usuario no reconocido"})}o&&setTimeout(b,2e3)}catch(t){console.error("Error en reconocimiento:",t),o&&setTimeout(b,2e3)}},x=e=>{g(e),h(!0)},w=async t=>{if(v)try{const n=hW(e.current),r=mW(n);await Fk(v.usuario.id,t,v.confianza,r),S("Acceso de ".concat(t," registrado exitosamente"),"success"),h(!1),g(null)}catch(n){console.error("Error registrando acceso:",n),S("Error al registrar el acceso","error")}},S=function(e){p({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},C=()=>{p(u(u({},d),{},{open:!1}))};return(0,m.jsxs)(Hs,{sx:{p:3},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Reconocimiento Facial en Tiempo Real"}),(0,m.jsx)(ul,{variant:"body1",gutterBottom:!0,children:"Sistema de control de acceso mediante reconocimiento facial."}),(0,m.jsxs)(Hy,{container:!0,spacing:3,children:[(0,m.jsx)(Hy,{item:!0,xs:12,md:8,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"C\xe1mara de Reconocimiento"}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:1,mb:2},children:[(0,m.jsx)(Qf,{variant:"contained",onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});r(t),e.current.srcObject=t}catch(t){console.error("Error accediendo a la c\xe1mara:",t),S("Error al acceder a la c\xe1mara","error")}},disabled:!!n,startIcon:(0,m.jsx)(Vk,{}),children:"Iniciar C\xe1mara"}),(0,m.jsx)(Qf,{variant:"outlined",onClick:()=>{n&&(n.getTracks().forEach(e=>e.stop()),r(null)),y()},disabled:!n,startIcon:(0,m.jsx)(Hk,{}),children:"Detener C\xe1mara"}),(0,m.jsx)(Qf,{variant:"contained",color:"secondary",onClick:()=>{l&&(a(!0),b())},disabled:!n||o,startIcon:(0,m.jsx)(wy,{}),children:o?"Reconociendo...":"Iniciar Reconocimiento"}),o&&(0,m.jsx)(Qf,{variant:"outlined",color:"secondary",onClick:y,children:"Detener"})]}),(0,m.jsx)("video",{ref:e,autoPlay:!0,muted:!0,style:{width:"100%",maxWidth:"100%",border:"2px solid #ccc",borderRadius:"4px"}})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"Estado del Sistema"}),(0,m.jsxs)(Hs,{sx:{mb:2},children:[(0,m.jsx)(wg,{label:n?"C\xe1mara Activa":"C\xe1mara Inactiva",color:n?"success":"default",variant:"outlined",sx:{mb:1}}),(0,m.jsx)(wg,{label:o?"Reconociendo":"En Espera",color:o?"primary":"default",variant:"outlined",sx:{mb:1,ml:1}})]}),i&&(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"subtitle1",gutterBottom:!0,children:"\xdaltimo Reconocimiento:"}),i.reconocido?(0,m.jsxs)(Hs,{sx:{p:1,bgcolor:"success.light",borderRadius:1},children:[(0,m.jsx)(ul,{variant:"body2",color:"white",children:"\u2713 Usuario Reconocido"}),(0,m.jsxs)(ul,{variant:"body2",color:"white",children:[i.usuario.first_name," ",i.usuario.last_name]}),(0,m.jsxs)(ul,{variant:"body2",color:"white",children:["Confianza: ",(100*i.confianza).toFixed(1),"%"]})]}):(0,m.jsx)(Hs,{sx:{p:1,bgcolor:"error.light",borderRadius:1},children:(0,m.jsx)(ul,{variant:"body2",color:"white",children:"\u2717 Usuario No Reconocido"})})]})]})})})]}),(0,m.jsxs)(XS,{open:f,onClose:()=>h(!1),children:[(0,m.jsx)(ZS,{children:"Registrar Acceso"}),(0,m.jsx)(rC,{children:v&&v.reconocido&&(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(ul,{variant:"body1",gutterBottom:!0,children:["Usuario reconocido: ",(0,m.jsxs)("strong",{children:[v.usuario.first_name," ",v.usuario.last_name]})]}),(0,m.jsxs)(ul,{variant:"body2",gutterBottom:!0,children:["Confianza: ",(100*v.confianza).toFixed(1),"%"]}),(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"Seleccione el tipo de acceso:"})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:()=>h(!1),children:"Cancelar"}),(0,m.jsx)(Qf,{onClick:()=>w("entrada"),variant:"contained",color:"success",children:"Registrar Entrada"}),(0,m.jsx)(Qf,{onClick:()=>w("salida"),variant:"contained",color:"warning",children:"Registrar Salida"})]})]}),(0,m.jsx)(CC,{open:d.open,autoHideDuration:6e3,onClose:C,children:(0,m.jsx)(Qu,{onClose:C,severity:d.severity,children:d.message})})]})},bW=Lu((0,m.jsx)("path",{d:"m9.4 10.5 4.77-8.26C13.47 2.09 12.75 2 12 2c-2.4 0-4.6.85-6.32 2.25l3.66 6.35zM21.54 9c-.92-2.92-3.15-5.26-6-6.34L11.88 9zm.26 1h-7.49l.29.5 4.76 8.25C21 16.97 22 14.61 22 12c0-.69-.07-1.35-.2-2M8.54 12l-3.9-6.75C3.01 7.03 2 9.39 2 12c0 .69.07 1.35.2 2h7.49zm-6.08 3c.92 2.92 3.15 5.26 6 6.34L12.12 15zm11.27 0-3.9 6.76c.7.15 1.42.24 2.17.24 2.4 0 4.6-.85 6.32-2.25l-3.66-6.35z"})),xW=Lu((0,m.jsx)("path",{d:"M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8"})),wW=Lu((0,m.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"})),SW=()=>Iv.get("/users/"),CW=e=>Iv.post("/users/",e),kW=(e,t)=>Iv.put("/users/".concat(e,"/"),t),EW=e=>Iv.delete("/users/".concat(e,"/")),RW=()=>{const e=(0,t.useRef)(null),[n,r]=((0,t.useRef)(null),(0,t.useState)(null)),[o,a]=(0,t.useState)([]),[i,s]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[d,p]=(0,t.useState)(null),[f,h]=(0,t.useState)(!1),[v,g]=(0,t.useState)({open:!1,message:"",severity:"success"}),[y,b]=(0,t.useState)(null),{tienePrivilegio:x}=DC();(0,t.useEffect)(()=>{(async()=>{const e=new fW;await e.loadModels(),b(e)})(),w()},[]);const w=async()=>{try{const e=await SW();a(e.data)}catch(e){console.error("Error cargando usuarios:",e)}},S=()=>{c(null),p(null)},C=function(e){g({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},k=()=>{g(u(u({},v),{},{open:!1}))};return(0,m.jsxs)(Hs,{sx:{p:3},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Registro de Rostros"}),(0,m.jsx)(ul,{variant:"body1",gutterBottom:!0,children:"Registre los rostros de los usuarios para el sistema de reconocimiento facial."}),(0,m.jsxs)(Hy,{container:!0,spacing:3,children:[(0,m.jsx)(Hy,{item:!0,xs:12,md:6,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"C\xe1mara"}),(0,m.jsx)(Hs,{sx:{mb:2},children:(0,m.jsxs)(fd,{fullWidth:!0,children:[(0,m.jsx)(id,{children:"Seleccionar Usuario"}),(0,m.jsx)(Nf,{value:i,onChange:e=>s(e.target.value),label:"Seleccionar Usuario",children:o.map(e=>(0,m.jsxs)($g,{value:e.id,children:[e.first_name," ",e.last_name," - ",e.ci]},e.id))})]})}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:1,mb:2},children:[(0,m.jsx)(Qf,{variant:"contained",onClick:async()=>{try{const t=await navigator.mediaDevices.getUserMedia({video:{width:640,height:480}});r(t),e.current.srcObject=t}catch(t){console.error("Error accediendo a la c\xe1mara:",t),C("Error al acceder a la c\xe1mara","error")}},disabled:!!n,startIcon:(0,m.jsx)(bW,{}),children:"Iniciar C\xe1mara"}),(0,m.jsx)(Qf,{variant:"outlined",onClick:()=>{n&&(n.getTracks().forEach(e=>e.stop()),r(null))},disabled:!n,children:"Detener C\xe1mara"})]}),(0,m.jsx)("video",{ref:e,autoPlay:!0,muted:!0,style:{width:"100%",maxWidth:"100%",border:"2px solid #ccc",borderRadius:"4px",display:n?"block":"none"}}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:1,mt:2},children:[(0,m.jsx)(Qf,{variant:"contained",color:"secondary",onClick:async()=>{if(y&&i){h(!0);try{const t=hW(e.current),n=await y.getFaceEmbedding(t);n?(c(n),p(mW(t)),C("Rostro capturado correctamente","success")):C("No se detect\xf3 ning\xfan rostro","error")}catch(t){console.error("Error capturando rostro:",t),C("Error al procesar el rostro","error")}h(!1)}},disabled:!n||f||!i,startIcon:f?(0,m.jsx)(Eu,{size:20}):(0,m.jsx)(bW,{}),children:f?"Procesando...":"Capturar Rostro"}),l&&(0,m.jsx)(Qf,{variant:"outlined",onClick:S,startIcon:(0,m.jsx)(xW,{}),children:"Recapturar"})]})]})})}),(0,m.jsx)(Hy,{item:!0,xs:12,md:6,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:"Vista Previa y Registro"}),d?(0,m.jsxs)(Hs,{children:[(0,m.jsx)("img",{src:d,alt:"Rostro capturado",style:{width:"100%",maxWidth:"300px",border:"2px solid #4caf50",borderRadius:"4px"}}),(0,m.jsx)(ul,{variant:"body2",sx:{mt:1,color:"success.main"},children:"\u2713 Rostro detectado correctamente"}),(0,m.jsx)(Qf,{variant:"contained",onClick:async()=>{if(l&&i){h(!0);try{await Mk(i,l,d),C("Rostro registrado exitosamente","success"),S()}catch(e){console.error("Error registrando rostro:",e),C("Error al registrar el rostro","error")}h(!1)}},disabled:f,startIcon:f?(0,m.jsx)(Eu,{size:20}):(0,m.jsx)(wW,{}),sx:{mt:2},fullWidth:!0,children:f?"Registrando...":"Registrar Rostro"})]}):(0,m.jsx)(Hs,{sx:{textAlign:"center",py:4},children:(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"Capture un rostro para ver la vista previa"})})]})})})]}),(0,m.jsx)(CC,{open:v.open,autoHideDuration:6e3,onClose:k,children:(0,m.jsx)(Qu,{onClose:k,severity:v.severity,children:v.message})})]})},_W=()=>Iv.get("/roles/"),IW=e=>Iv.post("/roles/",e),TW=(e,t)=>Iv.put("/roles/".concat(e,"/"),t),AW=e=>Iv.delete("/roles/".concat(e,"/")),PW=e=>Iv.get("/roles/".concat(e,"/privilegios/")),NW=(e,t)=>Iv.post("/roles/".concat(e,"/privilegios/"),{privilegio_id:t}),MW=(e,t)=>Iv.delete("/roles/".concat(e,"/privilegios/").concat(t,"/")),OW=()=>{var e;const[n,r]=(0,t.useState)([]),[o,a]=(0,t.useState)([]),[i,s]=(0,t.useState)({}),[l,c]=(0,t.useState)(!1),[d,p]=(0,t.useState)(!1),[f,h]=(0,t.useState)(null),[v,g]=(0,t.useState)(null),[y,b]=(0,t.useState)({nombre:"",descripcion:""}),[x,w]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:S}=DC(),C=(0,t.useCallback)(function(e){w({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),k=(0,t.useCallback)(async()=>{try{const e=await _W();r(e.data)}catch(e){console.error("Error loading roles:",e),C("Error al cargar roles","error")}},[C]),E=(0,t.useCallback)(async()=>{try{const e=await Ek();a(e.data)}catch(e){console.error("Error loading privileges:",e),C("Error al cargar privilegios","error")}},[C]),R=(0,t.useCallback)(async e=>{try{const t=await PW(e);s(n=>u(u({},n),{},{[e]:t.data}))}catch(t){console.error("Error loading role privileges:",t)}},[]);(0,t.useEffect)(()=>{k(),E()},[k,E]);const _=()=>{w(u(u({},x),{},{open:!1}))},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(h(e),b({nombre:e.nombre,descripcion:e.descripcion||""})):(h(null),b({nombre:"",descripcion:""})),c(!0)},T=()=>{c(!1)},A=()=>{p(!1),g(null)},P=e=>{b(u(u({},y),{},{[e.target.name]:e.target.value}))},N=e=>!(!v||!i[v.id])&&i[v.id].some(t=>t.id===e);return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Roles"}),S("roles.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>I(),children:"Nuevo Rol"})]}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:n.map(e=>(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsxs)(Jy,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsx)(ul,{variant:"h6",gutterBottom:!0,children:e.nombre}),(0,m.jsx)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:e.descripcion||"Sin descripci\xf3n"})]}),(0,m.jsxs)(Hs,{children:[S("roles.edit")&&(0,m.jsx)(Nu,{size:"small",color:"primary",onClick:()=>I(e),children:(0,m.jsx)(EC,{})}),S("roles.delete")&&(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar este rol?"))try{await AW(e),C("Rol eliminado correctamente"),k()}catch(t){console.error("Error deleting role:",t),C("Error al eliminar rol","error")}})(e.id),children:(0,m.jsx)(RC,{})})]})]}),S("roles.edit")&&(0,m.jsx)(Qf,{variant:"outlined",size:"small",startIcon:(0,m.jsx)(wy,{}),onClick:()=>(e=>{S("roles.edit")&&(g(e),i[e.id]||R(e.id),p(!0))})(e),sx:{mt:1},children:"Gestionar Privilegios"})]})})},e.id))}),S("roles.create")||S("roles.edit")?(0,m.jsxs)(XS,{open:l,onClose:T,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:f?"Editar Rol":"Crear Rol"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f?(await TW(f.id,y),C("Rol actualizado correctamente")):(await IW(y),C("Rol creado correctamente")),k(),T()}catch(t){console.error("Error saving role:",t),C("Error al guardar rol","error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,m.jsx)(Lf,{label:"Nombre",name:"nombre",value:y.nombre,onChange:P,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Descripci\xf3n",name:"descripcion",value:y.descripcion,onChange:P,multiline:!0,rows:3,fullWidth:!0})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:T,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:f?"Actualizar":"Crear"})]})]})]}):null,(0,m.jsxs)(XS,{open:d,onClose:A,maxWidth:"md",fullWidth:!0,children:[(0,m.jsxs)(ZS,{children:["Privilegios del Rol: ",null===v||void 0===v?void 0:v.nombre]}),(0,m.jsxs)(rC,{children:[(0,m.jsx)(ul,{variant:"subtitle1",gutterBottom:!0,children:"Privilegios asignados:"}),(0,m.jsxs)(Hs,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:[v&&(null===(e=i[v.id])||void 0===e?void 0:e.map(e=>(0,m.jsx)(wg,{label:e.nombre,onDelete:()=>(async e=>{try{await MW(v.id,e),C("Privilegio removido correctamente"),R(v.id)}catch(t){console.error("Error removing privilege:",t),C("Error al remover privilegio","error")}})(e.id),color:"primary",variant:"outlined"},e.id))),v&&(!i[v.id]||0===i[v.id].length)&&(0,m.jsx)(ul,{variant:"body2",color:"textSecondary",children:"No hay privilegios asignados"})]}),(0,m.jsx)(ul,{variant:"subtitle1",gutterBottom:!0,children:"Todos los privilegios disponibles:"}),(0,m.jsx)(Hs,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:o.map(e=>(0,m.jsx)(wg,{label:e.nombre,onClick:()=>(async e=>{try{await NW(v.id,e),C("Privilegio asignado correctamente"),R(v.id)}catch(t){console.error("Error assigning privilege:",t),C("Error al asignar privilegio","error")}})(e.id),color:N(e.id)?"primary":"default",variant:N(e.id)?"filled":"outlined",disabled:N(e.id)},e.id))})]}),(0,m.jsx)(sC,{children:(0,m.jsx)(Qf,{onClick:A,children:"Cerrar"})})]}),(0,m.jsx)(CC,{open:x.open,autoHideDuration:6e3,onClose:_,children:(0,m.jsx)(Qu,{onClose:_,severity:x.severity,children:x.message})})]})},DW=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!1),[a,i]=(0,t.useState)(null),[s,l]=(0,t.useState)({numero:"",piso:"",torre:"",metraje:""}),[c,d]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:p}=DC(),f=(0,t.useCallback)(function(e){d({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),h=(0,t.useCallback)(async()=>{try{const e=await PC();n(e.data)}catch(e){console.error("Error loading unidades:",e),f("Error al cargar unidades habitacionales","error")}},[f]);(0,t.useEffect)(()=>{h()},[h]);const v=()=>{d(u(u({},c),{},{open:!1}))},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(i(e),l({numero:e.numero,piso:e.piso||"",torre:e.torre||"",metraje:e.metraje})):(i(null),l({numero:"",piso:"",torre:"",metraje:""})),o(!0)},y=()=>{o(!1)},b=e=>{l(u(u({},s),{},{[e.target.name]:e.target.value}))};return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Unidades Habitacionales"}),p("units.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>g(),children:"Nueva Unidad"})]}),(0,m.jsx)(Hy,{container:!0,spacing:3,children:e.map(e=>(0,m.jsx)(Hy,{item:!0,xs:12,sm:6,md:4,children:(0,m.jsx)(Xy,{children:(0,m.jsx)(Jy,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(ul,{variant:"h6",gutterBottom:!0,children:["Unidad: ",e.numero]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",gutterBottom:!0,children:["Torre: ",e.torre||"N/A"," - Piso: ",e.piso||"N/A"]}),(0,m.jsxs)(ul,{variant:"body2",color:"textSecondary",children:["Metraje: ",e.metraje," m\xb2"]})]}),(0,m.jsxs)(Hs,{children:[p("units.edit")&&(0,m.jsx)(Nu,{size:"small",color:"primary",onClick:()=>g(e),children:(0,m.jsx)(EC,{})}),p("units.delete")&&(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar esta unidad?"))try{await OC(e),f("Unidad eliminada correctamente"),h()}catch(t){console.error("Error deleting unidad:",t),f("Error al eliminar unidad","error")}})(e.id),children:(0,m.jsx)(RC,{})})]})]})})})},e.id))}),p("units.create")||p("units.edit")?(0,m.jsxs)(XS,{open:r,onClose:y,maxWidth:"sm",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:a?"Editar Unidad":"Crear Unidad"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{a?(await MC(a.id,s),f("Unidad actualizada correctamente")):(await NC(s),f("Unidad creada correctamente")),h(),y()}catch(t){console.error("Error saving unidad:",t),f("Error al guardar unidad","error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,m.jsx)(Lf,{label:"N\xfamero",name:"numero",value:s.numero,onChange:b,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Torre",name:"torre",value:s.torre,onChange:b,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Piso",name:"piso",value:s.piso,onChange:b,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Metraje (m\xb2)",name:"metraje",type:"number",value:s.metraje,onChange:b,required:!0,fullWidth:!0,inputProps:{step:"0.01"}})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:y,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:a?"Actualizar":"Crear"})]})]})]}):null,(0,m.jsx)(CC,{open:c.open,autoHideDuration:6e3,onClose:v,children:(0,m.jsx)(Qu,{onClose:v,severity:c.severity,children:c.message})})]})},jW=()=>{const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[s,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[p,f]=(0,t.useState)({username:"",email:"",first_name:"",last_name:"",ci:"",telefono:"",rol:"",unidad_habitacional:"",password:""}),[h,v]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:g}=DC(),y=(0,t.useCallback)(function(e){v({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),b=(0,t.useCallback)(async()=>{try{const e=await SW();n(e.data)}catch(e){console.error("Error loading users:",e),y("Error al cargar usuarios","error")}},[y]),x=(0,t.useCallback)(async()=>{try{const e=await PC();o(e.data)}catch(e){console.error("Error loading unidades:",e)}},[]),w=(0,t.useCallback)(async()=>{try{const e=await _W();i(e.data)}catch(e){console.error("Error loading roles:",e)}},[]);(0,t.useEffect)(()=>{b(),x(),w()},[b,x,w]);const S=()=>{v(u(u({},h),{},{open:!1}))},C=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;var t;e?(d(e),f({username:e.username,email:e.email,first_name:e.first_name,last_name:e.last_name,ci:e.ci,telefono:e.telefono,rol:e.rol,unidad_habitacional:(null===(t=e.unidad_habitacional)||void 0===t?void 0:t.id)||"",password:""})):(d(null),f({username:"",email:"",first_name:"",last_name:"",ci:"",telefono:"",rol:"",unidad_habitacional:"",password:""}));l(!0)},k=()=>{l(!1)},E=e=>{f(u(u({},p),{},{[e.target.name]:e.target.value}))};return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,children:"Gesti\xf3n de Usuarios"}),g("users.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>C(),children:"Nuevo Usuario"})]}),(0,m.jsx)(Hs,{children:e.map(e=>{var t;return(0,m.jsxs)(Hs,{sx:{p:2,border:"1px solid #ccc",mb:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(ul,{variant:"h6",children:[e.first_name," ",e.last_name]}),(0,m.jsx)(ul,{variant:"body2",children:e.email}),(0,m.jsx)(ul,{variant:"body2",children:(null===(t=e.rol_info)||void 0===t?void 0:t.nombre)||"Sin rol"})]}),(0,m.jsxs)(Hs,{children:[g("users.edit")&&(0,m.jsx)(Nu,{color:"primary",onClick:()=>C(e),children:(0,m.jsx)(EC,{})}),g("users.delete")&&(0,m.jsx)(Nu,{color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1 seguro de que desea eliminar este usuario?"))try{await EW(e),y("Usuario eliminado correctamente"),b()}catch(t){console.error("Error deleting user:",t),y("Error al eliminar usuario","error")}})(e.id),children:(0,m.jsx)(RC,{})})]})]},e.id)})}),g("users.create")||g("users.edit")?(0,m.jsxs)(XS,{open:s,onClose:k,maxWidth:"md",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:c?"Editar Usuario":"Crear Usuario"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{c?(await kW(c.id,p),y("Usuario actualizado correctamente")):(await CW(p),y("Usuario creado correctamente")),b(),k()}catch(t){console.error("Error saving user:",t),y("Error al guardar usuario","error")}},children:[(0,m.jsx)(rC,{children:(0,m.jsxs)(Hs,{sx:{display:"flex",flexDirection:"column",gap:2,mt:1},children:[(0,m.jsx)(Lf,{label:"Username",name:"username",value:p.username,onChange:E,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Email",name:"email",type:"email",value:p.email,onChange:E,required:!0,fullWidth:!0}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:2},children:[(0,m.jsx)(Lf,{label:"Nombre",name:"first_name",value:p.first_name,onChange:E,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Apellido",name:"last_name",value:p.last_name,onChange:E,required:!0,fullWidth:!0})]}),(0,m.jsxs)(Hs,{sx:{display:"flex",gap:2},children:[(0,m.jsx)(Lf,{label:"CI",name:"ci",value:p.ci,onChange:E,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{label:"Tel\xe9fono",name:"telefono",value:p.telefono,onChange:E,required:!0,fullWidth:!0})]}),(0,m.jsx)(Lf,{label:"Unidad Habitacional",name:"unidad_habitacional",value:p.unidad_habitacional,onChange:E,select:!0,required:!0,fullWidth:!0,children:r.map(e=>(0,m.jsxs)($g,{value:e.id,children:[e.torre," - ",e.piso," - ",e.numero]},e.id))}),(0,m.jsx)(Lf,{label:"Rol",name:"rol",value:p.rol,onChange:E,select:!0,required:!0,fullWidth:!0,children:a.map(e=>(0,m.jsx)($g,{value:e.id,children:e.nombre},e.id))}),(0,m.jsx)(Lf,{label:"Contrase\xf1a",name:"password",type:"password",value:p.password,onChange:E,required:!c,fullWidth:!0})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:k,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:c?"Actualizar":"Crear"})]})]})]}):null,(0,m.jsx)(CC,{open:h.open,autoHideDuration:6e3,onClose:S,children:(0,m.jsx)(Qu,{onClose:S,severity:h.severity,children:h.message})})]})},FW={list:()=>Iv.get("/areas/"),get:e=>Iv.get("/areas/".concat(e,"/")),create:e=>Iv.post("/areas/",e),update:(e,t)=>Iv.put("/areas/".concat(e,"/"),t),remove:e=>Iv.delete("/areas/".concat(e,"/"))},LW=FW;function BW(){const e=Qa(),{id:n}=Ja(),r=Boolean(n),[o,a]=(0,t.useState)({nombre:"",descripcion:"",aforo_max:1,requiere_aprobacion:!1,hora_apertura:"",hora_cierre:"",max_duracion_min:180,buffer_min:0,activo:!0});(0,t.useEffect)(()=>{r&&LW.get(n).then(e=>{let{data:t}=e;return a(u(u({},t),{},{hora_apertura:t.hora_apertura||"",hora_cierre:t.hora_cierre||""}))})},[n]);return(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("h2",{children:r?"Editar \xc1rea":"Nueva \xc1rea"}),(0,m.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const a=u({},o);""===a.hora_apertura&&(a.hora_apertura=null),""===a.hora_cierre&&(a.hora_cierre=null),r?await LW.update(n,a):await LW.create(a),e("/areas")},style:{display:"grid",gap:12,maxWidth:720},children:[(0,m.jsx)("input",{required:!0,placeholder:"Nombre",value:o.nombre,onChange:e=>a(u(u({},o),{},{nombre:e.target.value}))}),(0,m.jsx)("textarea",{placeholder:"Descripci\xf3n",value:o.descripcion,onChange:e=>a(u(u({},o),{},{descripcion:e.target.value}))}),(0,m.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,m.jsxs)("label",{children:["Aforo",(0,m.jsx)("input",{type:"number",min:1,value:o.aforo_max,onChange:e=>a(u(u({},o),{},{aforo_max:+e.target.value}))})]}),(0,m.jsxs)("label",{children:["Requiere aprobaci\xf3n",(0,m.jsx)("input",{type:"checkbox",checked:o.requiere_aprobacion,onChange:e=>a(u(u({},o),{},{requiere_aprobacion:e.target.checked}))})]})]}),(0,m.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,m.jsxs)("label",{children:["Hora apertura",(0,m.jsx)("input",{type:"time",value:o.hora_apertura||"",onChange:e=>a(u(u({},o),{},{hora_apertura:e.target.value}))})]}),(0,m.jsxs)("label",{children:["Hora cierre",(0,m.jsx)("input",{type:"time",value:o.hora_cierre||"",onChange:e=>a(u(u({},o),{},{hora_cierre:e.target.value}))})]})]}),(0,m.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[(0,m.jsxs)("label",{children:["Max duraci\xf3n (min)",(0,m.jsx)("input",{type:"number",min:1,value:o.max_duracion_min,onChange:e=>a(u(u({},o),{},{max_duracion_min:+e.target.value}))})]}),(0,m.jsxs)("label",{children:["Buffer (min)",(0,m.jsx)("input",{type:"number",min:0,value:o.buffer_min,onChange:e=>a(u(u({},o),{},{buffer_min:+e.target.value}))})]})]}),(0,m.jsxs)("label",{children:["Activa",(0,m.jsx)("input",{type:"checkbox",checked:o.activo,onChange:e=>a(u(u({},o),{},{activo:e.target.checked}))})]}),(0,m.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Guardar"}),(0,m.jsx)("button",{type:"button",className:"btn",onClick:()=>e("/areas"),children:"Cancelar"})]})]})]})}const zW=Lu((0,m.jsx)("path",{d:"M19 4h-3.5l-1-1h-5l-1 1H5v2h14zM6 7v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7zm8 7v4h-4v-4H8l4-4 4 4z"}));function WW(e){return ds("MuiFormControlLabel",e)}const UW=zs("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),VW=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slots","slotProps","value"],HW=js("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat(UW.label)]:t.label},t.root,t["labelPlacement".concat(Ms(n.labelPlacement))]]}})(Ks(e=>{let{theme:t}=e;return{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(UW.disabled)]:{cursor:"default"},["& .".concat(UW.label)]:{["&.".concat(UW.disabled)]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:e=>{let{labelPlacement:t}=e;return"start"===t||"top"===t||"bottom"===t},style:{marginLeft:16}}]}})),qW=js("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(Ks(e=>{let{theme:t}=e;return{["&.".concat(UW.error)]:{color:(t.vars||t).palette.error.main}}})),GW=t.forwardRef(function(e,n){var r;const o=Bo({props:e,name:"MuiFormControlLabel"}),{checked:a,className:i,componentsProps:s={},control:l,disabled:c,disableTypography:p,inputRef:f,label:h,labelPlacement:v="end",name:g,onChange:y,required:b,slots:x={},slotProps:w={},value:S}=o,C=d(o,VW),k=uc(),E=null!==(r=null!==c&&void 0!==c?c:l.props.disabled)&&void 0!==r?r:null===k||void 0===k?void 0:k.disabled,R=null!==b&&void 0!==b?b:l.props.required,_={disabled:E,required:R};["checked","name","onChange","value","inputRef"].forEach(e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof o[e]&&(_[e]=o[e])});const I=sc({props:o,muiFormControl:k,states:["error"]}),T=u(u({},o),{},{disabled:E,labelPlacement:v,required:R,error:I.error}),A=(e=>{const{classes:t,disabled:n,labelPlacement:r,error:o,required:a}=e;return ps({root:["root",n&&"disabled","labelPlacement".concat(Ms(r)),o&&"error",a&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},WW,t)})(T),P={slots:x,slotProps:u(u({},s),w)},[N,M]=xl("typography",{elementType:ul,externalForwardedProps:P,ownerState:T});let O=h;return null==O||O.type===ul||p||(O=(0,m.jsx)(N,u(u({component:"span"},M),{},{className:Qe(A.label,null===M||void 0===M?void 0:M.className),children:O}))),(0,m.jsxs)(HW,u(u({className:Qe(A.root,i),ownerState:T,ref:n},C),{},{children:[t.cloneElement(l,_),R?(0,m.jsxs)("div",{children:[O,(0,m.jsxs)(qW,{ownerState:T,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):O]}))});function KW(e){return ds("PrivateSwitchBase",e)}zs("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const XW=["autoFocus","checked","checkedIcon","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value","slots","slotProps"],$W=js(uu,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"start"===t&&"small"!==n.size},style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:e=>{let{edge:t,ownerState:n}=e;return"end"===t&&"small"!==n.size},style:{marginRight:-12}}]}),YW=js("input",{name:"MuiSwitchBase",shouldForwardProp:Ds})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),QW=t.forwardRef(function(e,t){const{autoFocus:n,checked:r,checkedIcon:o,defaultChecked:a,disabled:i,disableFocusRipple:s=!1,edge:l=!1,icon:c,id:p,inputProps:f,inputRef:h,name:v,onBlur:g,onChange:y,onFocus:b,readOnly:x,required:w=!1,tabIndex:S,type:C,value:k,slots:E={},slotProps:R={}}=e,_=d(e,XW),[I,T]=pf({controlled:r,default:Boolean(a),name:"SwitchBase",state:"checked"}),A=uc();let P=i;A&&"undefined"===typeof P&&(P=A.disabled);const N="checkbox"===C||"radio"===C,M=u(u({},e),{},{checked:I,disabled:P,disableFocusRipple:s,edge:l}),O=(e=>{const{classes:t,checked:n,disabled:r,edge:o}=e;return ps({root:["root",n&&"checked",r&&"disabled",o&&"edge".concat(Ms(o))],input:["input"]},KW,t)})(M),D={slots:E,slotProps:u({input:f},R)},[j,F]=xl("root",{ref:t,elementType:$W,className:O.root,shouldForwardComponentProp:!0,externalForwardedProps:u(u({},D),{},{component:"span"},_),getSlotProps:e=>u(u({},e),{},{onFocus:t=>{var n;null===(n=e.onFocus)||void 0===n||n.call(e,t),(e=>{b&&b(e),A&&A.onFocus&&A.onFocus(e)})(t)},onBlur:t=>{var n;null===(n=e.onBlur)||void 0===n||n.call(e,t),(e=>{g&&g(e),A&&A.onBlur&&A.onBlur(e)})(t)}}),ownerState:M,additionalProps:{centerRipple:!0,focusRipple:!s,disabled:P,role:void 0,tabIndex:null}}),[L,B]=xl("input",{ref:h,elementType:YW,className:O.input,externalForwardedProps:D,getSlotProps:e=>u(u({},e),{},{onChange:t=>{var n;null===(n=e.onChange)||void 0===n||n.call(e,t),(e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;T(t),y&&y(e,t)})(t)}}),ownerState:M,additionalProps:u({autoFocus:n,checked:r,defaultChecked:a,disabled:P,id:N?p:void 0,name:v,readOnly:x,required:w,tabIndex:S,type:C},"checkbox"===C&&void 0===k?{}:{value:k})});return(0,m.jsxs)(j,u(u({},F),{},{children:[(0,m.jsx)(L,u({},B)),I?o:c]}))}),JW=QW,ZW=Lu((0,m.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})),eU=Lu((0,m.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})),tU=Lu((0,m.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}));function nU(e){return ds("MuiCheckbox",e)}const rU=zs("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),oU=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","disableRipple","className","slots","slotProps"],aU=js(JW,{shouldForwardProp:e=>Ds(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat(Ms(n.size))],"default"!==n.color&&t["color".concat(Ms(n.color))]]}})(Ks(e=>{let{theme:t}=e;return{color:(t.vars||t).palette.text.secondary,variants:[{props:{color:"default",disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity)}}},...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n,disableRipple:!1},style:{"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[n].main,(t.vars||t).palette.action.hoverOpacity)}}}}),...Object.entries(t.palette).filter(Zs()).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(rU.checked,", &.").concat(rU.indeterminate)]:{color:(t.vars||t).palette[n].main},["&.".concat(rU.disabled)]:{color:(t.vars||t).palette.action.disabled}}}}),{props:{disableRipple:!1},style:{"&:hover":{"@media (hover: none)":{backgroundColor:"transparent"}}}}]}})),iU=(0,m.jsx)(eU,{}),sU=(0,m.jsx)(ZW,{}),lU=(0,m.jsx)(tU,{}),uU=t.forwardRef(function(e,n){var r,o,a;const i=Bo({props:e,name:"MuiCheckbox"}),{checkedIcon:s=iU,color:l="primary",icon:c=sU,indeterminate:p=!1,indeterminateIcon:f=lU,inputProps:h,size:v="medium",disableRipple:g=!1,className:y,slots:b={},slotProps:x={}}=i,w=d(i,oU),S=p?f:c,C=p?f:s,k=u(u({},i),{},{disableRipple:g,color:l,indeterminate:p,size:v}),E=(e=>{const{classes:t,indeterminate:n,color:r,size:o}=e,a=ps({root:["root",n&&"indeterminate","color".concat(Ms(r)),"size".concat(Ms(o))]},nU,t);return u(u({},t),a)})(k),R=null!==(r=x.input)&&void 0!==r?r:h,[_,I]=xl("root",{ref:n,elementType:aU,className:Qe(E.root,y),shouldForwardComponentProp:!0,externalForwardedProps:u({slots:b,slotProps:x},w),ownerState:k,additionalProps:{type:"checkbox",icon:t.cloneElement(S,{fontSize:null!==(o=S.props.fontSize)&&void 0!==o?o:v}),checkedIcon:t.cloneElement(C,{fontSize:null!==(a=C.props.fontSize)&&void 0!==a?a:v}),disableRipple:g,slots:b,slotProps:{input:jp("function"===typeof R?R(k):R,{"data-indeterminate":p})}}});return(0,m.jsx)(_,u(u({},I),{},{classes:E}))}),cU=uU,dU=null!==DC&&void 0!==DC?DC:()=>({tienePrivilegio:()=>!0}),pU={nombre:"",descripcion:"",aforo_max:1,requiere_aprobacion:!1,hora_apertura:"",hora_cierre:"",max_duracion_min:180,buffer_min:0,activo:!0},fU=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return e?e.length>t?e.slice(0,t)+"\u2026":e:"\u2014"};function hU(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!0),[a,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(pU),[p,f]=(0,t.useState)({}),[h,v]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:g}=dU(),y=(0,t.useCallback)(function(e){v({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),b=(0,t.useCallback)(async()=>{try{o(!0);const{data:e}=await LW.list();n(e)}catch(Gk){console.error(Gk),y("Error al cargar \xe1reas","error")}finally{o(!1)}},[y]);(0,t.useEffect)(()=>{b()},[b]);const x=()=>v(u(u({},h),{},{open:!1})),w=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),d(u(u({},e),{},{hora_apertura:e.hora_apertura||"",hora_cierre:e.hora_cierre||""}))):(l(null),d(pU)),f({}),i(!0)},S=()=>i(!1),C=e=>""===e?null:e;return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,flexWrap:"wrap",gap:1},children:[(0,m.jsx)(ul,{variant:"h4",gutterBottom:!0,sx:{m:0},children:"Operaciones & Notificaciones - Gesti\xf3n de \xc1reas Comunes"}),g("areas.create")&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>w(),children:"Nueva \xc1rea"})]}),(0,m.jsx)(Hs,{sx:{overflowX:"auto"},children:(0,m.jsxs)(Ww,{size:"medium",children:[(0,m.jsx)(Xw,{children:(0,m.jsxs)(tS,{children:[(0,m.jsx)(sS,{children:"Nombre"}),(0,m.jsx)(sS,{children:"Descripci\xf3n"}),(0,m.jsx)(sS,{children:"Max Personas"}),(0,m.jsx)(sS,{children:"Horario"}),(0,m.jsx)(sS,{children:"Tiempo de Reserva (min)"}),(0,m.jsx)(sS,{children:"Tiempo de Transici\xf3n (min)"}),(0,m.jsx)(sS,{children:"Aprobaci\xf3n"}),(0,m.jsx)(sS,{children:"Activa"}),(0,m.jsx)(sS,{align:"right",children:"Acciones"})]})}),(0,m.jsxs)(fS,{children:[!r&&0===e.length&&(0,m.jsx)(tS,{children:(0,m.jsx)(sS,{colSpan:9,align:"center",children:"A\xfan no hay \xe1reas creadas."})}),e.map(e=>(0,m.jsxs)(tS,{hover:!0,children:[(0,m.jsx)(sS,{children:e.nombre}),(0,m.jsx)(sS,{children:(0,m.jsx)(mw,{title:e.descripcion||"\u2014",placement:"top",arrow:!0,children:(0,m.jsx)(ul,{variant:"body2",noWrap:!0,sx:{maxWidth:360},children:fU(e.descripcion,60)})})}),(0,m.jsx)(sS,{children:e.aforo_max}),(0,m.jsx)(sS,{children:(e.hora_apertura||"-")+" - "+(e.hora_cierre||"-")}),(0,m.jsx)(sS,{children:e.max_duracion_min}),(0,m.jsx)(sS,{children:e.buffer_min}),(0,m.jsx)(sS,{children:e.requiere_aprobacion?"S\xed":"No"}),(0,m.jsx)(sS,{children:e.activo?"S\xed":"No"}),(0,m.jsxs)(sS,{align:"right",children:[g("areas.edit")&&(0,m.jsx)(mw,{title:"Editar",children:(0,m.jsx)(Nu,{color:"primary",onClick:()=>w(e),children:(0,m.jsx)(EC,{})})}),g("areas.delete")&&(0,m.jsx)(mw,{title:e.activo?"Desactivar (baja l\xf3gica)":"Activar",children:(0,m.jsx)(Nu,{color:e.activo?"error":"success",onClick:()=>(async e=>{try{await LW.update(e.id,u(u({},e),{},{activo:!e.activo})),y(e.activo?"\xc1rea desactivada":"\xc1rea activada"),await b()}catch(t){console.error(t),y("No se pudo cambiar el estado del \xe1rea","error")}})(e),children:e.activo?(0,m.jsx)(RC,{}):(0,m.jsx)(zW,{})})})]})]},e.id))]})]})}),(0,m.jsxs)(XS,{open:a,onClose:S,maxWidth:"md",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:s?"Editar \xc1rea":"Crear \xc1rea"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();const t=u(u({},c),{},{hora_apertura:C(c.hora_apertura),hora_cierre:C(c.hora_cierre)}),n=(e=>{var t,n,r,o;const a={};return null!==(t=e.nombre)&&void 0!==t&&t.trim()||(a.nombre="El nombre es obligatorio"),(null!==(n=e.aforo_max)&&void 0!==n?n:0)<1&&(a.aforo_max="Aforo m\xednimo 1"),(null!==(r=e.max_duracion_min)&&void 0!==r?r:0)<1&&(a.max_duracion_min="Duraci\xf3n m\xednima 1"),(null!==(o=e.buffer_min)&&void 0!==o?o:0)<0&&(a.buffer_min="No puede ser negativo"),a})(t);if(f(n),!Object.keys(n).length)try{s?(await LW.update(s.id,t),y("\xc1rea actualizada correctamente")):(await LW.create(t),y("\xc1rea creada correctamente")),S(),await b()}catch(r){console.error(r),y("Error al guardar el \xe1rea","error")}},children:[(0,m.jsx)(rC,{dividers:!0,children:(0,m.jsxs)(Hs,{sx:{display:"grid",gap:2},children:[(0,m.jsx)(Lf,{label:"Nombre *",value:c.nombre,error:!!p.nombre,helperText:p.nombre,onChange:e=>d(u(u({},c),{},{nombre:e.target.value})),fullWidth:!0,required:!0}),(0,m.jsx)(Lf,{label:"Descripci\xf3n",value:c.descripcion,onChange:e=>d(u(u({},c),{},{descripcion:e.target.value})),fullWidth:!0,multiline:!0,minRows:2}),(0,m.jsxs)(Hs,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[(0,m.jsx)(Lf,{label:"Max Personas *",type:"number",value:c.aforo_max,error:!!p.aforo_max,helperText:p.aforo_max,onChange:e=>d(u(u({},c),{},{aforo_max:+e.target.value})),fullWidth:!0,inputProps:{min:1},required:!0}),(0,m.jsx)(GW,{control:(0,m.jsx)(cU,{checked:c.requiere_aprobacion,onChange:e=>d(u(u({},c),{},{requiere_aprobacion:e.target.checked}))}),label:"Requiere aprobaci\xf3n"})]}),(0,m.jsxs)(Hs,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[(0,m.jsx)(Lf,{label:"Hora de apertura",type:"time",value:c.hora_apertura||"",onChange:e=>d(u(u({},c),{},{hora_apertura:e.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}}),(0,m.jsx)(Lf,{label:"Hora de cierre",type:"time",value:c.hora_cierre||"",onChange:e=>d(u(u({},c),{},{hora_cierre:e.target.value})),fullWidth:!0,InputLabelProps:{shrink:!0}})]}),(0,m.jsxs)(Hs,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:2},children:[(0,m.jsx)(Lf,{label:"Tiempo de Reserva (min) *",type:"number",value:c.max_duracion_min,error:!!p.max_duracion_min,helperText:p.max_duracion_min,onChange:e=>d(u(u({},c),{},{max_duracion_min:+e.target.value})),fullWidth:!0,inputProps:{min:1},required:!0}),(0,m.jsx)(Lf,{label:"Tiempo de Transici\xf3n (min)",type:"number",value:c.buffer_min,error:!!p.buffer_min,helperText:p.buffer_min,onChange:e=>d(u(u({},c),{},{buffer_min:+e.target.value})),fullWidth:!0,inputProps:{min:0}})]}),(0,m.jsxs)(Lf,{label:"Estado",value:c.activo?"Activa":"Inactiva",select:!0,onChange:e=>d(u(u({},c),{},{activo:"Activa"===e.target.value})),fullWidth:!0,children:[(0,m.jsx)($g,{value:"Activa",children:"Activa"}),(0,m.jsx)($g,{value:"Inactiva",children:"Inactiva"})]})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:S,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:s?"Guardar cambios":"Crear"})]})]})]}),(0,m.jsx)(CC,{open:h.open,autoHideDuration:4500,onClose:x,children:(0,m.jsx)(Qu,{onClose:x,severity:h.severity,variant:"filled",children:h.message})})]})}const mU={list:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Iv.get("/reservas/",{params:e})},listMine:()=>Iv.get("/reservas/",{params:{mias:1}}),create:e=>Iv.post("/reservas/",e),cancelar:e=>Iv.post("/reservas/".concat(e,"/cancelar/")),aprobar:e=>Iv.post("/reservas/".concat(e,"/aprobar/"))},vU=mU;function gU(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)([]),[a,i]=(0,t.useState)({area:"",inicio:"",fin:"",asistentes:1,motivo:""}),[s,l]=(0,t.useState)(!0),c=async()=>{l(!0);const[e,t]=await Promise.all([LW.list(),vU.listMine()]);n(e.data),o(t.data),l(!1)};(0,t.useEffect)(()=>{c()},[]);return s?(0,m.jsx)("p",{children:"Cargando reservas..."}):(0,m.jsxs)("div",{className:"container",children:[(0,m.jsx)("h2",{children:"Mis Reservas"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),await vU.create(a),i({area:"",inicio:"",fin:"",asistentes:1,motivo:""}),await c()},style:{display:"grid",gap:8,maxWidth:600},children:[(0,m.jsxs)("select",{value:a.area,onChange:e=>i(u(u({},a),{},{area:+e.target.value})),required:!0,children:[(0,m.jsx)("option",{value:"",children:"-- \xc1rea --"}),e.map(e=>(0,m.jsx)("option",{value:e.id,children:e.nombre},e.id))]}),(0,m.jsx)("input",{type:"datetime-local",value:a.inicio,onChange:e=>i(u(u({},a),{},{inicio:e.target.value})),required:!0}),(0,m.jsx)("input",{type:"datetime-local",value:a.fin,onChange:e=>i(u(u({},a),{},{fin:e.target.value})),required:!0}),(0,m.jsx)("input",{type:"number",min:1,value:a.asistentes,onChange:e=>i(u(u({},a),{},{asistentes:+e.target.value}))}),(0,m.jsx)("input",{placeholder:"Motivo (opcional)",value:a.motivo,onChange:e=>i(u(u({},a),{},{motivo:e.target.value}))}),(0,m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Reservar"})]}),(0,m.jsx)("h3",{style:{marginTop:24},children:"Listado"}),(0,m.jsxs)("table",{className:"table",children:[(0,m.jsx)("thead",{children:(0,m.jsxs)("tr",{children:[(0,m.jsx)("th",{children:"\xc1rea"}),(0,m.jsx)("th",{children:"Inicio"}),(0,m.jsx)("th",{children:"Fin"}),(0,m.jsx)("th",{children:"Asistentes"}),(0,m.jsx)("th",{children:"Estado"}),(0,m.jsx)("th",{})]})}),(0,m.jsx)("tbody",{children:r.map(e=>(0,m.jsxs)("tr",{children:[(0,m.jsx)("td",{children:e.area_nombre}),(0,m.jsx)("td",{children:new Date(e.inicio).toLocaleString()}),(0,m.jsx)("td",{children:new Date(e.fin).toLocaleString()}),(0,m.jsx)("td",{children:e.asistentes}),(0,m.jsx)("td",{children:e.estado}),(0,m.jsx)("td",{children:"CANCELADA"!==e.estado&&(0,m.jsx)("button",{className:"btn btn-outline",onClick:()=>(async e=>{await vU.cancelar(e),await c()})(e.id),children:"Cancelar"})})]},e.id))})]})]})}const yU=Lu((0,m.jsx)("path",{d:"M5 4v2h14V4zm0 10h4v6h6v-6h4l-7-7z"})),bU=Lu((0,m.jsx)("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"})),xU=Lu((0,m.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"})),wU=Lu((0,m.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"})),SU=Lu((0,m.jsx)("path",{d:"M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6z"})),CU=["BORRADOR","PENDIENTE","PUBLICADO","ARCHIVADO","RECHAZADO"],kU=[{value:"TODOS",label:"Todos"},{value:"SOLO_RESIDENTES",label:"Solo residentes"},{value:"SOLO_ADMIN",label:"Solo administradores"},{value:"POR_UNIDAD",label:"Por unidad"}],EU={titulo:"",contenido:"",requiere_aprobacion:!1,visibilidad:"TODOS",unidades_destino:[],vence_en:""},RU=e=>{switch(e){case"PUBLICADO":return"success";case"PENDIENTE":return"warning";case"ARCHIVADO":return"default";case"RECHAZADO":return"error";default:return"info"}},_U=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80;return e?e.length>t?e.slice(0,t)+"\u2026":e:"\u2014"};function IU(){const[e,n]=(0,t.useState)([]),[r,o]=(0,t.useState)(!0),[a,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(EU),[p,f]=(0,t.useState)([]),[h,v]=(0,t.useState)([]),[g,y]=(0,t.useState)({q:"",estado:"",vigentes:!0}),[b,x]=(0,t.useState)({open:!1,message:"",severity:"success"}),{tienePrivilegio:w}=DC(),S=(0,t.useCallback)(function(e){return x({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})},[]),C=()=>x(u(u({},b),{},{open:!1})),k=(0,t.useCallback)(async()=>{try{const{data:e}=await PC();f(e)}catch(Gk){console.error(Gk)}},[]),E=(0,t.useCallback)(async()=>{try{o(!0);const e={q:g.q||void 0,estado:g.estado||void 0,vigentes:g.vigentes?1:void 0},{data:t}=await yw.list(e);n(t)}catch(Gk){console.error(Gk),S("Error al cargar avisos","error")}finally{o(!1)}},[g,S]);(0,t.useEffect)(()=>{k()},[k]),(0,t.useEffect)(()=>{E()},[E]);const R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(l(e),d({titulo:e.titulo,contenido:e.contenido,requiere_aprobacion:e.requiere_aprobacion,visibilidad:e.visibilidad,unidades_destino:(e.unidades_destino||[]).map(e=>{var t;return null!==(t=e.id)&&void 0!==t?t:e}),vence_en:e.vence_en?e.vence_en.slice(0,16):""})):(l(null),d(EU)),v([]),i(!0)},_=()=>{i(!1),v([])},I=e=>d(t=>u(u({},t),{},{[e.target.name]:e.target.value})),T=async(e,t,n)=>{try{await e(t),S(n),E()}catch(Gk){console.error(Gk),S("Operaci\xf3n no disponible","error")}},A=w("avisos.create")||!0,P=w("avisos.edit")||!0,N=w("avisos.delete")||!0,M=w("avisos.publish")||!0,O=w("avisos.archive")||!0,D=w("avisos.approve")||!0,j=(0,t.useMemo)(()=>["T\xedtulo","Contenido","Estado","Vence","Visibilidad","Acciones"],[]);return(0,m.jsxs)(Hs,{children:[(0,m.jsxs)(Hs,{sx:{display:"flex",flexWrap:"wrap",gap:2,alignItems:"center",justifyContent:"space-between",mb:2},children:[(0,m.jsx)(ul,{variant:"h4",sx:{m:0},children:"Operaciones & Notificaciones - Avisos"}),A&&(0,m.jsx)(Qf,{variant:"contained",startIcon:(0,m.jsx)(kC,{}),onClick:()=>R(),children:"Nuevo Aviso"})]}),(0,m.jsxs)(Hs,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"2fr 1fr 1fr"},gap:1,mb:2},children:[(0,m.jsx)(Lf,{label:"Buscar",value:g.q,onChange:e=>y(u(u({},g),{},{q:e.target.value})),onKeyDown:e=>"Enter"===e.key&&E()}),(0,m.jsxs)(Lf,{select:!0,label:"Estado",value:g.estado,onChange:e=>y(u(u({},g),{},{estado:e.target.value})),children:[(0,m.jsx)($g,{value:"",children:"Todos"}),CU.map(e=>(0,m.jsx)($g,{value:e,children:e},e))]}),(0,m.jsx)(GW,{control:(0,m.jsx)(cU,{checked:g.vigentes,onChange:e=>y(u(u({},g),{},{vigentes:e.target.checked}))}),label:"Solo vigentes"})]}),(0,m.jsx)(Hs,{sx:{overflowX:"auto"},children:(0,m.jsxs)(Ww,{size:"medium",children:[(0,m.jsx)(Xw,{children:(0,m.jsx)(tS,{children:j.map(e=>(0,m.jsx)(sS,{children:e},e))})}),(0,m.jsxs)(fS,{children:[!r&&0===e.length&&(0,m.jsx)(tS,{children:(0,m.jsx)(sS,{colSpan:j.length,align:"center",children:"No hay avisos"})}),e.map(e=>{var t;return(0,m.jsxs)(tS,{hover:!0,children:[(0,m.jsx)(sS,{children:e.titulo}),(0,m.jsx)(sS,{children:(0,m.jsx)(mw,{title:e.contenido||"\u2014",placement:"top",arrow:!0,children:(0,m.jsx)(ul,{variant:"body2",noWrap:!0,sx:{maxWidth:420},children:_U(e.contenido,90)})})}),(0,m.jsx)(sS,{children:(0,m.jsx)(wg,{size:"small",label:e.estado,color:RU(e.estado)})}),(0,m.jsx)(sS,{children:e.vence_en?new Date(e.vence_en).toLocaleString():"\u2014"}),(0,m.jsx)(sS,{children:(null===(t=kU.find(t=>t.value===e.visibilidad))||void 0===t?void 0:t.label)||e.visibilidad}),(0,m.jsx)(sS,{children:(0,m.jsxs)(db,{direction:"row",spacing:.5,children:[P&&(0,m.jsx)(mw,{title:"Editar",children:(0,m.jsx)(Nu,{color:"primary",onClick:()=>R(e),children:(0,m.jsx)(EC,{})})}),M&&"PUBLICADO"!==e.estado&&"ARCHIVADO"!==e.estado&&(0,m.jsx)(mw,{title:"Publicar",children:(0,m.jsx)(Nu,{color:"success",onClick:()=>T(yw.publicar,e.id,"Publicado"),children:(0,m.jsx)(yU,{})})}),O&&"PUBLICADO"===e.estado&&(0,m.jsx)(mw,{title:"Archivar",children:(0,m.jsx)(Nu,{color:"default",onClick:()=>T(yw.archivar,e.id,"Archivado"),children:(0,m.jsx)(bU,{})})}),D&&e.requiere_aprobacion&&"PENDIENTE"===e.estado&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(mw,{title:"Aprobar (pasa a Borrador)",children:(0,m.jsx)(Nu,{color:"success",onClick:()=>T(yw.aprobar,e.id,"Aprobado"),children:(0,m.jsx)(xU,{})})}),(0,m.jsx)(mw,{title:"Rechazar",children:(0,m.jsx)(Nu,{color:"error",onClick:()=>T(yw.rechazar,e.id,"Rechazado"),children:(0,m.jsx)(wU,{})})})]}),N&&(0,m.jsx)(mw,{title:"Eliminar",children:(0,m.jsx)(Nu,{color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEliminar este aviso?"))try{await yw.remove(e),S("Aviso eliminado"),E()}catch(Gk){console.error(Gk),S("No se pudo eliminar","error")}})(e.id),children:(0,m.jsx)(RC,{})})})]})})]},e.id)})]})]})}),(0,m.jsxs)(XS,{open:a,onClose:_,maxWidth:"md",fullWidth:!0,children:[(0,m.jsx)(ZS,{children:s?"Editar Aviso":"Crear Aviso"}),(0,m.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=u(u({},c),{},{vence_en:c.vence_en?new Date(c.vence_en).toISOString():null});if(s)await yw.update(s.id,e),S("Aviso actualizado");else{const{data:t}=await yw.create(e);if(h.length)for(const e of h)await yw.uploadAdjunto(t.id,e);S("Aviso creado")}_(),E()}catch(t){console.error(t),S("Error al guardar aviso","error")}},children:[(0,m.jsx)(rC,{dividers:!0,children:(0,m.jsxs)(Hs,{sx:{display:"grid",gap:2},children:[(0,m.jsx)(Lf,{name:"titulo",label:"T\xedtulo *",value:c.titulo,onChange:I,required:!0,fullWidth:!0}),(0,m.jsx)(Lf,{name:"contenido",label:"Contenido *",value:c.contenido,onChange:I,required:!0,fullWidth:!0,multiline:!0,minRows:3}),(0,m.jsxs)(db,{direction:{xs:"column",md:"row"},spacing:2,alignItems:"center",children:[(0,m.jsx)(Lf,{select:!0,name:"visibilidad",label:"Visibilidad",value:c.visibilidad,onChange:I,fullWidth:!0,children:kU.map(e=>(0,m.jsx)($g,{value:e.value,children:e.label},e.value))}),(0,m.jsx)(GW,{control:(0,m.jsx)(cU,{name:"requiere_aprobacion",checked:c.requiere_aprobacion,onChange:e=>d(t=>u(u({},t),{},{[e.target.name]:e.target.checked}))}),label:"Requiere aprobaci\xf3n"})]}),"POR_UNIDAD"===c.visibilidad&&(0,m.jsx)(Lf,{select:!0,name:"unidades_destino",label:"Unidades destino",value:c.unidades_destino,onChange:e=>d(u(u({},c),{},{unidades_destino:e.target.value})),SelectProps:{multiple:!0},fullWidth:!0,children:p.map(e=>(0,m.jsxs)($g,{value:e.id,children:[e.torre," - ",e.piso," - ",e.numero]},e.id))}),(0,m.jsx)(Lf,{name:"vence_en",label:"Vence en",type:"datetime-local",value:c.vence_en,onChange:I,InputLabelProps:{shrink:!0},fullWidth:!0}),(0,m.jsx)(vb,{}),(0,m.jsx)(ul,{variant:"subtitle1",children:"Adjuntos"}),s?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(db,{direction:"row",spacing:2,alignItems:"center",sx:{flexWrap:"wrap"},children:(0,m.jsxs)(Qf,{variant:"outlined",component:"label",startIcon:(0,m.jsx)(SU,{}),children:["Subir archivo",(0,m.jsx)("input",{type:"file",hidden:!0,onChange:async e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n&&s)try{await yw.uploadAdjunto(s.id,n),S("Adjunto subido");const{data:e}=await yw.get(s.id);l(e)}catch(r){console.error(r),S("No se pudo subir el adjunto","error")}finally{e.target.value=""}}})]})}),(0,m.jsxs)(db,{spacing:1,sx:{mt:1},children:[(s.adjuntos||[]).map(e=>(0,m.jsxs)(db,{direction:"row",spacing:1,alignItems:"center",sx:{border:"1px solid #eee",p:1,borderRadius:1},children:[(0,m.jsx)(SU,{fontSize:"small"}),(0,m.jsx)(ul,{variant:"body2",sx:{flex:1},children:e.nombre_original||"archivo"}),(0,m.jsx)(mw,{title:"Descargar",children:(0,m.jsx)(Nu,{size:"small",onClick:()=>window.open(e.archivo,"_blank"),children:(0,m.jsx)(kw,{fontSize:"small"})})}),(0,m.jsx)(mw,{title:"Eliminar",children:(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>(async e=>{if(window.confirm("\xbfEliminar adjunto?"))try{await yw.deleteAdjunto(e),S("Adjunto eliminado");const{data:t}=await yw.get(s.id);l(t)}catch(t){console.error(t),S("Error al eliminar adjunto","error")}})(e.id),children:(0,m.jsx)(RC,{fontSize:"small"})})})]},e.id)),0===(s.adjuntos||[]).length&&(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"No hay adjuntos."})]})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(db,{direction:"row",spacing:2,alignItems:"center",sx:{flexWrap:"wrap"},children:[(0,m.jsxs)(Qf,{variant:"outlined",component:"label",startIcon:(0,m.jsx)(SU,{}),children:["Seleccionar archivos",(0,m.jsx)("input",{type:"file",hidden:!0,multiple:!0,onChange:e=>{const t=Array.from(e.target.files||[]);t.length&&(v(e=>[...e,...t]),e.target.value="")}})]}),(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"Se subir\xe1n al guardar el aviso."})]}),(0,m.jsxs)(db,{spacing:1,sx:{mt:1},children:[0===h.length&&(0,m.jsx)(ul,{variant:"body2",color:"text.secondary",children:"No hay archivos seleccionados."}),h.map((e,t)=>(0,m.jsxs)(db,{direction:"row",spacing:1,alignItems:"center",sx:{border:"1px solid #eee",p:1,borderRadius:1},children:[(0,m.jsx)(SU,{fontSize:"small"}),(0,m.jsx)(ul,{variant:"body2",sx:{flex:1},children:e.name}),(0,m.jsx)(mw,{title:"Quitar",children:(0,m.jsx)(Nu,{size:"small",color:"error",onClick:()=>{return e=t,void v(t=>t.filter((t,n)=>n!==e));var e},children:(0,m.jsx)(RC,{fontSize:"small"})})})]},t))]})]})]})}),(0,m.jsxs)(sC,{children:[(0,m.jsx)(Qf,{onClick:_,children:"Cancelar"}),(0,m.jsx)(Qf,{type:"submit",variant:"contained",children:s?"Guardar cambios":"Crear"})]})]})]}),(0,m.jsx)(CC,{open:b.open,autoHideDuration:4500,onClose:C,children:(0,m.jsx)(Qu,{onClose:C,severity:b.severity,variant:"filled",children:b.message})})]})}function TU(e){let{children:t}=e;const{isAuthenticated:n}=Mv();return n?t:(0,m.jsx)(mi,{to:"/login",replace:!0})}function AU(){return(0,m.jsxs)(yi,{children:[(0,m.jsx)(vi,{path:"/login",element:(0,m.jsx)(Dv,{})}),(0,m.jsx)(vi,{path:"/dashboard",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(Sw,{})})})}),(0,m.jsx)(vi,{path:"/usuarios",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(jW,{})})})}),(0,m.jsx)(vi,{path:"/roles",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(OW,{})})})}),(0,m.jsx)(vi,{path:"/privilegios",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(Tk,{})})})}),(0,m.jsx)(vi,{path:"/logout",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(jv,{})})})}),(0,m.jsx)(vi,{path:"/unidades",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(DW,{})})})}),(0,m.jsx)(vi,{path:"/cuotas",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(jC,{})})})}),(0,m.jsx)(vi,{path:"/bitacora",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(LS,{})})})}),(0,m.jsx)(vi,{path:"/areas-comunes",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(hU,{})})})}),(0,m.jsx)(vi,{path:"/areas",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(hU,{})})})}),(0,m.jsx)(vi,{path:"/areas/new",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(BW,{})})})}),(0,m.jsx)(vi,{path:"/areas/:id/edit",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(BW,{})})})}),(0,m.jsx)(vi,{path:"/reservas",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(gU,{})})})}),(0,m.jsx)(vi,{path:"/reconocimiento-facial",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(yW,{})})})}),(0,m.jsx)(vi,{path:"/registro-rostros",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(RW,{})})})}),(0,m.jsx)(vi,{path:"/gestion-rostros",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(Bk,{})})})}),(0,m.jsx)(vi,{path:"/avisos",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(IU,{})})})}),(0,m.jsx)(vi,{path:"/gestion-invitados",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(kk,{})})})}),(0,m.jsx)(vi,{path:"/monitor-acceso",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(vW,{})})})}),(0,m.jsx)(vi,{path:"/panel-monitoreo",element:(0,m.jsx)(TU,{children:(0,m.jsx)(yy,{children:(0,m.jsx)(gW,{})})})}),(0,m.jsx)(vi,{path:"/",element:(0,m.jsx)(mi,{to:"/dashboard",replace:!0})}),(0,m.jsx)(vi,{path:"*",element:(0,m.jsx)("div",{style:{padding:24},children:"404 - Recurso no encontrado"})})]})}function PU(){return(0,m.jsx)(Ov,{children:(0,m.jsx)(Ji,{children:(0,m.jsx)(AU,{})})})}const NU=Ro({palette:{primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f5f5f5"}},typography:{h4:{fontWeight:600},h5:{fontWeight:600},h6:{fontWeight:600}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8}}},MuiPaper:{styleOverrides:{root:{borderRadius:8}}}}});o.createRoot(document.getElementById("root")).render((0,m.jsx)(t.StrictMode,{children:(0,m.jsxs)(Mo,{theme:NU,children:[(0,m.jsx)(Go,{}),(0,m.jsx)(PU,{})]})}))})()})();
//# sourceMappingURL=main.a4f66dc5.js.map